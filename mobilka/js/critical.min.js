function recalcViewport(){viewportWidth=document.documentElement.clientWidth,viewportHeight=document.documentElement.clientHeight}function findIndexByKeyValue(e,t,i){for(var n=0;n<e.length;n++)if(e[n][t]==i)return n;return null}function getDigits(e){return e.replace(/\D+/g,"")}function contains(e){var t=e!=e;return-1<(t||"function"!=typeof Array.prototype.indexOf?function(e){var i=-1,n=-1;for(i=0;i<this.length;i++){var a=this[i];if(t&&a!=a||a===e){n=i;break}}return n}:Array.prototype.indexOf).call(this,e)}function toJSON(e){var t={};e=e.split("&");for(var i=0;i<e.length;i++){var n=e[i].split("=");t[n[0]]=n[1]}return t}function toSerialize(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function isEmpty(e){for(var t in e)return!1;return!0}function compileDom(e){if(void 0!==e&&"function"==typeof angular.element&&$(e).length){$(e).each(function(){var e=$(this);angular.element("body").injector().invoke(function(t){var i;e.length&&(i=angular.element(e).scope());try{t(e)(i)}catch(e){}})});try{myLazyLoad.update()}catch(e){}}}function debounce(e,t,i){var n;return function(){var a=this,o=arguments,r=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(a,o)},t),r&&e.apply(a,o)}}function setCookie(e,t,i){var n=(i=i||{}).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=i.expires=a}n&&n.toUTCString&&(i.expires=n.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var r in i){o+="; "+r;var s=i[r];!0!==s&&(o+="="+s)}document.cookie=o}function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function deleteCookie(e){setCookie(e,"",{expires:-1})}function searchToObject(){var e,t,i=window.location.search.substring(1).split("&"),n={};for(t in i)if(""!==i[t])try{e=i[t].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}catch(e){console.warn(e)}return n}function getBrowserInfo(){var e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===i[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),i.join(" "))}function stopAllVideo(e){$(".lazy-video",e).each(function(){var e=noAutoplay($(this).attr("src"),"autoplay=1");$(this).attr("src",e)})}function noAutoplay(e,t){var i=new RegExp("("+t+")","gi");return e.replace(i,"autoplay=0")}function listenRecaptchaClose(e){var t;$(document).find("iframe").each(function(i){$(this)[0].hasAttribute("src")&&-1!=$(this).attr("src").indexOf("google.com/recaptcha/api2/bframe")&&(t=this.parentNode.parentNode,new MutationObserver(function(i){return 0==t.style.opacity&&onCloseRecaptcha(e)}).observe(t,{attributes:!0,attributeFilter:["style"]}))})}function onCloseRecaptcha(e){e.removeClass("has-loader")}function iOSnoScroll(){var e=document.querySelector(".mfp-wrap"),t=null;e.addEventListener("touchstart",function(e){1===e.targetTouches.length&&(t=e.targetTouches[0].clientY)},!1),e.addEventListener("touchmove",function(i){1===i.targetTouches.length&&function(i){var n=i.targetTouches[0].clientY-t;0===e.scrollTop&&0<n&&i.preventDefault(),e.scrollHeight-e.scrollTop<=e.clientHeight&&n<0&&i.preventDefault()}(i)},!1)}function removeFromArray(e,t){return e.filter(function(e){return e!==t})}function pagePreloader(e){e?$("body").addClass("has-loader"):$("body").removeClass("has-loader")}function elementPreloader(e,t){$(e).length&&(t?$(e).addClass("has-loader"):$(e).removeClass("has-loader"))}function startTimer(e,t){var i,n,a,o=e;a=setInterval(function(){i=parseInt(o/60,10),n=(n=parseInt(o%60,10))<10?"0"+n:n,"string"==typeof t?$(t).html(i+"&nbsp;мин.&nbsp;"+n+"&nbsp;сек."):t.html(i+"&nbsp;мин.&nbsp;"+n+"&nbsp;сек."),--o<0&&(o=0)},1e3),startTimer.id&&clearInterval(startTimer.id),startTimer.id=a}function isInt(e){return Number(e)===e&&e%1==0}function isFloat(e){return Number(e)===e&&e%1!=0}function decimalZero(e){return parseFloat(e).toFixed(1)}var viewportWidth=document.documentElement.clientWidth,viewportHeight=document.documentElement.clientHeight,bannerID;0<+$(".box-offer").data("banner-id")&&(getCookie("banner_id")==$(".box-offer").data("banner-id")&&($(".box-offer").hide(),$(window).resize()),$(".offer-close").click(function(){setCookie("banner_id",bannerID=+$(this).closest(".box-offer").data("banner-id"),{expires:2592e3}),$(".box-offer").hide(),$(window).resize()})),$.fn.isInViewport=function(){var e={},t=$(this).offset().top,i=t+$(this).outerHeight(),n=$(window).scrollTop(),a=n+$(window).height();return e.elementTop=t,e.elementBottom=i,e.viewportTop=n,e.viewportBottom=a,e.isInViewport=n<i&&t<a,e},jQuery.event.special.doubletap={bindType:"touchend",delegateType:"touchend",handle:function(e){var t=e.handleObj,i=jQuery.data(e.target),n=(new Date).getTime(),a=i.lastTouch?n-i.lastTouch:0,o=null==o?300:o;a<o&&30<a?(i.lastTouch=null,e.type=t.origType,["clientX","clientY","pageX","pageY"].forEach(function(t){e[t]=e.originalEvent.changedTouches[0][t]}),t.handler.apply(this,arguments)):i.lastTouch=n}};var simulateClick=function(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)},isCyrillicSymbol=function(e){return"А"<=e&&e<="я"||"Ё"==e||"ё"==e},is_touch_device=function(){var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||window.navigator.maxTouchPoints)||function(e){return window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))};$(function(){$(".box-sideinfo__options").length&&"Выбрать"!==$(".box-sideinfo__options .option .bs-placeholder").attr("title")&&$(".box-sideinfo__options .option").children(".elem-select-custom").addClass("has-spinner")}),function(){"use strict";angular.module("MassAutoComplete",[]).provider("massAutocompleteConfig",function(){var e=this;e.KEYS={TAB:9,ESC:27,ENTER:13,UP:38,DOWN:40},e.EVENTS={KEYDOWN:"keydown",RESIZE:"resize",BLUR:"blur"},e.DEBOUNCE={position:150,attach:300,suggest:200,blur:150},e.generate_random_id=function(e){return e+"_"+Math.random().toString().substring(2)},e.position_autocomplete=function(e,t){if(void 0!==t){var i=t[0].getBoundingClientRect(),n=document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset,a=document.body.scrollLeft||document.documentElement.scrollLeft||window.pageXOffset;e[0].style.top=i.top+i.height+n+"px",e[0].style.left=i.left+a+"px",e[0].style.width=i.width+"px"}},e.CLASSES={container:"ac-container",menu:"ac-menu",menu_item:"ac-menu-item",menu_item_focus:"ac-state-focus"},this.$get=function(){return e}}).directive("massAutocomplete",["massAutocompleteConfig","$timeout","$window","$document","$q",function(e,t,i,n,a){return{restrict:"A",scope:{options:"&massAutocomplete"},transclude:!0,template:'<span ng-transclude></span><div class="'+e.CLASSES.container+'"aria-autocomplete="list" role="listbox" ng-show="show_autocomplete"><ul class="'+e.CLASSES.menu+'"> <li ng-repeat="result in results" ng-if="$index > 0" class="'+e.CLASSES.menu_item+'" role="option" id="{{result.id}}" ng-class="$index == selected_index ? \''+e.CLASSES.menu_item_focus+'\': \'\'"><a ng-click="apply_selection($index)" ng-bind-html="result.label"></a></li></ul></div>',link:function(e,t){e.container=angular.element(t[0].getElementsByClassName("ac-container")[0]),e.container[0].style.position="absolute"},controller:["$scope",function(o){function r(){o.show_autocomplete=!0}function s(){o.show_autocomplete=!1,o.selected_index=-1,o.container[0].removeAttribute("aria-activedescendant"),_=void 0}function l(e,i,n){var a;return function(){var o=this,r=arguments,s=n&&!a;t.cancel(a),a=t(function(){a=null,n||e.apply(o,r)},i),s&&e.apply(o,r)}}function c(t){return!(t.id&&""!==t.id||(t.id=e.generate_random_id("ac_element"),0))}function d(){e.position_autocomplete(o.container,g)}function u(e){v.$modelValue!==e&&(v.$setViewValue(e),v.$render())}function p(e){var t=o.results[e];return g.val(t.value),o.selected_index=e,o.container[0].setAttribute("aria-activedescendant",t.id),t}function h(){angular.element(i).bind(e.EVENTS.RESIZE,S),f[e.EVENTS.BLUR]=function(){t(function(){g&&g[0]===n[0].activeElement||m.detach()},k.debounce_blur)},g.bind(e.EVENTS.BLUR,f[e.EVENTS.BLUR]),f[e.EVENTS.KEYDOWN]=function(t){if(!t.shiftKey)switch(t.keyCode){case e.KEYS.ESC:o.show_autocomplete?(s(),o.$apply()):g.val(w);break;case e.KEYS.ENTER:o.show_autocomplete&&0<o.selected_index&&!o.waiting_for_suggestion&&(o.apply_selection(o.selected_index),t.stopPropagation(),t.preventDefault()),s(),o.$apply();break;case e.KEYS.TAB:if(!o.show_autocomplete)break;t.preventDefault();case e.KEYS.DOWN:0<o.results.length&&(o.show_autocomplete?p(o.selected_index+1>o.results.length-1?0:o.selected_index+1):(r(),p(0)),o.$apply());break;case e.KEYS.UP:o.show_autocomplete&&(t.preventDefault(),p(0<=o.selected_index-1?o.selected_index-1:o.results.length-1),o.$apply())}},g.bind(e.EVENTS.KEYDOWN,f[e.EVENTS.KEYDOWN])}var m=this,f={};f[e.EVENTS.BLUR]=null,f[e.EVENTS.KEYDOWN]=null,f[e.EVENTS.RESIZE]=null;var g,v,b,w,y,_,C,x=o.options()||{},k={debounce_position:x.debounce_position||e.DEBOUNCE.position,debounce_attach:x.debounce_attach||e.DEBOUNCE.attach,debounce_suggest:x.debounce_suggest||e.DEBOUNCE.suggest,debounce_blur:x.debounce_blur||e.DEBOUNCE.blur};o.show_autocomplete=!1;var S=l(d,k.debounce_position),T=l(function(t,i){o.selected_index=0,o.waiting_for_suggestion=!0,"string"==typeof t&&0<t.length?a.when(b.suggest(t),function(n){g&&g===i&&(n&&0<n.length?(n.forEach(function(t){t.id||(t.id=e.generate_random_id("ac_item"))}),o.results=[{value:t,label:"",id:""}].concat(n),r(),b.auto_select_first&&p(1)):(o.results=[],s()))},function(e){s(),b.on_error&&b.on_error(e)}).finally(function(){o.waiting_for_suggestion=!1}):(o.waiting_for_suggestion=!1,s(),o.$apply())},k.debounce_suggest);m.attach=l(function(e,t,i){g!==t&&(g&&m.detach(),t[0]===n[0].activeElement&&(i.on_attach&&i.on_attach(),g=t,b=i,w=(v=e).$viewValue,C=c(t),o.container[0].setAttribute("aria-labelledby",g.id),o.results=[],o.selected_index=-1,h(),y=o.$watch(function(){return e.$modelValue},function(e){e!==_&&(d(),T(e,g))})))},k.debounce_attach),m.detach=function(){if(g){var t=g.val();u(t),b.on_detach&&b.on_detach(t),g.unbind(e.EVENTS.KEYDOWN,f[e.EVENTS.KEYDOWN]),g.unbind(e.EVENTS.BLUR,f[e.EVENTS.BLUR]),C&&g[0].removeAttribute("id")}s(),o.container[0].removeAttribute("aria-labelledby"),angular.element(i).unbind(e.EVENTS.RESIZE,f[e.EVENTS.RESIZE]),y&&y(),o.selected_index=o.results=void 0,v=g=w=void 0},o.apply_selection=function(e){if(g[0].focus(),!(!o.show_autocomplete||e>o.results.length||e<0)){var t=p(e);_=t.value,u(t.value),s(),b.on_select&&b.on_select(t)}},o.$on("$destroy",function(){m.detach(),o.container.remove()})}]}}]).directive("massAutocompleteItem",function(){return{restrict:"A",require:["^massAutocomplete","ngModel"],scope:{massAutocompleteItem:"&"},link:function(e,t,i,n){i.$set("autocomplete","off");var a=n[0],o=n[1];t.bind("focus",function(){var i=e.massAutocompleteItem();if(!i)throw new Error("Invalid options");a.attach(o,t,i)})}}})}();var Autocomplete=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(){var t,a=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=r.search,l=r.autoSelect,c=void 0!==l&&l,d=r.setValue,u=void 0===d?function(){}:d,p=r.setAttribute,h=void 0===p?function(){}:p,m=r.onUpdate,f=void 0===m?function(){}:m,g=r.onSubmit,v=void 0===g?function(){}:g,b=r.onShow,w=void 0===b?function(){}:b,y=r.onHide,_=void 0===y?function(){}:y,C=r.onLoading,x=void 0===C?function(){}:C,k=r.onLoaded,S=void 0===k?function(){}:k;e(this,n),i(this,"value",""),i(this,"searchCounter",0),i(this,"results",[]),i(this,"selectedIndex",-1),i(this,"handleInput",function(e){var t=e.target.value;a.updateResults(t),a.value=t}),i(this,"handleKeyDown",function(e){var t=e.key;switch(t){case"Up":case"Down":case"ArrowUp":case"ArrowDown":var i="ArrowUp"===t||"Up"===t?a.selectedIndex-1:a.selectedIndex+1;e.preventDefault(),a.handleArrows(i);break;case"Tab":a.selectResult();break;case"Enter":var n=a.results[a.selectedIndex];a.selectResult(),a.onSubmit(n);break;case"Esc":case"Escape":a.hideResults(),a.setValue();break;default:return}}),i(this,"handleFocus",function(e){var t=e.target.value;a.updateResults(t),a.value=t}),i(this,"handleBlur",function(){a.hideResults()}),i(this,"handleResultMouseDown",function(e){e.preventDefault()}),i(this,"handleResultClick",function(e){var t=e.target,i=o(t,"[data-result-index]");if(i){a.selectedIndex=parseInt(i.dataset.resultIndex,10);var n=a.results[a.selectedIndex];a.selectResult(),a.onSubmit(n)}}),i(this,"handleArrows",function(e){var t=a.results.length;a.selectedIndex=(e%t+t)%t,a.onUpdate(a.results,a.selectedIndex)}),i(this,"selectResult",function(){var e=a.results[a.selectedIndex];e&&a.setValue(e),a.hideResults()}),i(this,"updateResults",function(e){var t=++a.searchCounter;a.onLoading(),a.search(e).then(function(e){t===a.searchCounter&&(a.results=e,a.onLoaded(),0!==a.results.length?(a.selectedIndex=a.autoSelect?0:-1,a.onUpdate(a.results,a.selectedIndex),a.showResults()):a.hideResults())})}),i(this,"showResults",function(){a.setAttribute("aria-expanded",!0),a.onShow()}),i(this,"hideResults",function(){a.selectedIndex=-1,a.results=[],a.setAttribute("aria-expanded",!1),a.setAttribute("aria-activedescendant",""),a.onUpdate(a.results,a.selectedIndex),a.onHide()}),i(this,"checkSelectedResultVisible",function(e){var t=e.querySelector('[data-result-index="'.concat(a.selectedIndex,'"]'));if(t){var i=e.getBoundingClientRect(),n=t.getBoundingClientRect();n.top<i.top?e.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(e.scrollTop+=n.bottom-i.bottom)}}),this.search=(t=s,Boolean(t&&"function"==typeof t.then)?s:function(e){return Promise.resolve(s(e))}),this.autoSelect=c,this.setValue=u,this.setAttribute=h,this.onUpdate=f,this.onSubmit=v,this.onShow=w,this.onHide=_,this.onLoading=x,this.onLoaded=S}var a=function(e,t){return e.matches?e.matches(t):e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):null},o=function(e,t){return e.closest?e.closest(t):function(e,t){for(var i=e;i&&1===i.nodeType;){if(a(i,t))return i;i=i.parentNode}return null}(e,t)},r=0,s=function(){function i(t,n,a){e(this,i),this.id="".concat(a,"-result-").concat(t),this.class="".concat(a,"-result"),this["data-result-index"]=t,this.role="option",t===n&&(this["aria-selected"]="true")}var n,a;return n=i,(a=[{key:"toString",value:function(){var e=this;return Object.keys(this).reduce(function(t,i){return"".concat(t," ").concat(i,'="').concat(e[i],'"')},"")}}])&&t(n.prototype,a),i}();return function t(a){var o=this,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=l.search,d=l.onSubmit,u=void 0===d?function(){}:d,p=l.baseClass,h=void 0===p?"autocomplete":p,m=l.autoSelect,f=l.getResultValue,g=void 0===f?function(e){return e}:f,v=l.renderResult;e(this,t),i(this,"expanded",!1),i(this,"loading",!1),i(this,"position",{}),i(this,"resetPosition",!0),i(this,"initialize",function(){o.root.style.position="relative",o.input.setAttribute("role","combobox"),o.input.setAttribute("autocomplete","off"),o.input.setAttribute("autocapitalize","off"),o.input.setAttribute("autocorrect","off"),o.input.setAttribute("spellcheck","false"),o.input.setAttribute("aria-autocomplete","list"),o.input.setAttribute("aria-haspopup","listbox"),o.input.setAttribute("aria-expanded","false"),o.resultList.setAttribute("role","listbox"),o.resultList.style.position="absolute",o.resultList.style.zIndex="1",o.resultList.style.width="100%",o.resultList.style.boxSizing="border-box",o.resultList.id||(o.resultList.id=function(e){return"".concat(0<arguments.length&&void 0!==e?e:"").concat(++r)}("".concat(o.baseClass,"-result-list-"))),o.input.setAttribute("aria-owns",o.resultList.id),document.body.addEventListener("click",o.handleDocumentClick),o.input.addEventListener("input",o.core.handleInput),o.input.addEventListener("keydown",o.core.handleKeyDown),o.input.addEventListener("focus",o.core.handleFocus),o.input.addEventListener("blur",o.core.handleBlur),o.resultList.addEventListener("mousedown",o.core.handleResultMouseDown),o.resultList.addEventListener("click",o.core.handleResultClick),o.updateStyle()}),i(this,"setAttribute",function(e,t){o.input.setAttribute(e,t)}),i(this,"setValue",function(e){o.input.value=e?o.getResultValue(e):""}),i(this,"renderResult",function(e,t){return"<li ".concat(t,">").concat(o.getResultValue(e),"</li>")}),i(this,"handleUpdate",function(e,t){var i,n,a,r;o.resultList.innerHTML="",e.forEach(function(e,i){var n=new s(i,t,o.baseClass),a=o.renderResult(e,n);"string"==typeof a?o.resultList.insertAdjacentHTML("beforeend",a):o.resultList.insertAdjacentElement("beforeend",a)}),o.input.setAttribute("aria-activedescendant",-1<t?"".concat(o.baseClass,"-result-").concat(t):""),o.resetPosition&&(o.resetPosition=!1,o.position=(i=o.input,n=o.resultList,a=i.getBoundingClientRect(),r=n.getBoundingClientRect(),a.bottom+r.height>window.innerHeight&&window.innerHeight-a.bottom<a.top&&0<window.pageYOffset+a.top-r.height?"above":"below"),o.updateStyle()),o.core.checkSelectedResultVisible(o.resultList)}),i(this,"handleShow",function(){o.expanded=!0,o.updateStyle()}),i(this,"handleHide",function(){o.expanded=!1,o.resetPosition=!0,o.updateStyle()}),i(this,"handleLoading",function(){o.loading=!0,o.updateStyle()}),i(this,"handleLoaded",function(){o.loading=!1,o.updateStyle()}),i(this,"handleDocumentClick",function(e){o.root.contains(e.target)||o.core.hideResults()}),i(this,"updateStyle",function(){o.root.dataset.expanded=o.expanded,o.root.dataset.loading=o.loading,o.root.dataset.position=o.position,o.resultList.style.visibility=o.expanded?"visible":"hidden",o.resultList.style.pointerEvents=o.expanded?"auto":"none","below"===o.position?(o.resultList.style.bottom=null,o.resultList.style.top="100%"):(o.resultList.style.top=null,o.resultList.style.bottom="100%")}),this.root="string"==typeof a?document.querySelector(a):a,this.input=this.root.querySelector("input"),this.resultList=this.root.querySelector("ul"),this.baseClass=h,this.getResultValue=g,"function"==typeof v&&(this.renderResult=v),this.core=new n({search:c,autoSelect:m,setValue:this.setValue,setAttribute:this.setAttribute,onUpdate:this.handleUpdate,onSubmit:u,onShow:this.handleShow,onHide:this.handleHide,onLoading:this.handleLoading,onLoaded:this.handleLoaded}),this.initialize()}}(),carouselSwiper;!function(){"use strict";var e,t,i=function(t,n){function a(e){return Math.floor(e)}function o(){var e=w.params.autoplay,t=w.slides.eq(w.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||w.params.autoplay),w.autoplayTimeoutId=setTimeout(function(){w.params.loop?(w.fixLoop(),w._slideNext(),w.emit("onAutoplay",w)):w.isEnd?n.autoplayStopOnLast?w.stopAutoplay():(w._slideTo(0),w.emit("onAutoplay",w)):(w._slideNext(),w.emit("onAutoplay",w))},e)}function r(t,i){var n=e(t.target);if(!n.is(i))if("string"==typeof i)n=n.parents(i);else if(i.nodeType){var a;return n.parents().each(function(e,t){t===i&&(a=i)}),a?i:void 0}if(0!==n.length)return n[0]}function s(e,t){t=t||{};var i=new(window.MutationObserver||window.WebkitMutationObserver)(function(e){e.forEach(function(e){w.onResize(!0),w.emit("onObserverUpdate",w,e)})});i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),w.observers.push(i)}function l(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!w.params.allowSwipeToNext&&(w.isHorizontal()&&39===t||!w.isHorizontal()&&40===t))return!1;if(!w.params.allowSwipeToPrev&&(w.isHorizontal()&&37===t||!w.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var i=!1;if(0<w.container.parents("."+w.params.slideClass).length&&0===w.container.parents("."+w.params.slideActiveClass).length)return;var n=window.pageXOffset,a=window.pageYOffset,o=window.innerWidth,r=window.innerHeight,s=w.container.offset();w.rtl&&(s.left=s.left-w.container[0].scrollLeft);for(var l=[[s.left,s.top],[s.left+w.width,s.top],[s.left,s.top+w.height],[s.left+w.width,s.top+w.height]],c=0;c<l.length;c++){var d=l[c];d[0]>=n&&d[0]<=n+o&&d[1]>=a&&d[1]<=a+r&&(i=!0)}if(!i)return}w.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!w.rtl||37===t&&w.rtl)&&w.slideNext(),(37===t&&!w.rtl||39===t&&w.rtl)&&w.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&w.slideNext(),38===t&&w.slidePrev()),w.emit("onKeyPress",w,t)}}function c(e){e.originalEvent&&(e=e.originalEvent);var t=0,i=w.rtl?-1:1,n=function(e){var t=0,i=0,n=0,a=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),n=10*t,a=10*i,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||a)&&e.deltaMode&&(1===e.deltaMode?(n*=40,a*=40):(n*=800,a*=800)),n&&!t&&(t=n<1?-1:1),a&&!i&&(i=a<1?-1:1),{spinX:t,spinY:i,pixelX:n,pixelY:a}}(e);if(w.params.mousewheelForceToAxis)if(w.isHorizontal()){if(!(Math.abs(n.pixelX)>Math.abs(n.pixelY)))return;t=n.pixelX*i}else{if(!(Math.abs(n.pixelY)>Math.abs(n.pixelX)))return;t=n.pixelY}else t=Math.abs(n.pixelX)>Math.abs(n.pixelY)?-n.pixelX*i:-n.pixelY;if(0!==t){if(w.params.mousewheelInvert&&(t=-t),w.params.freeMode){var a=w.getWrapperTranslate()+t*w.params.mousewheelSensitivity,o=w.isBeginning,r=w.isEnd;if(a>=w.minTranslate()&&(a=w.minTranslate()),a<=w.maxTranslate()&&(a=w.maxTranslate()),w.setWrapperTransition(0),w.setWrapperTranslate(a),w.updateProgress(),w.updateActiveIndex(),(!o&&w.isBeginning||!r&&w.isEnd)&&w.updateClasses(),w.params.freeModeSticky?(clearTimeout(w.mousewheel.timeout),w.mousewheel.timeout=setTimeout(function(){w.slideReset()},300)):w.params.lazyLoading&&w.lazy&&w.lazy.load(),w.emit("onScroll",w,e),w.params.autoplay&&w.params.autoplayDisableOnInteraction&&w.stopAutoplay(),0===a||a===w.maxTranslate())return}else{if(60<(new window.Date).getTime()-w.mousewheel.lastScrollTime)if(t<0)if(w.isEnd&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slideNext(),w.emit("onScroll",w,e);else if(w.isBeginning&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slidePrev(),w.emit("onScroll",w,e);w.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function d(t,i){t=e(t);var n,a,o,r=w.rtl?-1:1;n=t.attr("data-swiper-parallax")||"0",a=t.attr("data-swiper-parallax-x"),o=t.attr("data-swiper-parallax-y"),a||o?(a=a||"0",o=o||"0"):w.isHorizontal()?(a=n,o="0"):(o=n,a="0"),a=0<=a.indexOf("%")?parseInt(a,10)*i*r+"%":a*i*r+"px",o=0<=o.indexOf("%")?parseInt(o,10)*i+"%":o*i+"px",t.transform("translate3d("+a+", "+o+",0px)")}function u(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof i))return new i(t,n);var p={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},h=n&&n.virtualTranslate;n=n||{};var m={};for(var f in n)if("object"!=typeof n[f]||null===n[f]||n[f].nodeType||n[f]===window||n[f]===document||"undefined"!=typeof Dom7&&n[f]instanceof Dom7||"undefined"!=typeof jQuery&&n[f]instanceof jQuery)m[f]=n[f];else for(var g in m[f]={},n[f])m[f][g]=n[f][g];for(var v in p)if(void 0===n[v])n[v]=p[v];else if("object"==typeof n[v])for(var b in p[v])void 0===n[v][b]&&(n[v][b]=p[v][b]);var w=this;if(w.params=n,w.originalParams=m,w.classNames=[],void 0!==e&&"undefined"!=typeof Dom7&&(e=Dom7),(void 0!==e||(e="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(w.$=e,w.currentBreakpoint=void 0,w.getActiveBreakpoint=function(){if(!w.params.breakpoints)return!1;var e,t=!1,i=[];for(e in w.params.breakpoints)w.params.breakpoints.hasOwnProperty(e)&&i.push(e);i.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var n=0;n<i.length;n++)(e=i[n])>=window.innerWidth&&!t&&(t=e);return t||"max"},w.setBreakpoint=function(){var e=w.getActiveBreakpoint();if(e&&w.currentBreakpoint!==e){var t=e in w.params.breakpoints?w.params.breakpoints[e]:w.originalParams,i=w.params.loop&&t.slidesPerView!==w.params.slidesPerView;for(var n in t)w.params[n]=t[n];w.currentBreakpoint=e,i&&w.destroyLoop&&w.reLoop(!0)}},w.params.breakpoints&&w.setBreakpoint(),w.container=e(t),0!==w.container.length)){if(1<w.container.length){var y=[];return w.container.each(function(){y.push(new i(this,n))}),y}(w.container[0].swiper=w).container.data("swiper",w),w.classNames.push(w.params.containerModifierClass+w.params.direction),w.params.freeMode&&w.classNames.push(w.params.containerModifierClass+"free-mode"),w.support.flexbox||(w.classNames.push(w.params.containerModifierClass+"no-flexbox"),w.params.slidesPerColumn=1),w.params.autoHeight&&w.classNames.push(w.params.containerModifierClass+"autoheight"),(w.params.parallax||w.params.watchSlidesVisibility)&&(w.params.watchSlidesProgress=!0),w.params.touchReleaseOnEdges&&(w.params.resistanceRatio=0),0<=["cube","coverflow","flip"].indexOf(w.params.effect)&&(w.support.transforms3d?(w.params.watchSlidesProgress=!0,w.classNames.push(w.params.containerModifierClass+"3d")):w.params.effect="slide"),"slide"!==w.params.effect&&w.classNames.push(w.params.containerModifierClass+w.params.effect),"cube"===w.params.effect&&(w.params.resistanceRatio=0,w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.centeredSlides=!1,w.params.spaceBetween=0,w.params.virtualTranslate=!0),"fade"!==w.params.effect&&"flip"!==w.params.effect||(w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.watchSlidesProgress=!0,void(w.params.spaceBetween=0)===h&&(w.params.virtualTranslate=!0)),w.params.grabCursor&&w.support.touch&&(w.params.grabCursor=!1),w.wrapper=w.container.children("."+w.params.wrapperClass),w.params.pagination&&(w.paginationContainer=e(w.params.pagination),w.params.uniqueNavElements&&"string"==typeof w.params.pagination&&1<w.paginationContainer.length&&1===w.container.find(w.params.pagination).length&&(w.paginationContainer=w.container.find(w.params.pagination)),"bullets"===w.params.paginationType&&w.params.paginationClickable?w.paginationContainer.addClass(w.params.paginationModifierClass+"clickable"):w.params.paginationClickable=!1,w.paginationContainer.addClass(w.params.paginationModifierClass+w.params.paginationType)),(w.params.nextButton||w.params.prevButton)&&(w.params.nextButton&&(w.nextButton=e(w.params.nextButton),w.params.uniqueNavElements&&"string"==typeof w.params.nextButton&&1<w.nextButton.length&&1===w.container.find(w.params.nextButton).length&&(w.nextButton=w.container.find(w.params.nextButton))),w.params.prevButton&&(w.prevButton=e(w.params.prevButton),w.params.uniqueNavElements&&"string"==typeof w.params.prevButton&&1<w.prevButton.length&&1===w.container.find(w.params.prevButton).length&&(w.prevButton=w.container.find(w.params.prevButton)))),w.isHorizontal=function(){return"horizontal"===w.params.direction},w.rtl=w.isHorizontal()&&("rtl"===w.container[0].dir.toLowerCase()||"rtl"===w.container.css("direction")),w.rtl&&w.classNames.push(w.params.containerModifierClass+"rtl"),w.rtl&&(w.wrongRTL="-webkit-box"===w.wrapper.css("display")),1<w.params.slidesPerColumn&&w.classNames.push(w.params.containerModifierClass+"multirow"),
w.device.android&&w.classNames.push(w.params.containerModifierClass+"android"),w.container.addClass(w.classNames.join(" ")),w.translate=0,w.progress=0,w.velocity=0,w.lockSwipeToNext=function(){(w.params.allowSwipeToNext=!1)===w.params.allowSwipeToPrev&&w.params.grabCursor&&w.unsetGrabCursor()},w.lockSwipeToPrev=function(){(w.params.allowSwipeToPrev=!1)===w.params.allowSwipeToNext&&w.params.grabCursor&&w.unsetGrabCursor()},w.lockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!1,w.params.grabCursor&&w.unsetGrabCursor()},w.unlockSwipeToNext=function(){(w.params.allowSwipeToNext=!0)===w.params.allowSwipeToPrev&&w.params.grabCursor&&w.setGrabCursor()},w.unlockSwipeToPrev=function(){(w.params.allowSwipeToPrev=!0)===w.params.allowSwipeToNext&&w.params.grabCursor&&w.setGrabCursor()},w.unlockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!0,w.params.grabCursor&&w.setGrabCursor()},w.setGrabCursor=function(e){w.container[0].style.cursor="move",w.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",w.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",w.container[0].style.cursor=e?"grabbing":"grab"},w.unsetGrabCursor=function(){w.container[0].style.cursor=""},w.params.grabCursor&&w.setGrabCursor(),w.imagesToLoad=[],w.imagesLoaded=0,w.loadImage=function(e,t,i,n,a,o){function r(){o&&o()}var s;e.complete&&a?r():t?((s=new window.Image).onload=r,s.onerror=r,n&&(s.sizes=n),i&&(s.srcset=i),t&&(s.src=t)):r()},w.preloadImages=function(){function e(){null!=w&&w&&(void 0!==w.imagesLoaded&&w.imagesLoaded++,w.imagesLoaded===w.imagesToLoad.length&&(w.params.updateOnImagesReady&&w.update(),w.emit("onImagesReady",w)))}w.imagesToLoad=w.container.find("img");for(var t=0;t<w.imagesToLoad.length;t++)w.loadImage(w.imagesToLoad[t],w.imagesToLoad[t].currentSrc||w.imagesToLoad[t].getAttribute("src"),w.imagesToLoad[t].srcset||w.imagesToLoad[t].getAttribute("srcset"),w.imagesToLoad[t].sizes||w.imagesToLoad[t].getAttribute("sizes"),!0,e)},w.autoplayTimeoutId=void 0,w.autoplaying=!1,w.autoplayPaused=!1,w.startAutoplay=function(){return void 0===w.autoplayTimeoutId&&!!w.params.autoplay&&!w.autoplaying&&(w.autoplaying=!0,w.emit("onAutoplayStart",w),void o())},w.stopAutoplay=function(e){w.autoplayTimeoutId&&(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplaying=!1,w.autoplayTimeoutId=void 0,w.emit("onAutoplayStop",w))},w.pauseAutoplay=function(e){w.autoplayPaused||(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplayPaused=!0,0===e?(w.autoplayPaused=!1,o()):w.wrapper.transitionEnd(function(){w&&(w.autoplayPaused=!1,w.autoplaying?o():w.stopAutoplay())}))},w.minTranslate=function(){return-w.snapGrid[0]},w.maxTranslate=function(){return-w.snapGrid[w.snapGrid.length-1]},w.updateAutoHeight=function(){var e,t=[],i=0;if("auto"!==w.params.slidesPerView&&1<w.params.slidesPerView)for(e=0;e<Math.ceil(w.params.slidesPerView);e++){var n=w.activeIndex+e;if(n>w.slides.length)break;t.push(w.slides.eq(n)[0])}else t.push(w.slides.eq(w.activeIndex)[0]);for(e=0;e<t.length;e++)if(void 0!==t[e]){var a=t[e].offsetHeight;i=i<a?a:i}i&&w.wrapper.css("height",i+"px")},w.updateContainerSize=function(){var e,t;e=void 0!==w.params.width?w.params.width:w.container[0].clientWidth,t=void 0!==w.params.height?w.params.height:w.container[0].clientHeight,0===e&&w.isHorizontal()||0===t&&!w.isHorizontal()||(e=e-parseInt(w.container.css("padding-left"),10)-parseInt(w.container.css("padding-right"),10),t=t-parseInt(w.container.css("padding-top"),10)-parseInt(w.container.css("padding-bottom"),10),w.width=e,w.height=t,w.size=w.isHorizontal()?w.width:w.height)},w.updateSlidesSize=function(){w.slides=w.wrapper.children("."+w.params.slideClass),w.snapGrid=[],w.slidesGrid=[],w.slidesSizesGrid=[];var e,t=w.params.spaceBetween,i=-w.params.slidesOffsetBefore,n=0,o=0;if(void 0!==w.size){var r;"string"==typeof t&&0<=t.indexOf("%")&&(t=parseFloat(t.replace("%",""))/100*w.size),w.virtualSize=-t,w.rtl?w.slides.css({marginLeft:"",marginTop:""}):w.slides.css({marginRight:"",marginBottom:""}),1<w.params.slidesPerColumn&&(r=Math.floor(w.slides.length/w.params.slidesPerColumn)===w.slides.length/w.params.slidesPerColumn?w.slides.length:Math.ceil(w.slides.length/w.params.slidesPerColumn)*w.params.slidesPerColumn,"auto"!==w.params.slidesPerView&&"row"===w.params.slidesPerColumnFill&&(r=Math.max(r,w.params.slidesPerView*w.params.slidesPerColumn)));var s,l,c=w.params.slidesPerColumn,d=r/c,u=d-(w.params.slidesPerColumn*d-w.slides.length);for(e=0;e<w.slides.length;e++){s=0;var p,h,m,f=w.slides.eq(e);1<w.params.slidesPerColumn&&("column"===w.params.slidesPerColumnFill?(m=e-(h=Math.floor(e/c))*c,(u<h||h===u&&m===c-1)&&++m>=c&&(m=0,h++),p=h+m*r/c,f.css({"-webkit-box-ordinal-group":p,"-moz-box-ordinal-group":p,"-ms-flex-order":p,"-webkit-order":p,order:p})):h=e-(m=Math.floor(e/d))*d,f.css("margin-"+(w.isHorizontal()?"top":"left"),0!==m&&w.params.spaceBetween&&w.params.spaceBetween+"px").attr("data-swiper-column",h).attr("data-swiper-row",m)),"none"!==f.css("display")&&("auto"===w.params.slidesPerView?(s=w.isHorizontal()?f.outerWidth(!0):f.outerHeight(!0),w.params.roundLengths&&(s=a(s))):(s=(w.size-(w.params.slidesPerView-1)*t)/w.params.slidesPerView,w.params.roundLengths&&(s=a(s)),w.isHorizontal()?w.slides[e].style.width=s+"px":w.slides[e].style.height=s+"px"),w.slides[e].swiperSlideSize=s,w.slidesSizesGrid.push(s),w.params.centeredSlides?(i=i+s/2+n/2+t,0===n&&0!==e&&(i=i-w.size/2-t),0===e&&(i=i-w.size/2-t),Math.abs(i)<.001&&(i=0),o%w.params.slidesPerGroup==0&&w.snapGrid.push(i),w.slidesGrid.push(i)):(o%w.params.slidesPerGroup==0&&w.snapGrid.push(i),w.slidesGrid.push(i),i=i+s+t),w.virtualSize+=s+t,n=s,o++)}if(w.virtualSize=Math.max(w.virtualSize,w.size)+w.params.slidesOffsetAfter,w.rtl&&w.wrongRTL&&("slide"===w.params.effect||"coverflow"===w.params.effect)&&w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.support.flexbox&&!w.params.setWrapperSize||(w.isHorizontal()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"})),1<w.params.slidesPerColumn&&(w.virtualSize=(s+w.params.spaceBetween)*r,w.virtualSize=Math.ceil(w.virtualSize/w.params.slidesPerColumn)-w.params.spaceBetween,w.isHorizontal()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"}),w.params.centeredSlides)){for(l=[],e=0;e<w.snapGrid.length;e++)w.snapGrid[e]<w.virtualSize+w.snapGrid[0]&&l.push(w.snapGrid[e]);w.snapGrid=l}if(!w.params.centeredSlides){for(l=[],e=0;e<w.snapGrid.length;e++)w.snapGrid[e]<=w.virtualSize-w.size&&l.push(w.snapGrid[e]);w.snapGrid=l,1<Math.floor(w.virtualSize-w.size)-Math.floor(w.snapGrid[w.snapGrid.length-1])&&w.snapGrid.push(w.virtualSize-w.size)}0===w.snapGrid.length&&(w.snapGrid=[0]),0!==w.params.spaceBetween&&(w.isHorizontal()?w.rtl?w.slides.css({marginLeft:t+"px"}):w.slides.css({marginRight:t+"px"}):w.slides.css({marginBottom:t+"px"})),w.params.watchSlidesProgress&&w.updateSlidesOffset()}},w.updateSlidesOffset=function(){for(var e=0;e<w.slides.length;e++)w.slides[e].swiperSlideOffset=w.isHorizontal()?w.slides[e].offsetLeft:w.slides[e].offsetTop},w.currentSlidesPerView=function(){var e,t,i=1;if(w.params.centeredSlides){var n,a=w.slides[w.activeIndex].swiperSlideSize;for(e=w.activeIndex+1;e<w.slides.length;e++)w.slides[e]&&!n&&(i++,(a+=w.slides[e].swiperSlideSize)>w.size&&(n=!0));for(t=w.activeIndex-1;0<=t;t--)w.slides[t]&&!n&&(i++,(a+=w.slides[t].swiperSlideSize)>w.size&&(n=!0))}else for(e=w.activeIndex+1;e<w.slides.length;e++)w.slidesGrid[e]-w.slidesGrid[w.activeIndex]<w.size&&i++;return i},w.updateSlidesProgress=function(e){if(void 0===e&&(e=w.translate||0),0!==w.slides.length){void 0===w.slides[0].swiperSlideOffset&&w.updateSlidesOffset();var t=-e;w.rtl&&(t=e),w.slides.removeClass(w.params.slideVisibleClass);for(var i=0;i<w.slides.length;i++){var n=w.slides[i],a=(t+(w.params.centeredSlides?w.minTranslate():0)-n.swiperSlideOffset)/(n.swiperSlideSize+w.params.spaceBetween);if(w.params.watchSlidesVisibility){var o=-(t-n.swiperSlideOffset),r=o+w.slidesSizesGrid[i];(0<=o&&o<w.size||0<r&&r<=w.size||o<=0&&r>=w.size)&&w.slides.eq(i).addClass(w.params.slideVisibleClass)}n.progress=w.rtl?-a:a}}},w.updateProgress=function(e){void 0===e&&(e=w.translate||0);var t=w.maxTranslate()-w.minTranslate(),i=w.isBeginning,n=w.isEnd;0==t?(w.progress=0,w.isBeginning=w.isEnd=!0):(w.progress=(e-w.minTranslate())/t,w.isBeginning=w.progress<=0,w.isEnd=1<=w.progress),w.isBeginning&&!i&&w.emit("onReachBeginning",w),w.isEnd&&!n&&w.emit("onReachEnd",w),w.params.watchSlidesProgress&&w.updateSlidesProgress(e),w.emit("onProgress",w,w.progress)},w.updateActiveIndex=function(){var e,t,i,n=w.rtl?w.translate:-w.translate;for(t=0;t<w.slidesGrid.length;t++)void 0!==w.slidesGrid[t+1]?n>=w.slidesGrid[t]&&n<w.slidesGrid[t+1]-(w.slidesGrid[t+1]-w.slidesGrid[t])/2?e=t:n>=w.slidesGrid[t]&&n<w.slidesGrid[t+1]&&(e=t+1):n>=w.slidesGrid[t]&&(e=t);w.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),(i=Math.floor(e/w.params.slidesPerGroup))>=w.snapGrid.length&&(i=w.snapGrid.length-1),e!==w.activeIndex&&(w.snapIndex=i,w.previousIndex=w.activeIndex,w.activeIndex=e,w.updateClasses(),w.updateRealIndex())},w.updateRealIndex=function(){w.realIndex=parseInt(w.slides.eq(w.activeIndex).attr("data-swiper-slide-index")||w.activeIndex,10)},w.updateClasses=function(){w.slides.removeClass(w.params.slideActiveClass+" "+w.params.slideNextClass+" "+w.params.slidePrevClass+" "+w.params.slideDuplicateActiveClass+" "+w.params.slideDuplicateNextClass+" "+w.params.slideDuplicatePrevClass);var t=w.slides.eq(w.activeIndex);t.addClass(w.params.slideActiveClass),n.loop&&(t.hasClass(w.params.slideDuplicateClass)?w.wrapper.children("."+w.params.slideClass+":not(."+w.params.slideDuplicateClass+')[data-swiper-slide-index="'+w.realIndex+'"]').addClass(w.params.slideDuplicateActiveClass):w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+w.realIndex+'"]').addClass(w.params.slideDuplicateActiveClass));var i=t.next("."+w.params.slideClass).addClass(w.params.slideNextClass);w.params.loop&&0===i.length&&(i=w.slides.eq(0)).addClass(w.params.slideNextClass);var a=t.prev("."+w.params.slideClass).addClass(w.params.slidePrevClass);if(w.params.loop&&0===a.length&&(a=w.slides.eq(-1)).addClass(w.params.slidePrevClass),n.loop&&(i.hasClass(w.params.slideDuplicateClass)?w.wrapper.children("."+w.params.slideClass+":not(."+w.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicateNextClass):w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicateNextClass),a.hasClass(w.params.slideDuplicateClass)?w.wrapper.children("."+w.params.slideClass+":not(."+w.params.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicatePrevClass):w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(w.params.slideDuplicatePrevClass)),w.paginationContainer&&0<w.paginationContainer.length){var o,r=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length;if(w.params.loop?((o=Math.ceil((w.activeIndex-w.loopedSlides)/w.params.slidesPerGroup))>w.slides.length-1-2*w.loopedSlides&&(o-=w.slides.length-2*w.loopedSlides),r-1<o&&(o-=r),o<0&&"bullets"!==w.params.paginationType&&(o=r+o)):o=void 0!==w.snapIndex?w.snapIndex:w.activeIndex||0,"bullets"===w.params.paginationType&&w.bullets&&0<w.bullets.length&&(w.bullets.removeClass(w.params.bulletActiveClass),1<w.paginationContainer.length?w.bullets.each(function(){e(this).index()===o&&e(this).addClass(w.params.bulletActiveClass)}):w.bullets.eq(o).addClass(w.params.bulletActiveClass)),"fraction"===w.params.paginationType&&(w.paginationContainer.find("."+w.params.paginationCurrentClass).text(o+1),w.paginationContainer.find("."+w.params.paginationTotalClass).text(r)),"progress"===w.params.paginationType){var s=(o+1)/r,l=s,c=1;w.isHorizontal()||(c=s,l=1),w.paginationContainer.find("."+w.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+c+")").transition(w.params.speed)}"custom"===w.params.paginationType&&w.params.paginationCustomRender&&(w.paginationContainer.html(w.params.paginationCustomRender(w,o+1,r)),w.emit("onPaginationRendered",w,w.paginationContainer[0]))}w.params.loop||(w.params.prevButton&&w.prevButton&&0<w.prevButton.length&&(w.isBeginning?(w.prevButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.prevButton)):(w.prevButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.prevButton))),w.params.nextButton&&w.nextButton&&0<w.nextButton.length&&(w.isEnd?(w.nextButton.addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(w.nextButton)):(w.nextButton.removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(w.nextButton))))},w.updatePagination=function(){if(w.params.pagination&&w.paginationContainer&&0<w.paginationContainer.length){var e="";if("bullets"===w.params.paginationType){for(var t=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length,i=0;i<t;i++)e+=w.params.paginationBulletRender?w.params.paginationBulletRender(w,i,w.params.bulletClass):"<"+w.params.paginationElement+' class="'+w.params.bulletClass+'"></'+w.params.paginationElement+">";w.paginationContainer.html(e),w.bullets=w.paginationContainer.find("."+w.params.bulletClass),w.params.paginationClickable&&w.params.a11y&&w.a11y&&w.a11y.initPagination()}"fraction"===w.params.paginationType&&(e=w.params.paginationFractionRender?w.params.paginationFractionRender(w,w.params.paginationCurrentClass,w.params.paginationTotalClass):'<span class="'+w.params.paginationCurrentClass+'"></span> / <span class="'+w.params.paginationTotalClass+'"></span>',w.paginationContainer.html(e)),"progress"===w.params.paginationType&&(e=w.params.paginationProgressRender?w.params.paginationProgressRender(w,w.params.paginationProgressbarClass):'<span class="'+w.params.paginationProgressbarClass+'"></span>',w.paginationContainer.html(e)),"custom"!==w.params.paginationType&&w.emit("onPaginationRendered",w,w.paginationContainer[0])}},w.update=function(e){function t(){w.rtl,w.translate,i=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate()),w.setWrapperTranslate(i),w.updateActiveIndex(),w.updateClasses()}var i;w&&(w.updateContainerSize(),w.updateSlidesSize(),w.updateProgress(),w.updatePagination(),w.updateClasses(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),e?(w.controller&&w.controller.spline&&(w.controller.spline=void 0),w.params.freeMode?(t(),w.params.autoHeight&&w.updateAutoHeight()):(("auto"===w.params.slidesPerView||1<w.params.slidesPerView)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0))||t()):w.params.autoHeight&&w.updateAutoHeight())},w.onResize=function(e){w.params.onBeforeResize&&w.params.onBeforeResize(w),w.params.breakpoints&&w.setBreakpoint();var t=w.params.allowSwipeToPrev,i=w.params.allowSwipeToNext;w.params.allowSwipeToPrev=w.params.allowSwipeToNext=!0,w.updateContainerSize(),w.updateSlidesSize(),("auto"===w.params.slidesPerView||w.params.freeMode||e)&&w.updatePagination(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),w.controller&&w.controller.spline&&(w.controller.spline=void 0);var n=!1;if(w.params.freeMode){var a=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate());w.setWrapperTranslate(a),w.updateActiveIndex(),w.updateClasses(),w.params.autoHeight&&w.updateAutoHeight()}else w.updateClasses(),n=("auto"===w.params.slidesPerView||1<w.params.slidesPerView)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0);w.params.lazyLoading&&!n&&w.lazy&&w.lazy.load(),w.params.allowSwipeToPrev=t,w.params.allowSwipeToNext=i,w.params.onAfterResize&&w.params.onAfterResize(w)},w.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?w.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(w.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),w.touchEvents={start:w.support.touch||!w.params.simulateTouch?"touchstart":w.touchEventsDesktop.start,move:w.support.touch||!w.params.simulateTouch?"touchmove":w.touchEventsDesktop.move,end:w.support.touch||!w.params.simulateTouch?"touchend":w.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===w.params.touchEventsTarget?w.container:w.wrapper).addClass("swiper-wp8-"+w.params.direction),w.initEvents=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",a="container"===w.params.touchEventsTarget?w.container[0]:w.wrapper[0],o=w.support.touch?a:document,r=!!w.params.nested;if(w.browser.ie)a[i](w.touchEvents.start,w.onTouchStart,!1),o[i](w.touchEvents.move,w.onTouchMove,r),o[i](w.touchEvents.end,w.onTouchEnd,!1);else{if(w.support.touch){var s=!("touchstart"!==w.touchEvents.start||!w.support.passiveListener||!w.params.passiveListeners)&&{passive:!0,capture:!1};a[i](w.touchEvents.start,w.onTouchStart,s),a[i](w.touchEvents.move,w.onTouchMove,r),a[i](w.touchEvents.end,w.onTouchEnd,s)}(n.simulateTouch&&!w.device.ios&&!w.device.android||n.simulateTouch&&!w.support.touch&&w.device.ios)&&(a[i]("mousedown",w.onTouchStart,!1),document[i]("mousemove",w.onTouchMove,r),document[i]("mouseup",w.onTouchEnd,!1))}window[i]("resize",w.onResize),w.params.nextButton&&w.nextButton&&0<w.nextButton.length&&(w.nextButton[t]("click",w.onClickNext),w.params.a11y&&w.a11y&&w.nextButton[t]("keydown",w.a11y.onEnterKey)),w.params.prevButton&&w.prevButton&&0<w.prevButton.length&&(w.prevButton[t]("click",w.onClickPrev),w.params.a11y&&w.a11y&&w.prevButton[t]("keydown",w.a11y.onEnterKey)),w.params.pagination&&w.params.paginationClickable&&(w.paginationContainer[t]("click","."+w.params.bulletClass,w.onClickIndex),w.params.a11y&&w.a11y&&w.paginationContainer[t]("keydown","."+w.params.bulletClass,w.a11y.onEnterKey)),(w.params.preventClicks||w.params.preventClicksPropagation)&&a[i]("click",w.preventClicks,!0)},w.attachEvents=function(){w.initEvents()},w.detachEvents=function(){w.initEvents(!0)},w.allowClick=!0,w.preventClicks=function(e){w.allowClick||(w.params.preventClicks&&e.preventDefault(),w.params.preventClicksPropagation&&w.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},w.onClickNext=function(e){e.preventDefault(),w.isEnd&&!w.params.loop||w.slideNext()},w.onClickPrev=function(e){e.preventDefault(),w.isBeginning&&!w.params.loop||w.slidePrev()},w.onClickIndex=function(t){t.preventDefault();var i=e(this).index()*w.params.slidesPerGroup;w.params.loop&&(i+=w.loopedSlides),w.slideTo(i)},w.updateClickedSlide=function(t){var i=r(t,"."+w.params.slideClass),n=!1;if(i)for(var a=0;a<w.slides.length;a++)w.slides[a]===i&&(n=!0);if(!i||!n)return w.clickedSlide=void 0,void(w.clickedIndex=void 0);if(w.clickedSlide=i,w.clickedIndex=e(i).index(),w.params.slideToClickedSlide&&void 0!==w.clickedIndex&&w.clickedIndex!==w.activeIndex){var o,s=w.clickedIndex,l="auto"===w.params.slidesPerView?w.currentSlidesPerView():w.params.slidesPerView;if(w.params.loop){if(w.animating)return;o=parseInt(e(w.clickedSlide).attr("data-swiper-slide-index"),10),w.params.centeredSlides?s<w.loopedSlides-l/2||s>w.slides.length-w.loopedSlides+l/2?(w.fixLoop(),s=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+w.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){w.slideTo(s)},0)):w.slideTo(s):s>w.slides.length-l?(w.fixLoop(),s=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+w.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){w.slideTo(s)},0)):w.slideTo(s)}else w.slideTo(s)}};var _,C,x,k,S,T,E,$,I,P,z,A,M="input, select, textarea, button, video",O=Date.now(),L=[];for(var D in w.animating=!1,w.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},w.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(z="touchstart"===t.type)||!("which"in t)||3!==t.which){if(w.params.noSwiping&&r(t,"."+w.params.noSwipingClass))return void(w.allowClick=!0);if(!w.params.swipeHandler||r(t,w.params.swipeHandler)){var i=w.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,n=w.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(w.device.ios&&w.params.iOSEdgeSwipeDetection&&i<=w.params.iOSEdgeSwipeThreshold)){if(x=!(C=!(_=!0)),A=S=void 0,w.touches.startX=i,w.touches.startY=n,k=Date.now(),w.allowClick=!0,w.updateContainerSize(),w.swipeDirection=void 0,0<w.params.threshold&&($=!1),"touchstart"!==t.type){var a=!0;e(t.target).is(M)&&(a=!1),document.activeElement&&e(document.activeElement).is(M)&&document.activeElement.blur(),a&&t.preventDefault()}w.emit("onTouchStart",w,t)}}}},w.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!z||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return w.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(w.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(w.params.onlyExternal)return w.allowClick=!1,void(_&&(w.touches.startX=w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.startY=w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,k=Date.now()));if(z&&w.params.touchReleaseOnEdges&&!w.params.loop)if(w.isHorizontal()){if(w.touches.currentX<w.touches.startX&&w.translate<=w.maxTranslate()||w.touches.currentX>w.touches.startX&&w.translate>=w.minTranslate())return}else if(w.touches.currentY<w.touches.startY&&w.translate<=w.maxTranslate()||w.touches.currentY>w.touches.startY&&w.translate>=w.minTranslate())return;if(z&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(M))return C=!0,void(w.allowClick=!1);if(x&&w.emit("onTouchMove",w,t),!(t.targetTouches&&1<t.targetTouches.length)){var i;if(w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===S&&(S=!(w.isHorizontal()&&w.touches.currentY===w.touches.startY||!w.isHorizontal()&&w.touches.currentX===w.touches.startX)&&(i=180*Math.atan2(Math.abs(w.touches.currentY-w.touches.startY),Math.abs(w.touches.currentX-w.touches.startX))/Math.PI,w.isHorizontal()?i>w.params.touchAngle:90-i>w.params.touchAngle)),S&&w.emit("onTouchMoveOpposite",w,t),void 0===A&&(w.touches.currentX===w.touches.startX&&w.touches.currentY===w.touches.startY||(A=!0)),_){if(S)return void(_=!1);if(A){w.allowClick=!1,w.emit("onSliderMove",w,t),t.preventDefault(),w.params.touchMoveStopPropagation&&!w.params.nested&&t.stopPropagation(),C||(n.loop&&w.fixLoop(),E=w.getWrapperTranslate(),w.setWrapperTransition(0),w.animating&&w.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),w.params.autoplay&&w.autoplaying&&(w.params.autoplayDisableOnInteraction?w.stopAutoplay():w.pauseAutoplay()),P=!1,!w.params.grabCursor||!0!==w.params.allowSwipeToNext&&!0!==w.params.allowSwipeToPrev||w.setGrabCursor(!0)),C=!0;var a=w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY;a*=w.params.touchRatio,w.rtl&&(a=-a),w.swipeDirection=0<a?"prev":"next",T=a+E;var o=!0;if(0<a&&T>w.minTranslate()?(o=!1,w.params.resistance&&(T=w.minTranslate()-1+Math.pow(-w.minTranslate()+E+a,w.params.resistanceRatio))):a<0&&T<w.maxTranslate()&&(o=!1,w.params.resistance&&(T=w.maxTranslate()+1-Math.pow(w.maxTranslate()-E-a,w.params.resistanceRatio))),o&&(t.preventedByNestedSwiper=!0),!w.params.allowSwipeToNext&&"next"===w.swipeDirection&&T<E&&(T=E),!w.params.allowSwipeToPrev&&"prev"===w.swipeDirection&&E<T&&(T=E),0<w.params.threshold){if(!(Math.abs(a)>w.params.threshold||$))return void(T=E);if(!$)return $=!0,w.touches.startX=w.touches.currentX,w.touches.startY=w.touches.currentY,T=E,void(w.touches.diff=w.isHorizontal()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY)}w.params.followFinger&&((w.params.freeMode||w.params.watchSlidesProgress)&&w.updateActiveIndex(),w.params.freeMode&&(0===L.length&&L.push({position:w.touches[w.isHorizontal()?"startX":"startY"],time:k}),L.push({position:w.touches[w.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),w.updateProgress(T),w.setWrapperTranslate(T))}}}}},w.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),x&&w.emit("onTouchEnd",w,t),x=!1,_){w.params.grabCursor&&C&&_&&(!0===w.params.allowSwipeToNext||!0===w.params.allowSwipeToPrev)&&w.setGrabCursor(!1);var i,n=Date.now(),a=n-k;if(w.allowClick&&(w.updateClickedSlide(t),w.emit("onTap",w,t),a<300&&300<n-O&&(I&&clearTimeout(I),I=setTimeout(function(){w&&(w.params.paginationHide&&0<w.paginationContainer.length&&!e(t.target).hasClass(w.params.bulletClass)&&w.paginationContainer.toggleClass(w.params.paginationHiddenClass),w.emit("onClick",w,t))},300)),a<300&&n-O<300&&(I&&clearTimeout(I),w.emit("onDoubleTap",w,t))),O=Date.now(),setTimeout(function(){w&&(w.allowClick=!0)},0),!_||!C||!w.swipeDirection||0===w.touches.diff||T===E)return void(_=C=!1);if(_=C=!1,i=w.params.followFinger?w.rtl?w.translate:-w.translate:-T,w.params.freeMode){if(i<-w.minTranslate())return void w.slideTo(w.activeIndex);if(i>-w.maxTranslate())return void(w.slides.length<w.snapGrid.length?w.slideTo(w.snapGrid.length-1):w.slideTo(w.slides.length-1));if(w.params.freeModeMomentum){if(1<L.length){var o=L.pop(),r=L.pop(),s=o.position-r.position,l=o.time-r.time;w.velocity=s/l,w.velocity=w.velocity/2,Math.abs(w.velocity)<w.params.freeModeMinimumVelocity&&(w.velocity=0),(150<l||300<(new window.Date).getTime()-o.time)&&(w.velocity=0)}else w.velocity=0;w.velocity=w.velocity*w.params.freeModeMomentumVelocityRatio,L.length=0;var c=1e3*w.params.freeModeMomentumRatio,d=w.velocity*c,u=w.translate+d;w.rtl&&(u=-u);var p,h=!1,m=20*Math.abs(w.velocity)*w.params.freeModeMomentumBounceRatio;if(u<w.maxTranslate())w.params.freeModeMomentumBounce?(u+w.maxTranslate()<-m&&(u=w.maxTranslate()-m),p=w.maxTranslate(),P=h=!0):u=w.maxTranslate();else if(u>w.minTranslate())w.params.freeModeMomentumBounce?(u-w.minTranslate()>m&&(u=w.minTranslate()+m),p=w.minTranslate(),P=h=!0):u=w.minTranslate();else if(w.params.freeModeSticky){var f,g=0;for(g=0;g<w.snapGrid.length;g+=1)if(w.snapGrid[g]>-u){f=g;break}u=Math.abs(w.snapGrid[f]-u)<Math.abs(w.snapGrid[f-1]-u)||"next"===w.swipeDirection?w.snapGrid[f]:w.snapGrid[f-1],w.rtl||(u=-u)}if(0!==w.velocity)c=w.rtl?Math.abs((-u-w.translate)/w.velocity):Math.abs((u-w.translate)/w.velocity);else if(w.params.freeModeSticky)return void w.slideReset();w.params.freeModeMomentumBounce&&h?(w.updateProgress(p),w.setWrapperTransition(c),w.setWrapperTranslate(u),w.onTransitionStart(),w.animating=!0,w.wrapper.transitionEnd(function(){w&&P&&(w.emit("onMomentumBounce",w),w.setWrapperTransition(w.params.speed),w.setWrapperTranslate(p),w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))})):w.velocity?(w.updateProgress(u),w.setWrapperTransition(c),w.setWrapperTranslate(u),w.onTransitionStart(),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))):w.updateProgress(u),w.updateActiveIndex()}return void((!w.params.freeModeMomentum||a>=w.params.longSwipesMs)&&(w.updateProgress(),w.updateActiveIndex()))}var v,b=0,y=w.slidesSizesGrid[0];for(v=0;v<w.slidesGrid.length;v+=w.params.slidesPerGroup)void 0!==w.slidesGrid[v+w.params.slidesPerGroup]?i>=w.slidesGrid[v]&&i<w.slidesGrid[v+w.params.slidesPerGroup]&&(b=v,y=w.slidesGrid[v+w.params.slidesPerGroup]-w.slidesGrid[v]):i>=w.slidesGrid[v]&&(b=v,y=w.slidesGrid[w.slidesGrid.length-1]-w.slidesGrid[w.slidesGrid.length-2]);var S=(i-w.slidesGrid[b])/y;if(a>w.params.longSwipesMs){if(!w.params.longSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&(S>=w.params.longSwipesRatio?w.slideTo(b+w.params.slidesPerGroup):w.slideTo(b)),"prev"===w.swipeDirection&&(S>1-w.params.longSwipesRatio?w.slideTo(b+w.params.slidesPerGroup):w.slideTo(b))}else{if(!w.params.shortSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&w.slideTo(b+w.params.slidesPerGroup),"prev"===w.swipeDirection&&w.slideTo(b)}}},w._slideTo=function(e,t){return w.slideTo(e,t,!0,!0)},w.slideTo=function(e,t,i,n){void 0===i&&(i=!0),void 0===e&&(e=0),e<0&&(e=0),w.snapIndex=Math.floor(e/w.params.slidesPerGroup),w.snapIndex>=w.snapGrid.length&&(w.snapIndex=w.snapGrid.length-1);var a=-w.snapGrid[w.snapIndex];if(w.params.autoplay&&w.autoplaying&&(n||!w.params.autoplayDisableOnInteraction?w.pauseAutoplay(t):w.stopAutoplay()),w.updateProgress(a),w.params.normalizeSlideIndex)for(var o=0;o<w.slidesGrid.length;o++)-Math.floor(100*a)>=Math.floor(100*w.slidesGrid[o])&&(e=o);return!(!w.params.allowSwipeToNext&&a<w.translate&&a<w.minTranslate()||!w.params.allowSwipeToPrev&&a>w.translate&&a>w.maxTranslate()&&(w.activeIndex||0)!==e||(void 0===t&&(t=w.params.speed),w.previousIndex=w.activeIndex||0,w.activeIndex=e,w.updateRealIndex(),w.rtl&&-a===w.translate||!w.rtl&&a===w.translate?(w.params.autoHeight&&w.updateAutoHeight(),w.updateClasses(),"slide"!==w.params.effect&&w.setWrapperTranslate(a),1):(w.updateClasses(),w.onTransitionStart(i),0===t||w.browser.lteIE9?(w.setWrapperTranslate(a),w.setWrapperTransition(0),w.onTransitionEnd(i)):(w.setWrapperTranslate(a),w.setWrapperTransition(t),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd(i)}))),0)))},w.onTransitionStart=function(e){void 0===e&&(e=!0),w.params.autoHeight&&w.updateAutoHeight(),w.lazy&&w.lazy.onTransitionStart(),e&&(w.emit("onTransitionStart",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeStart",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextStart",w):w.emit("onSlidePrevStart",w)))},w.onTransitionEnd=function(e){w.animating=!1,w.setWrapperTransition(0),void 0===e&&(e=!0),w.lazy&&w.lazy.onTransitionEnd(),e&&(w.emit("onTransitionEnd",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeEnd",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextEnd",w):w.emit("onSlidePrevEnd",w))),w.params.history&&w.history&&w.history.setHistory(w.params.history,w.activeIndex),w.params.hashnav&&w.hashnav&&w.hashnav.setHash()},w.slideNext=function(e,t,i){return w.params.loop?!w.animating&&(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex+w.params.slidesPerGroup,t,e,i)):w.slideTo(w.activeIndex+w.params.slidesPerGroup,t,e,i)},w._slideNext=function(e){return w.slideNext(!0,e,!0)},w.slidePrev=function(e,t,i){return w.params.loop?!w.animating&&(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex-1,t,e,i)):w.slideTo(w.activeIndex-1,t,e,i)},w._slidePrev=function(e){return w.slidePrev(!0,e,!0)},w.slideReset=function(e,t,i){return w.slideTo(w.activeIndex,t,e)},w.disableTouchControl=function(){return w.params.onlyExternal=!0},w.enableTouchControl=function(){return!(w.params.onlyExternal=!1)},w.setWrapperTransition=function(e,t){w.wrapper.transition(e),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTransition(e),w.params.parallax&&w.parallax&&w.parallax.setTransition(e),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTransition(e),w.params.control&&w.controller&&w.controller.setTransition(e,t),w.emit("onSetTransition",w,e)},w.setWrapperTranslate=function(e,t,i){var n=0,o=0;w.isHorizontal()?n=w.rtl?-e:e:o=e,w.params.roundLengths&&(n=a(n),o=a(o)),w.params.virtualTranslate||(w.support.transforms3d?w.wrapper.transform("translate3d("+n+"px, "+o+"px, 0px)"):w.wrapper.transform("translate("+n+"px, "+o+"px)")),
w.translate=w.isHorizontal()?n:o;var r=w.maxTranslate()-w.minTranslate();(0==r?0:(e-w.minTranslate())/r)!==w.progress&&w.updateProgress(e),t&&w.updateActiveIndex(),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTranslate(w.translate),w.params.parallax&&w.parallax&&w.parallax.setTranslate(w.translate),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTranslate(w.translate),w.params.control&&w.controller&&w.controller.setTranslate(w.translate,i),w.emit("onSetTranslate",w,w.translate)},w.getTranslate=function(e,t){var i,n,a,o;return void 0===t&&(t="x"),w.params.virtualTranslate?w.rtl?-w.translate:w.translate:(a=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(6<(n=a.transform||a.webkitTransform).split(",").length&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===n?"":n)):i=(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=window.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=window.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),w.rtl&&n&&(n=-n),n||0)},w.getWrapperTranslate=function(e){return void 0===e&&(e=w.isHorizontal()?"x":"y"),w.getTranslate(w.wrapper[0],e)},w.observers=[],w.initObservers=function(){if(w.params.observeParents)for(var e=w.container.parents(),t=0;t<e.length;t++)s(e[t]);s(w.container[0],{childList:!1}),s(w.wrapper[0],{attributes:!1})},w.disconnectObservers=function(){for(var e=0;e<w.observers.length;e++)w.observers[e].disconnect();w.observers=[]},w.createLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove();var t=w.wrapper.children("."+w.params.slideClass);"auto"!==w.params.slidesPerView||w.params.loopedSlides||(w.params.loopedSlides=t.length),w.loopedSlides=parseInt(w.params.loopedSlides||w.params.slidesPerView,10),w.loopedSlides=w.loopedSlides+w.params.loopAdditionalSlides,w.loopedSlides>t.length&&(w.loopedSlides=t.length);var i,n=[],a=[];for(t.each(function(i,o){var r=e(this);i<w.loopedSlides&&a.push(o),i<t.length&&i>=t.length-w.loopedSlides&&n.push(o),r.attr("data-swiper-slide-index",i)}),i=0;i<a.length;i++)w.wrapper.append(e(a[i].cloneNode(!0)).addClass(w.params.slideDuplicateClass));for(i=n.length-1;0<=i;i--)w.wrapper.prepend(e(n[i].cloneNode(!0)).addClass(w.params.slideDuplicateClass))},w.destroyLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove(),w.slides.removeAttr("data-swiper-slide-index")},w.reLoop=function(e){var t=w.activeIndex-w.loopedSlides;w.destroyLoop(),w.createLoop(),w.updateSlidesSize(),e&&w.slideTo(t+w.loopedSlides,0,!1)},w.fixLoop=function(){var e;w.activeIndex<w.loopedSlides?(e=w.slides.length-3*w.loopedSlides+w.activeIndex,e+=w.loopedSlides,w.slideTo(e,0,!1,!0)):("auto"===w.params.slidesPerView&&w.activeIndex>=2*w.loopedSlides||w.activeIndex>w.slides.length-2*w.params.slidesPerView)&&(e=-w.slides.length+w.activeIndex+w.loopedSlides,e+=w.loopedSlides,w.slideTo(e,0,!1,!0))},w.appendSlide=function(e){if(w.params.loop&&w.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&w.wrapper.append(e[t]);else w.wrapper.append(e);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0)},w.prependSlide=function(e){w.params.loop&&w.destroyLoop();var t=w.activeIndex+1;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]&&w.wrapper.prepend(e[i]);t=w.activeIndex+e.length}else w.wrapper.prepend(e);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.slideTo(t,0,!1)},w.removeSlide=function(e){w.params.loop&&(w.destroyLoop(),w.slides=w.wrapper.children("."+w.params.slideClass));var t,i=w.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)t=e[n],w.slides[t]&&w.slides.eq(t).remove(),t<i&&i--;i=Math.max(i,0)}else t=e,w.slides[t]&&w.slides.eq(t).remove(),t<i&&i--,i=Math.max(i,0);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.params.loop?w.slideTo(i+w.loopedSlides,0,!1):w.slideTo(i,0,!1)},w.removeAllSlides=function(){for(var e=[],t=0;t<w.slides.length;t++)e.push(t);w.removeSlide(e)},w.effects={fade:{setTranslate:function(){for(var e=0;e<w.slides.length;e++){var t=w.slides.eq(e),i=-t[0].swiperSlideOffset;w.params.virtualTranslate||(i-=w.translate);var n=0;w.isHorizontal()||(n=i,i=0);var a=w.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:a}).transform("translate3d("+i+"px, "+n+"px, 0px)")}},setTransition:function(e){if(w.slides.transition(e),w.params.virtualTranslate&&0!==e){var t=!1;w.slides.transitionEnd(function(){if(!t&&w){t=!0,w.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<e.length;i++)w.wrapper.trigger(e[i])}})}}},flip:{setTranslate:function(){for(var t=0;t<w.slides.length;t++){var i=w.slides.eq(t),n=i[0].progress;w.params.flip.limitRotation&&(n=Math.max(Math.min(i[0].progress,1),-1));var a=-180*n,o=0,r=-i[0].swiperSlideOffset,s=0;if(w.isHorizontal()?w.rtl&&(a=-a):(s=r,o=-a,a=r=0),i[0].style.zIndex=-Math.abs(Math.round(n))+w.slides.length,w.params.flip.slideShadows){var l=w.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),c=w.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===l.length&&(l=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),i.append(l)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),i.append(c)),l.length&&(l[0].style.opacity=Math.max(-n,0)),c.length&&(c[0].style.opacity=Math.max(n,0))}i.transform("translate3d("+r+"px, "+s+"px, 0px) rotateX("+o+"deg) rotateY("+a+"deg)")}},setTransition:function(t){if(w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),w.params.virtualTranslate&&0!==t){var i=!1;w.slides.eq(w.activeIndex).transitionEnd(function(){if(!i&&w&&e(this).hasClass(w.params.slideActiveClass)){i=!0,w.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<t.length;n++)w.wrapper.trigger(t[n])}})}}},cube:{setTranslate:function(){var t,i=0;w.params.cube.shadow&&(w.isHorizontal()?(0===(t=w.wrapper.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.wrapper.append(t)),t.css({height:w.width+"px"})):0===(t=w.container.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.container.append(t)));for(var n=0;n<w.slides.length;n++){var a=w.slides.eq(n),o=90*n,r=Math.floor(o/360);w.rtl&&(o=-o,r=Math.floor(-o/360));var s=Math.max(Math.min(a[0].progress,1),-1),l=0,c=0,d=0;n%4==0?(l=4*-r*w.size,d=0):(n-1)%4==0?(l=0,d=4*-r*w.size):(n-2)%4==0?(l=w.size+4*r*w.size,d=w.size):(n-3)%4==0&&(l=-w.size,d=3*w.size+4*w.size*r),w.rtl&&(l=-l),w.isHorizontal()||(c=l,l=0);var u="rotateX("+(w.isHorizontal()?0:-o)+"deg) rotateY("+(w.isHorizontal()?o:0)+"deg) translate3d("+l+"px, "+c+"px, "+d+"px)";if(s<=1&&-1<s&&(i=90*n+90*s,w.rtl&&(i=90*-n-90*s)),a.transform(u),w.params.cube.slideShadows){var p=w.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),h=w.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===p.length&&(p=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),a.append(p)),0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),a.append(h)),p.length&&(p[0].style.opacity=Math.max(-s,0)),h.length&&(h[0].style.opacity=Math.max(s,0))}}if(w.wrapper.css({"-webkit-transform-origin":"50% 50% -"+w.size/2+"px","-moz-transform-origin":"50% 50% -"+w.size/2+"px","-ms-transform-origin":"50% 50% -"+w.size/2+"px","transform-origin":"50% 50% -"+w.size/2+"px"}),w.params.cube.shadow)if(w.isHorizontal())t.transform("translate3d(0px, "+(w.width/2+w.params.cube.shadowOffset)+"px, "+-w.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+w.params.cube.shadowScale+")");else{var m=Math.abs(i)-90*Math.floor(Math.abs(i)/90),f=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),g=w.params.cube.shadowScale,v=w.params.cube.shadowScale/f,b=w.params.cube.shadowOffset;t.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(w.height/2+b)+"px, "+-w.height/2/v+"px) rotateX(-90deg)")}var y=w.isSafari||w.isUiWebView?-w.size/2:0;w.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(w.isHorizontal()?0:i)+"deg) rotateY("+(w.isHorizontal()?-i:0)+"deg)")},setTransition:function(e){w.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),w.params.cube.shadow&&!w.isHorizontal()&&w.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var t=w.translate,i=w.isHorizontal()?-t+w.width/2:-t+w.height/2,n=w.isHorizontal()?w.params.coverflow.rotate:-w.params.coverflow.rotate,a=w.params.coverflow.depth,o=0,r=w.slides.length;o<r;o++){var s=w.slides.eq(o),l=w.slidesSizesGrid[o],c=(i-s[0].swiperSlideOffset-l/2)/l*w.params.coverflow.modifier,d=w.isHorizontal()?n*c:0,u=w.isHorizontal()?0:n*c,p=-a*Math.abs(c),h=w.isHorizontal()?0:w.params.coverflow.stretch*c,m=w.isHorizontal()?w.params.coverflow.stretch*c:0;Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0),Math.abs(u)<.001&&(u=0);var f="translate3d("+m+"px,"+h+"px,"+p+"px)  rotateX("+u+"deg) rotateY("+d+"deg)";if(s.transform(f),s[0].style.zIndex=1-Math.abs(Math.round(c)),w.params.coverflow.slideShadows){var g=w.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),v=w.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===g.length&&(g=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"left":"top")+'"></div>'),s.append(g)),0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(w.isHorizontal()?"right":"bottom")+'"></div>'),s.append(v)),g.length&&(g[0].style.opacity=0<c?c:0),v.length&&(v[0].style.opacity=0<-c?-c:0)}}w.browser.ie&&(w.wrapper[0].style.perspectiveOrigin=i+"px 50%")},setTransition:function(e){w.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},w.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,i){if(void 0!==t&&(void 0===i&&(i=!0),0!==w.slides.length)){var n=w.slides.eq(t),a=n.find("."+w.params.lazyLoadingClass+":not(."+w.params.lazyStatusLoadedClass+"):not(."+w.params.lazyStatusLoadingClass+")");!n.hasClass(w.params.lazyLoadingClass)||n.hasClass(w.params.lazyStatusLoadedClass)||n.hasClass(w.params.lazyStatusLoadingClass)||(a=a.add(n[0])),0!==a.length&&a.each(function(){var t=e(this);t.addClass(w.params.lazyStatusLoadingClass);var a=t.attr("data-background"),o=t.attr("data-src"),r=t.attr("data-srcset"),s=t.attr("data-sizes");w.loadImage(t[0],o||a,r,s,!1,function(){if(null!=w&&w){if(a?(t.css("background-image",'url("'+a+'")'),t.removeAttr("data-background")):(r&&(t.attr("srcset",r),t.removeAttr("data-srcset")),s&&(t.attr("sizes",s),t.removeAttr("data-sizes")),o&&(t.attr("src",o),t.removeAttr("data-src"))),t.addClass(w.params.lazyStatusLoadedClass).removeClass(w.params.lazyStatusLoadingClass),n.find("."+w.params.lazyPreloaderClass+", ."+w.params.preloaderClass).remove(),w.params.loop&&i){var e=n.attr("data-swiper-slide-index");if(n.hasClass(w.params.slideDuplicateClass)){var l=w.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+w.params.slideDuplicateClass+")");w.lazy.loadImageInSlide(l.index(),!1)}else{var c=w.wrapper.children("."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');w.lazy.loadImageInSlide(c.index(),!1)}}w.emit("onLazyImageReady",w,n[0],t[0])}}),w.emit("onLazyImageLoad",w,n[0],t[0])})}},load:function(){var t,i=w.params.slidesPerView;if("auto"===i&&(i=0),w.lazy.initialImageLoaded||(w.lazy.initialImageLoaded=!0),w.params.watchSlidesVisibility)w.wrapper.children("."+w.params.slideVisibleClass).each(function(){w.lazy.loadImageInSlide(e(this).index())});else if(1<i)for(t=w.activeIndex;t<w.activeIndex+i;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);else w.lazy.loadImageInSlide(w.activeIndex);if(w.params.lazyLoadingInPrevNext)if(1<i||w.params.lazyLoadingInPrevNextAmount&&1<w.params.lazyLoadingInPrevNextAmount){var n=w.params.lazyLoadingInPrevNextAmount,a=i,o=Math.min(w.activeIndex+a+Math.max(n,a),w.slides.length),r=Math.max(w.activeIndex-Math.max(a,n),0);for(t=w.activeIndex+i;t<o;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);for(t=r;t<w.activeIndex;t++)w.slides[t]&&w.lazy.loadImageInSlide(t)}else{var s=w.wrapper.children("."+w.params.slideNextClass);0<s.length&&w.lazy.loadImageInSlide(s.index());var l=w.wrapper.children("."+w.params.slidePrevClass);0<l.length&&w.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){w.params.lazyLoading&&(w.params.lazyLoadingOnTransitionStart||!w.params.lazyLoadingOnTransitionStart&&!w.lazy.initialImageLoaded)&&w.lazy.load()},onTransitionEnd:function(){w.params.lazyLoading&&!w.params.lazyLoadingOnTransitionStart&&w.lazy.load()}},w.scrollbar={isTouched:!1,setDragPosition:function(e){var t=w.scrollbar,i=(w.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-t.track.offset()[w.isHorizontal()?"left":"top"]-t.dragSize/2,n=-w.minTranslate()*t.moveDivider,a=-w.maxTranslate()*t.moveDivider;i<n?i=n:a<i&&(i=a),i=-i/t.moveDivider,w.updateProgress(i),w.setWrapperTranslate(i,!0)},dragStart:function(e){var t=w.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),w.params.scrollbarHide&&t.track.css("opacity",1),w.wrapper.transition(100),t.drag.transition(100),w.emit("onScrollbarDragStart",w)},dragMove:function(e){var t=w.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),w.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),w.emit("onScrollbarDragMove",w))},dragEnd:function(e){var t=w.scrollbar;t.isTouched&&(t.isTouched=!1,w.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),w.emit("onScrollbarDragEnd",w),w.params.scrollbarSnapOnRelease&&w.slideReset())},draggableEvents:!1!==w.params.simulateTouch||w.support.touch?w.touchEvents:w.touchEventsDesktop,enableDraggable:function(){var t=w.scrollbar,i=w.support.touch?t.track:document;e(t.track).on(t.draggableEvents.start,t.dragStart),e(i).on(t.draggableEvents.move,t.dragMove),e(i).on(t.draggableEvents.end,t.dragEnd)},disableDraggable:function(){var t=w.scrollbar,i=w.support.touch?t.track:document;e(t.track).off(t.draggableEvents.start,t.dragStart),e(i).off(t.draggableEvents.move,t.dragMove),e(i).off(t.draggableEvents.end,t.dragEnd)},set:function(){if(w.params.scrollbar){var t=w.scrollbar;t.track=e(w.params.scrollbar),w.params.uniqueNavElements&&"string"==typeof w.params.scrollbar&&1<t.track.length&&1===w.container.find(w.params.scrollbar).length&&(t.track=w.container.find(w.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=w.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=w.size/w.virtualSize,t.moveDivider=t.divider*(t.trackSize/w.size),t.dragSize=t.trackSize*t.divider,w.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",1<=t.divider?t.track[0].style.display="none":t.track[0].style.display="",w.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(w.params.scrollbar){var e,t=w.scrollbar,i=(w.translate,t.dragSize);e=(t.trackSize-t.dragSize)*w.progress,w.rtl&&w.isHorizontal()?0<(e=-e)?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e):e<0?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),w.isHorizontal()?(w.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(w.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=i+"px"),w.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){w.params.scrollbar&&w.scrollbar.drag.transition(e)}},w.controller={LinearSpline:function(e,t){var i,n,a=function(){var e,t,i;return function(n,a){for(t=-1,e=n.length;1<e-t;)n[i=e+t>>1]<=a?t=i:e=i;return e}}();this.x=e,this.y=t,this.lastIndex=e.length-1,this.x.length,this.interpolate=function(e){return e?(n=a(this.x,e),i=n-1,(e-this.x[i])*(this.y[n]-this.y[i])/(this.x[n]-this.x[i])+this.y[i]):0}},getInterpolateFunction:function(e){w.controller.spline||(w.controller.spline=w.params.loop?new w.controller.LinearSpline(w.slidesGrid,e.slidesGrid):new w.controller.LinearSpline(w.snapGrid,e.snapGrid))},setTranslate:function(e,t){function n(t){e=t.rtl&&"horizontal"===t.params.direction?-w.translate:w.translate,"slide"===w.params.controlBy&&(w.controller.getInterpolateFunction(t),o=-w.controller.spline.interpolate(-e)),o&&"container"!==w.params.controlBy||(a=(t.maxTranslate()-t.minTranslate())/(w.maxTranslate()-w.minTranslate()),o=(e-w.minTranslate())*a+t.minTranslate()),w.params.controlInverse&&(o=t.maxTranslate()-o),t.updateProgress(o),t.setWrapperTranslate(o,!1,w),t.updateActiveIndex()}var a,o,r=w.params.control;if(Array.isArray(r))for(var s=0;s<r.length;s++)r[s]!==t&&r[s]instanceof i&&n(r[s]);else r instanceof i&&t!==r&&n(r)},setTransition:function(e,t){function n(t){t.setWrapperTransition(e,w),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){o&&(t.params.loop&&"slide"===w.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var a,o=w.params.control;if(Array.isArray(o))for(a=0;a<o.length;a++)o[a]!==t&&o[a]instanceof i&&n(o[a]);else o instanceof i&&t!==o&&n(o)}},w.hashnav={onHashCange:function(e,t){var i=document.location.hash.replace("#","");i!==w.slides.eq(w.activeIndex).attr("data-hash")&&w.slideTo(w.wrapper.children("."+w.params.slideClass+'[data-hash="'+i+'"]').index())},attachEvents:function(t){var i=t?"off":"on";e(window)[i]("hashchange",w.hashnav.onHashCange)},setHash:function(){if(w.hashnav.initialized&&w.params.hashnav)if(w.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+w.slides.eq(w.activeIndex).attr("data-hash")||"");else{var e=w.slides.eq(w.activeIndex),t=e.attr("data-hash")||e.attr("data-history");document.location.hash=t||""}},init:function(){if(w.params.hashnav&&!w.params.history){w.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,i=w.slides.length;t<i;t++){var n=w.slides.eq(t);if((n.attr("data-hash")||n.attr("data-history"))===e&&!n.hasClass(w.params.slideDuplicateClass)){var a=n.index();w.slideTo(a,0,w.params.runCallbacksOnInit,!0)}}w.params.hashnavWatchState&&w.hashnav.attachEvents()}},destroy:function(){w.params.hashnavWatchState&&w.hashnav.attachEvents(!0)}},w.history={init:function(){if(w.params.history){if(!window.history||!window.history.pushState)return w.params.history=!1,void(w.params.hashnav=!0);w.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,w.params.runCallbacksOnInit),w.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){w.history.paths=w.history.getPathValues(),w.history.scrollToSlide(w.params.speed,w.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(w.history.initialized&&w.params.history){var i=w.slides.eq(t),n=this.slugify(i.attr("data-history"));window.location.pathname.includes(e)||(n=e+"/"+n),w.params.replaceState?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){if(t)for(var n=0,a=w.slides.length;n<a;n++){var o=w.slides.eq(n);if(this.slugify(o.attr("data-history"))===t&&!o.hasClass(w.params.slideDuplicateClass)){var r=o.index();w.slideTo(r,e,i)}}else w.slideTo(0,e,i)}},w.disableKeyboardControl=function(){w.params.keyboardControl=!1,e(document).off("keydown",l)},w.enableKeyboardControl=function(){w.params.keyboardControl=!0,e(document).on("keydown",l)},w.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},w.params.mousewheelControl&&(w.mousewheel.event=-1<navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":function(){var e="onwheel"in document;if(!e){var t=document.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"),w.disableMousewheelControl=function(){if(!w.mousewheel.event)return!1;var t=w.container;return"container"!==w.params.mousewheelEventsTarged&&(t=e(w.params.mousewheelEventsTarged)),t.off(w.mousewheel.event,c),!(w.params.mousewheelControl=!1)},w.enableMousewheelControl=function(){if(!w.mousewheel.event)return!1;var t=w.container;return"container"!==w.params.mousewheelEventsTarged&&(t=e(w.params.mousewheelEventsTarged)),t.on(w.mousewheel.event,c),w.params.mousewheelControl=!0},w.parallax={setTranslate:function(){w.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,w.progress)}),w.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=w.params.speed),w.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var i=e(this),n=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(n=0),i.transition(n)})}},w.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:w.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-t,2)+Math.pow(a-i,2))},onGestureStart:function(t){var i=w.zoom;if(!w.support.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;i.gesture.scaleStart=i.getDistanceBetweenTouches(t)}i.gesture.slide&&i.gesture.slide.length||(i.gesture.slide=e(this),0===i.gesture.slide.length&&(i.gesture.slide=w.slides.eq(w.activeIndex)),i.gesture.image=i.gesture.slide.find("img, svg, canvas"),i.gesture.imageWrap=i.gesture.image.parent("."+w.params.zoomContainerClass),i.gesture.zoomMax=i.gesture.imageWrap.attr("data-swiper-zoom")||w.params.zoomMax,0!==i.gesture.imageWrap.length)?(i.gesture.image.transition(0),i.isScaling=!0):i.gesture.image=void 0},onGestureChange:function(e){var t=w.zoom;if(!w.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(w.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<w.params.zoomMin&&(t.scale=w.params.zoomMin+1-Math.pow(w.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=w.zoom;!w.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),w.params.zoomMin),t.gesture.image.transition(w.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var i=e.zoom;i.gesture.image&&0!==i.gesture.image.length&&(i.image.isTouched||("android"===e.device.os&&t.preventDefault(),i.image.isTouched=!0,i.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=w.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(w.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=w.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=w.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0),w.rtl&&(t.image.startX=-t.image.startX),w.rtl&&(t.image.startY=-t.image.startY));var i=t.image.width*t.scale,n=t.image.height*t.scale;if(!(i<t.gesture.slideWidth&&n<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-i/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-n/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(w.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!w.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var i=e.zoom;if(i.gesture.image&&0!==i.gesture.image.length){if(!i.image.isTouched||!i.image.isMoved)return i.image.isTouched=!1,void(i.image.isMoved=!1);i.image.isTouched=!1,i.image.isMoved=!1;var n=300,a=300,o=i.velocity.x*n,r=i.image.currentX+o,s=i.velocity.y*a,l=i.image.currentY+s;0!==i.velocity.x&&(n=Math.abs((r-i.image.currentX)/i.velocity.x)),0!==i.velocity.y&&(a=Math.abs((l-i.image.currentY)/i.velocity.y));var c=Math.max(n,a);i.image.currentX=r,i.image.currentY=l;var d=i.image.width*i.scale,u=i.image.height*i.scale;i.image.minX=Math.min(i.gesture.slideWidth/2-d/2,0),i.image.maxX=-i.image.minX,i.image.minY=Math.min(i.gesture.slideHeight/2-u/2,0),i.image.maxY=-i.image.minY,i.image.currentX=Math.max(Math.min(i.image.currentX,i.image.maxX),i.image.minX),i.image.currentY=Math.max(Math.min(i.image.currentY,i.image.maxY),i.image.minY),i.gesture.imageWrap.transition(c).transform("translate3d("+i.image.currentX+"px, "+i.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(t,i){var n,a,o,r,s,l,c,d,u,p,h,m,f,g,v,b,w=t.zoom;w.gesture.slide||(w.gesture.slide=t.clickedSlide?e(t.clickedSlide):t.slides.eq(t.activeIndex),w.gesture.image=w.gesture.slide.find("img, svg, canvas"),w.gesture.imageWrap=w.gesture.image.parent("."+t.params.zoomContainerClass)),w.gesture.image&&0!==w.gesture.image.length&&(a=void 0===w.image.touchesStart.x&&i?(n="touchend"===i.type?i.changedTouches[0].pageX:i.pageX,"touchend"===i.type?i.changedTouches[0].pageY:i.pageY):(n=w.image.touchesStart.x,w.image.touchesStart.y),w.scale&&1!==w.scale?(w.scale=w.currentScale=1,w.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),w.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),w.gesture.slide=void 0):(w.scale=w.currentScale=w.gesture.imageWrap.attr("data-swiper-zoom")||t.params.zoomMax,i?(v=w.gesture.slide[0].offsetWidth,b=w.gesture.slide[0].offsetHeight,o=w.gesture.slide.offset().left+v/2-n,r=w.gesture.slide.offset().top+b/2-a,c=w.gesture.image[0].offsetWidth,d=w.gesture.image[0].offsetHeight,u=c*w.scale,p=d*w.scale,f=-(h=Math.min(v/2-u/2,0)),g=-(m=Math.min(b/2-p/2,0)),(s=o*w.scale)<h&&(s=h),f<s&&(s=f),(l=r*w.scale)<m&&(l=m),g<l&&(l=g)):l=s=0,w.gesture.imageWrap.transition(300).transform("translate3d("+s+"px, "+l+"px,0)"),w.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+w.scale+")")))},attachEvents:function(t){var i=t?"off":"on";if(w.params.zoom){var n=(w.slides,!("touchstart"!==w.touchEvents.start||!w.support.passiveListener||!w.params.passiveListeners)&&{passive:!0,capture:!1});w.support.gestures?(w.slides[i]("gesturestart",w.zoom.onGestureStart,n),w.slides[i]("gesturechange",w.zoom.onGestureChange,n),w.slides[i]("gestureend",w.zoom.onGestureEnd,n)):"touchstart"===w.touchEvents.start&&(w.slides[i](w.touchEvents.start,w.zoom.onGestureStart,n),w.slides[i](w.touchEvents.move,w.zoom.onGestureChange,n),w.slides[i](w.touchEvents.end,w.zoom.onGestureEnd,n)),w[i]("touchStart",w.zoom.onTouchStart),w.slides.each(function(t,n){0<e(n).find("."+w.params.zoomContainerClass).length&&e(n)[i](w.touchEvents.move,w.zoom.onTouchMove)}),
w[i]("touchEnd",w.zoom.onTouchEnd),w[i]("transitionEnd",w.zoom.onTransitionEnd),w.params.zoomToggle&&w.on("doubleTap",w.zoom.toggleZoom)}},init:function(){w.zoom.attachEvents()},destroy:function(){w.zoom.attachEvents(!0)}},w._plugins=[],w.plugins){var B=w.plugins[D](w,w.params[D]);B&&w._plugins.push(B)}return w.callPlugins=function(e){for(var t=0;t<w._plugins.length;t++)e in w._plugins[t]&&w._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.emitterEventListeners={},w.emit=function(e){var t;if(w.params[e]&&w.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),w.emitterEventListeners[e])for(t=0;t<w.emitterEventListeners[e].length;t++)w.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);w.callPlugins&&w.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.on=function(e,t){return e=u(e),w.emitterEventListeners[e]||(w.emitterEventListeners[e]=[]),w.emitterEventListeners[e].push(t),w},w.off=function(e,t){var i;if(e=u(e),void 0===t)return w.emitterEventListeners[e]=[],w;if(w.emitterEventListeners[e]&&0!==w.emitterEventListeners[e].length){for(i=0;i<w.emitterEventListeners[e].length;i++)w.emitterEventListeners[e][i]===t&&w.emitterEventListeners[e].splice(i,1);return w}},w.once=function(e,t){e=u(e);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),w.off(e,i)};return w.on(e,i),w},w.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(w.params.nextButton)?(w.onClickNext(t),w.isEnd?w.a11y.notify(w.params.lastSlideMessage):w.a11y.notify(w.params.nextSlideMessage)):e(t.target).is(w.params.prevButton)&&(w.onClickPrev(t),w.isBeginning?w.a11y.notify(w.params.firstSlideMessage):w.a11y.notify(w.params.prevSlideMessage)),e(t.target).is("."+w.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="'+w.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=w.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){w.params.nextButton&&w.nextButton&&0<w.nextButton.length&&(w.a11y.makeFocusable(w.nextButton),w.a11y.addRole(w.nextButton,"button"),w.a11y.addLabel(w.nextButton,w.params.nextSlideMessage)),w.params.prevButton&&w.prevButton&&0<w.prevButton.length&&(w.a11y.makeFocusable(w.prevButton),w.a11y.addRole(w.prevButton,"button"),w.a11y.addLabel(w.prevButton,w.params.prevSlideMessage)),e(w.container).append(w.a11y.liveRegion)},initPagination:function(){w.params.pagination&&w.params.paginationClickable&&w.bullets&&w.bullets.length&&w.bullets.each(function(){var t=e(this);w.a11y.makeFocusable(t),w.a11y.addRole(t,"button"),w.a11y.addLabel(t,w.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){w.a11y.liveRegion&&0<w.a11y.liveRegion.length&&w.a11y.liveRegion.remove()}},w.init=function(){w.params.loop&&w.createLoop(),w.updateContainerSize(),w.updateSlidesSize(),w.updatePagination(),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.set(),w.params.scrollbarDraggable&&w.scrollbar.enableDraggable()),"slide"!==w.params.effect&&w.effects[w.params.effect]&&(w.params.loop||w.updateProgress(),w.effects[w.params.effect].setTranslate()),w.params.loop?w.slideTo(w.params.initialSlide+w.loopedSlides,0,w.params.runCallbacksOnInit):(w.slideTo(w.params.initialSlide,0,w.params.runCallbacksOnInit),0===w.params.initialSlide&&(w.parallax&&w.params.parallax&&w.parallax.setTranslate(),w.lazy&&w.params.lazyLoading&&(w.lazy.load(),w.lazy.initialImageLoaded=!0))),w.attachEvents(),w.params.observer&&w.support.observer&&w.initObservers(),w.params.preloadImages&&!w.params.lazyLoading&&w.preloadImages(),w.params.zoom&&w.zoom&&w.zoom.init(),w.params.autoplay&&w.startAutoplay(),w.params.keyboardControl&&w.enableKeyboardControl&&w.enableKeyboardControl(),w.params.mousewheelControl&&w.enableMousewheelControl&&w.enableMousewheelControl(),w.params.hashnavReplaceState&&(w.params.replaceState=w.params.hashnavReplaceState),w.params.history&&w.history&&w.history.init(),w.params.hashnav&&w.hashnav&&w.hashnav.init(),w.params.a11y&&w.a11y&&w.a11y.init(),w.emit("onInit",w)},w.cleanupStyles=function(){w.container.removeClass(w.classNames.join(" ")).removeAttr("style"),w.wrapper.removeAttr("style"),w.slides&&w.slides.length&&w.slides.removeClass([w.params.slideVisibleClass,w.params.slideActiveClass,w.params.slideNextClass,w.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),w.paginationContainer&&w.paginationContainer.length&&w.paginationContainer.removeClass(w.params.paginationHiddenClass),w.bullets&&w.bullets.length&&w.bullets.removeClass(w.params.bulletActiveClass),w.params.prevButton&&e(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.nextButton&&e(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.track&&w.scrollbar.track.length&&w.scrollbar.track.removeAttr("style"),w.scrollbar.drag&&w.scrollbar.drag.length&&w.scrollbar.drag.removeAttr("style"))},w.destroy=function(e,t){w.detachEvents(),w.stopAutoplay(),w.params.scrollbar&&w.scrollbar&&w.params.scrollbarDraggable&&w.scrollbar.disableDraggable(),w.params.loop&&w.destroyLoop(),t&&w.cleanupStyles(),w.disconnectObservers(),w.params.zoom&&w.zoom&&w.zoom.destroy(),w.params.keyboardControl&&w.disableKeyboardControl&&w.disableKeyboardControl(),w.params.mousewheelControl&&w.disableMousewheelControl&&w.disableMousewheelControl(),w.params.a11y&&w.a11y&&w.a11y.destroy(),w.params.history&&!w.params.replaceState&&window.removeEventListener("popstate",w.history.setHistoryPopState),w.params.hashnav&&w.hashnav&&w.hashnav.destroy(),w.emit("onDestroy"),!1!==e&&(w=null)},w.init(),w}};i.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return 0<=e.indexOf("safari")&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&1<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&1<window.navigator.maxTouchPoints,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),i=e.match(/(iPad).*OS\s([\d_]+)/),n=e.match(/(iPod)(.*OS\s([\d_]+))?/),a=!i&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:i||a||n,android:t}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<t.length;i++)if(t[i]in e)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in window},plugins:{}};for(var n=["jQuery","Zepto","Dom7"],a=0;a<n.length;a++)window[n[a]]&&function(e){e.fn.swiper=function(t){var n;return e(this).each(function(){var e=new i(this,t);n=n||e}),n}}(window[n[a]]);(t="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7)&&("transitionEnd"in t.fn||(t.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),i=0;i<n.length;i++)a.off(n[i],t)}var i,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(i=0;i<n.length;i++)a.on(n[i],t);return this}),"transform"in t.fn||(t.fn.transform=function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this}),"transition"in t.fn||(t.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this}),"outerWidth"in t.fn||(t.fn.outerWidth=function(e){return 0<this.length?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=i}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(e){function t(){for(var e=0;e<C.length;e++)C[e][0](C[e][1]);g=!(C=[])}function i(e,i){C.push([e,i]),g||(g=!0,_(t,0))}function n(e){var t=(i=e.owner).state_,i=i.data_,n=e[t];if(e=e.then,"function"==typeof n){t=w;try{i=n(i)}catch(t){s(e,t)}}a(e,i)||(t===w&&o(e,i),t===y&&s(e,i))}function a(e,t){var i;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var n=t.then;if("function"==typeof n)return n.call(t,function(n){i||(i=!0,t!==n?o(e,n):r(e,n))},function(t){i||(i=!0,s(e,t))}),!0}}catch(t){return i||s(e,t),!0}return!1}function o(e,t){e!==t&&a(e,t)||r(e,t)}function r(e,t){e.state_===v&&(e.state_=b,e.data_=t,i(c,e))}function s(e,t){e.state_===v&&(e.state_=b,e.data_=t,i(d,e))}function l(e){var t=e.then_;for(e.then_=void 0,e=0;e<t.length;e++)n(t[e])}function c(e){e.state_=w,l(e)}function d(e){e.state_=y,l(e)}function u(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(0==this instanceof u)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function i(e){s(t,e)}try{e(function(e){o(t,e)},i)}catch(e){i(e)}}(e,this)}function p(){}var h,m=e.Promise,f=m&&"resolve"in m&&"reject"in m&&"all"in m&&"race"in m&&(new m(function(e){h=e}),"function"==typeof h);"undefined"!=typeof exports&&exports?(exports.Promise=f?m:u,exports.Polyfill=u):"function"==typeof define&&define.amd?define(function(){return f?m:u}):f||(e.Promise=u);var g,v="pending",b="sealed",w="fulfilled",y="rejected",_="undefined"!=typeof setImmediate?setImmediate:setTimeout,C=[];u.prototype={constructor:u,state_:v,then_:null,data_:void 0,then:function(e,t){var a={owner:this,then:new this.constructor(p),fulfilled:e,rejected:t};return this.state_===w||this.state_===y?i(n,a):this.then_.push(a),a.then},catch:function(e){return this.then(null,e)}},u.all=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("You must pass an array to Promise.all().");return new this(function(t,i){for(var n,a=[],o=0,r=0;r<e.length;r++)(n=e[r])&&"function"==typeof n.then?n.then(function(e){return o++,function(i){a[e]=i,--o||t(a)}}(r),i):a[r]=n;o||t(a)})},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,i){for(var n,a=0;a<e.length;a++)(n=e[a])&&"function"==typeof n.then?n.then(t,i):t(n)})},u.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})},u.reject=function(e){return new this(function(t,i){i(e)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function n(){var n,a;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),!i.settings.submitHandler||(a=i.settings.submitHandler.call(i,i.currentForm,t),n&&n.remove(),void 0!==a&&a)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):n():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,i,n;return e(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,i=e(this[0].form).validate(),this.each(function(){(t=i.element(this)&&t)||(n=n.concat(i.errorList))}),i.errorList=n),t},rules:function(t,i){var n,a,o,r,s,l,c=this[0];if(null!=c&&(!c.form&&c.hasAttribute("contenteditable")&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(t)switch(a=(n=e.data(c.form,"validator").settings).rules,o=e.validator.staticRules(c),t){case"add":e.extend(o,e.validator.normalizeRule(i)),delete o.messages,a[c.name]=o,i.messages&&(n.messages[c.name]=e.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(e,t){l[t]=o[t],delete o[t]}),l):(delete a[c.name],o)}return(r=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c)).required&&(s=r.required,delete r.required,r=e.extend({required:s},r)),r.remote&&(s=r.remote,delete r.remote,r=e.extend(r,{remote:s})),r}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(void 0===i||(2<arguments.length&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})})),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name"));var i=e.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),a=i.settings;a[n]&&!e(this).is(a.ignore)&&a[n].call(i,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),i=this.settings.rules,e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel']:not([type='tel'][validateMaskLength]), [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("focusout.validate","[validateMaskLength]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,n,a=this.clean(t),o=this.validationTargetFor(a),r=this,s=!0;return void 0===o?delete this.invalid[a.name]:(this.prepareElement(o),this.currentElements=e(o),(n=this.groups[o.name])&&e.each(this.groups,function(e,t){t===n&&e!==o.name&&(a=r.validationTargetFor(r.clean(r.findByName(e))))&&a.name in r.invalid&&(r.currentElements.push(a),s=r.check(a)&&s)}),i=!1!==this.check(o),s=s&&i,this.invalid[o.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),s},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||e(this).attr("name");return!n&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=n),!(n in i||!t.objectLength(e(this).rules()))&&(i[n]=!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,n,a=e(t),o=t.type;return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":a.val():(i=t.hasAttribute("contenteditable")?a.text():a.val(),"file"===o?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):0<=(n=i.lastIndexOf("/"))?i.substr(n+1):0<=(n=i.lastIndexOf("\\"))?i.substr(n+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n,a,o,r=e(t).rules(),s=e.map(r,function(e,t){return t}).length,l=!1,c=this.elementValue(t);if("function"==typeof r.normalizer?o=r.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o){if("string"!=typeof(c=o.call(t,c)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(n in r){a={method:n,parameters:r[n]};try{if("dependency-mismatch"===(i=e.validator.methods[n].call(this,c,t,a.parameters))&&1===s){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,a),!1}catch(e){this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.")}}if(!l)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var n=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,t):a.test(n)&&(n=e.validator.format(n.replace(a,"{$1}"),i.parameters)),n},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n,a,o,r,s=this.errorsFor(t),l=this.idOrName(t),c=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(n=s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,e(t)):n.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=s.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(c+=" "+o):c=o,e(t).attr("aria-describedby",c),(a=this.groups[t.name])&&(r=this,e.each(r.groups,function(t,i){i===a&&e("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",s.attr("id"))})))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),n=e(t).attr("aria-describedby"),a="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(a=a+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,n,a={},o=e(t),r=t.getAttribute("type");for(i in e.validator.methods)n="required"===i||"validateMaskLength"===i?(""===(n=t.getAttribute(i))&&(n=!0),!!n):o.attr(i),this.normalizeAttributeRule(a,r,i,n);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(t){var i,n,a={},o=e(t),r=t.getAttribute("type");for(i in e.validator.methods)n=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(a,r,i,n);return a},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,a){if(!1!==a){if(a.param||a.depends){var o=!0;switch(typeof a.depends){case"string":o=!!e(a.depends,i.form).length;break;case"function":o=a.depends.call(i,i)}o?t[n]=void 0===a.param||a.param:(e.data(i.form,"validator").resetElements(e(i)),delete t[n])}}else delete t[n]}),e.each(t,function(n,a){t[n]=e.isFunction(a)&&"normalizer"!==n?a(i):a}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{validateMaskLength:function(e,t,i){if(t.getAttribute("data-mask-input")){
if(t.getAttribute("data-mask-input").match(/[^{}]+(?=\})/g))var n=t.getAttribute("data-mask-input").match(/[^{}]+(?=\})/g),a=parseInt(0<n[0].split(",").length?n[0].split(",")[0]:0);else a=t.getAttribute("data-mask-input").match(/\d/g).length?t.getAttribute("data-mask-input").match(/\d/g).length:0;return a<=e.match(/\d/g).length}return this.optional(t)},required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"!==i.nodeName.toLowerCase())return this.checkable(i)?0<this.getLength(t,i):0<t.length;var a=e(i).val();return a&&0<a.length},email:function(e,t){return 0<e.length?this.optional(t)||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase()):this.optional(t)||!1},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,n){var a=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n<=a},maxlength:function(t,i,n){var a=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||a<=n},rangelength:function(t,i,n){var a=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||a>=n[0]&&a<=n[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,n){function a(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0}function o(e){return Math.round(e*Math.pow(10,r))}var r,s=e(i).attr("type"),l="Step attribute on input type "+s+" is not supported.",c=new RegExp("\\b"+s+"\\b"),d=!0;if(s&&!c.test(["text","number","range"].join()))throw new Error(l);return r=a(n),(a(t)>r||o(t)%o(n)!=0)&&(d=!1),this.optional(i)||d},equalTo:function(t,i,n){var a=e(n);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===a.val()},remote:function(t,i,n,a){if(this.optional(i))return"dependency-mismatch";a="string"==typeof a&&a||"remote";var o,r,s,l=this.previousValue(i,a);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][a],this.settings.messages[i.name][a]=l.message,n="string"==typeof n&&{url:n}||n,s=e.param(e.extend({data:t},n.data)),l.old===s?l.valid:(l.old=s,(o=this).startRequest(i),(r={})[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:r,context:o.currentForm,success:function(e){var n,r,s,c=!0===e||"true"===e;o.settings.messages[i.name][a]=l.originalMessage,c?(s=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=s,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(n={},r=e||o.defaultMessage(i,{method:a,parameters:t}),n[i.name]=l.message=r,o.invalid[i.name]=!0,o.showErrors(n)),l.valid=c,o.stopRequest(i,c)}},n)),"pending")}}});var t,i={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,n){var a=e.port;"abort"===e.mode&&(i[a]&&i[a].abort(),i[a]=n)}):(t=e.ajax,e.ajax=function(n){var a=("mode"in n?n:e.ajaxSettings).mode,o=("port"in n?n:e.ajaxSettings).port;return"abort"===a?(i[o]&&i[o].abort(),i[o]=t.apply(this,arguments),i[o]):t.apply(this,arguments)}),e}),function(e,t){"use strict";var i,n,a,o,r,s,l,c,d,u=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function p(e,t){var i,n={},a=e.split(",");for(i=0;i<a.length;i++)n[t?r(a[i]):a[i]]=!0;return n}function h(e){for(var t={},i=0,n=e.length;i<n;i++){var a=e[i];t[a.name]=a.value}return t}function m(e){return e.replace(/&/g,"&amp;").replace(b,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var i=t.attributes,n=0,a=i.length;n<a;n++){var o=i[n],r=o.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),n--,a--)}var s=t.firstChild;s&&f(s),t=g("nextSibling",t)}}function g(e,t){var i=t[e];if(i&&l.call(t,i))throw u("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return i}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&n($,T),function(t){var i=[];return c(t,d(i,function(t,i){return!/^unsafe:/.test(e(t,i))})),i.join("")}}],this.enableSvg=function(e){return o(e)?(v=e,this):v},i=t.bind,n=t.extend,a=t.forEach,o=t.isDefined,r=t.lowercase,s=t.noop,c=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var i=M(e);if(!i)return"";var n=5;do{if(0===n)throw u("uinput","Failed to sanitize html because the input is unstable");n--,e=i.innerHTML,i=M(e)}while(e!==i.innerHTML);for(var a=i.firstChild;a;){switch(a.nodeType){case 1:t.start(a.nodeName.toLowerCase(),h(a.attributes));break;case 3:t.chars(a.textContent)}var o;if(!((o=a.firstChild)||(1===a.nodeType&&t.end(a.nodeName.toLowerCase()),o=g("nextSibling",a))))for(;null==o&&(a=g("parentNode",a))!==i;)o=g("nextSibling",a),1===a.nodeType&&t.end(a.nodeName.toLowerCase());a=o}for(;a=i.firstChild;)i.removeChild(a)},d=function(e,t){var n=!1,o=i(e,e.push);return{start:function(e,i){e=r(e),!n&&E[e]&&(n=e),n||!0!==$[e]||(o("<"),o(e),a(i,function(i,n){var a=r(n),s="img"===e&&"src"===a||"background"===a;!0!==A[a]||!0===I[a]&&!t(i,s)||(o(" "),o(n),o('="'),o(m(i)),o('"'))}),o(">"))},end:function(e){e=r(e),n||!0!==$[e]||!0===y[e]||(o("</"),o(e),o(">")),e==n&&(n=!1)},chars:function(e){n||o(m(e))}}},l=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^#-~ |!])/g,y=p("area,br,col,hr,img,wbr"),_=p("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=p("rp,rt"),x=n({},C,_),k=n({},_,p("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),S=n({},C,p("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=p("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),E=p("script,style"),$=n({},y,k,S,x),I=p("background,cite,href,longdesc,src,xlink:href,xml:base"),P=p("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),z=p("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),A=n({},I,z,P),M=function(e,t){var i;if(!t||!t.implementation)throw u("noinert","Can't create an inert html document");var n=((i=t.implementation.createHTMLDocument("inert")).documentElement||i.getDocumentElement()).querySelector("body");return n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',n.querySelector("svg img")?function(t){t="<remove></remove>"+t;try{var i=(new e.DOMParser).parseFromString(t,"text/html").body;return i.firstChild.remove(),i}catch(e){return}}:function(e){return n.innerHTML=e,t.documentMode&&f(n),n}):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var i=new e.XMLHttpRequest;i.responseType="document",i.open("GET","data:text/html;charset=utf-8,"+t,!1),i.send(null);var n=i.response.body;return n.firstChild.remove(),n}}(e,e.document)}).info({angularVersion:"1.6.9"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,n=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,r=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,p){function h(e){var t,i;e&&w.push((t=e,d(i=[],s).chars(t),i.join("")))}if(null==t||""===t)return t;if(!c(t))throw a("notstring","Expected string but received: {0}",t);for(var m,f,g,v=r(p)?p:l(p)?function(){return p}:function(){return{}},b=t,w=[];m=b.match(i);)f=m[0],m[2]||m[4]||(f=(m[3]?"http://":"mailto:")+f),g=m.index,h(b.substr(0,g)),function(e,t){var i,n=v(e);for(i in w.push("<a "),n)w.push(i+'="'+n[i]+'" ');!o(u)||"target"in n||w.push('target="',u,'" '),w.push('href="',e.replace(/"/g,"&quot;"),'">'),h(t),w.push("</a>")}(f,m[0].replace(n,"")),b=b.substring(g+m[0].length);return h(b),e(w.join(""))}}])}(window,window.angular),function(){var e,t,i,n,a,o,r,s,l=[].slice,c={}.hasOwnProperty;r=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,a;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[i])for(n=0,a=t.length;n<a;n++)t[n].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,a,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=a=0,o=i.length;a<o;n=++a)if(i[n]===t){i.splice(n,1);break}return this},e}(),(e=function(){function e(t,n){var a,o,r;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone,e.instances.push(this),this.element.dropzone=this,a=null!=(r=e.optionsForElement(this.element))?r:{},this.options=i({},this.defaultOptions,a,null!=n?n:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),this.options.url,this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=e.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=e.getElements(this.options.clickable,"clickable")),this.init()}var i,n;return function(e,t){function i(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(e,t),e.prototype.Emitter=t,e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return r},forceFallback:!1,fallback:function(){var t,i,n,a,o,r;for(this.element.className=this.element.className+" dz-browser-not-supported",a=0,o=(r=this.element.getElementsByTagName("div")).length;a<o;a++)t=r[a],/(^| )dz-message($| )/.test(t.className)&&((i=t).className="dz-message");return i||(i=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),(n=i.getElementsByTagName("span")[0])&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n<i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:r,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var i,n,a,o,r,s,l,c,d,u,p,h,m;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),a=0,s=(d=t.previewElement.querySelectorAll("[data-dz-name]")).length;a<s;a++)d[a].textContent=this._renameFilename(t.name);for(o=0,l=(u=t.previewElement.querySelectorAll("[data-dz-size]")).length;o<l;o++)u[o].innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),m=this,i=function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(m.options.dictCancelUploadConfirmation,function(){return m.removeFile(t)}):m.options.dictRemoveFileConfirmation?e.confirm(m.options.dictRemoveFileConfirmation,function(){return m.removeFile(t)}):m.removeFile(t)},h=[],r=0,c=(p=t.previewElement.querySelectorAll("[data-dz-remove]")).length;r<c;r++)n=p[r],h.push(n.addEventListener("click",i));return h}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,a,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),n=0,a=(o=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<a;n++)(i=o[n]).alt=e.name,i.src=t;return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){var i,n,a,o,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=[],n=0,a=(o=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<a;n++)i=o[n],r.push(i.textContent=t);return r}},errormultiple:r,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:r,uploadprogress:function(e,t,i){var n,a,o,r,s;if(e.previewElement){for(s=[],a=0,o=(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;a<o;a++)"PROGRESS"===(n=r[a]).nodeName?s.push(n.value=t):s.push(n.style.width=t+"%");return s}},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:r,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:r,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:r,maxfilesexceeded:r,maxfilesreached:r,queuecomplete:r,addedfiles:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,i,n,a,o,r;for(n=arguments[0],o=0,r=(i=2<=arguments.length?l.call(arguments,1):[]).length;o<r;o++)for(e in t=i[o])a=t[e],n[e]=a;return n},e.prototype.getAcceptedFiles=function(){var e,t,i,n,a;for(a=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&a.push(e);return a},e.prototype.getRejectedFiles=function(){var e,t,i,n,a;for(a=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||a.push(e);return a},e.prototype.getFilesWithStatus=function(e){var t,i,n,a,o;for(o=[],i=0,n=(a=this.files).length;i<n;i++)(t=a[i]).status===e&&o.push(t);return o},e.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(e.QUEUED)},e.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(e.UPLOADING)},e.prototype.getAddedFiles=function(){return this.getFilesWithStatus(e.ADDED)},e.prototype.getActiveFiles=function(){var t,i,n,a,o;for(o=[],i=0,n=(a=this.files).length;i<n;i++)(t=a[i]).status!==e.UPLOADING&&t.status!==e.QUEUED||o.push(t);return o},e.prototype.init=function(){var t,i,n,a,o,r,s,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,(n=function(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||1<l.options.maxFiles)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e,t,i,a;if((t=l.hiddenFileInput.files).length)for(i=0,a=t.length;i<a;i++)e=t[i],l.addFile(e);return l.emit("addedfiles",t),n()})})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,a=0,o=(s=this.events).length;a<o;a++)t=s[a],this.on(t,this.options[t]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){return i(t),e.emit("dragenter",t)}}(this),dragover:function(e){return function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",i(t),e.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){return i(t),e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(t){return function(i){return t.listeners.push({element:i,events:{click:function(n){return i===t.element&&n.target!==t.element&&!e.elementInside(n.target,t.element.querySelector(".dz-message"))||t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)},e.prototype.updateTotalUploadProgress=function(){var e,t,i,n,a,o,r;if(t=i=0,this.getActiveFiles().length){for(a=0,o=(r=this.getActiveFiles()).length;a<o;a++)i+=(e=r[a]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},e.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},e.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},e.prototype.getFallbackForm=function(){var t,i,n,a;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',i=e.createElement(n),"FORM"!==this.element.tagName?(a=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=a?a:i)},e.prototype.getExistingFallback=function(){var e,t,i,n,a,o;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,a=(o=["div","form"]).length;n<a;n++)if(i=o[n],e=t(this.element.getElementsByTagName(i)))return e},e.prototype.setupEventListeners=function(){var e,t,i,n,a,o,r;for(r=[],n=0,a=(o=this.listeners).length;n<a;n++)e=o[n],r.push(function(){var n,a;for(t in a=[],n=e.events)i=n[t],a.push(e.element.addEventListener(t,i,!1));return a}());return r},e.prototype.removeEventListeners=function(){var e,t,i,n,a,o,r;for(r=[],n=0,a=(o=this.listeners).length;n<a;n++)e=o[n],r.push(function(){var n,a;for(t in a=[],n=e.events)i=n[t],a.push(e.element.removeEventListener(t,i,!1));return a}());return r},e.prototype.disable=function(){var e,t,i,n,a;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),a=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],a.push(this.cancelUpload(e));return a},e.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(e){var t,i,n,a,o,r,s;if(n="b",(i=0)<e){for(t=r=0,s=(o=["TB","GB","MB","KB","b"]).length;r<s;t=++r)if(a=o[t],Math.pow(this.options.filesizeBase,4-t)/10<=e){i=e/Math.pow(this.options.filesizeBase,4-t),n=a;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+n},e.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},e.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},e.prototype.handleFiles=function(e){var t,i,n,a;for(a=[],i=0,n=e.length;i<n;i++)t=e[i],a.push(this.addFile(t));return a},e.prototype._addFilesFromItems=function(e){var t,i,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?o.push(this.addFile(i.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null==i.getAsFile||null!=i.kind&&"file"!==i.kind?o.push(void 0):o.push(this.addFile(i.getAsFile()));return o},e.prototype._addFilesFromDirectory=function(e,t){var i,n,a,o;return i=e.createReader(),n=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},o=this,(a=function(){return i.readEntries(function(e){var i,n,r;if(0<e.length){for(n=0,r=e.length;n<r;n++)(i=e[n]).isFile?i.file(function(e){if(!o.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,o.addFile(e)}):i.isDirectory&&o._addFilesFromDirectory(i,t+"/"+i.name);a()}return null},n)})()},e.prototype.accept=function(t,i){
return t.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,i):i(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(i=this,function(e){return e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()}));var i},e.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},e.prototype.enqueueFile=function(t){if(t.status!==e.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=e.QUEUED,this.options.autoProcessQueue)return setTimeout((i=this,function(){return i.processQueue()}),0);var i},e.prototype._thumbnailQueue=[],e.prototype._processingThumbnail=!1,e.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},e.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},e.prototype.removeFile=function(t){if(t.status===e.UPLOADING&&this.cancelUpload(t),this.files=s(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},e.prototype.removeAllFiles=function(t){var i,n,a,o;for(null==t&&(t=!1),n=0,a=(o=this.files.slice()).length;n<a;n++)(i=o[n]).status===e.UPLOADING&&!t||this.removeFile(i);return null},e.prototype.createThumbnail=function(e,t){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}),i.readAsDataURL(e)},e.prototype.createThumbnailFromUrl=function(e,t,i,n){var a,r;return a=document.createElement("img"),n&&(a.crossOrigin=n),a.onload=(r=this,function(){var t,n,s,l,c,d,u,p;if(e.width=a.width,e.height=a.height,null==(s=r.options.resize.call(r,e)).trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),n=(t=document.createElement("canvas")).getContext("2d"),t.width=s.trgWidth,t.height=s.trgHeight,o(n,a,null!=(c=s.srcX)?c:0,null!=(d=s.srcY)?d:0,s.srcWidth,s.srcHeight,null!=(u=s.trgX)?u:0,null!=(p=s.trgY)?p:0,s.trgWidth,s.trgHeight),l=t.toDataURL("image/png"),r.emit("thumbnail",e,l),null!=i)return i()}),null!=i&&(a.onerror=i),a.src=t},e.prototype.processQueue=function(){var e,t,i,n;if(!((t=this.options.parallelUploads)<=(e=i=this.getUploadingFiles().length))&&0<(n=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},e.prototype.processFile=function(e){return this.processFiles([e])},e.prototype.processFiles=function(t){var i,n,a;for(n=0,a=t.length;n<a;n++)(i=t[n]).processing=!0,i.status=e.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(e){var t;return function(){var i,n,a,o;for(o=[],i=0,n=(a=this.files).length;i<n;i++)(t=a[i]).xhr===e&&o.push(t);return o}.call(this)},e.prototype.cancelUpload=function(t){var i,n,a,o,r,s,l;if(t.status===e.UPLOADING){for(a=0,r=(n=this._getFilesWithXhr(t.xhr)).length;a<r;a++)(i=n[a]).status=e.CANCELED;for(t.xhr.abort(),o=0,s=n.length;o<s;o++)i=n[o],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=t.status)!==e.ADDED&&l!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},n=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},e.prototype.uploadFile=function(e){return this.uploadFiles([e])},e.prototype.uploadFiles=function(t){var a,o,r,s,l,c,d,u,p,h,m,f,g,v,b,w,y,_,C,x,k,S,T,E,$,I,P,z,A,M,O,L,D,B;for(_=new XMLHttpRequest,C=0,T=t.length;C<T;C++)(a=t[C]).xhr=_;for(s in f=n(this.options.method,t),w=n(this.options.url,t),_.open(f,w,!0),_.withCredentials=!!this.options.withCredentials,v=null,r=function(){var e,i,n;for(n=[],e=0,i=t.length;e<i;e++)a=t[e],n.push(B._errorProcessing(t,v||B.options.dictResponseError.replace("{{statusCode}}",_.status),_));return n},b=function(e){return function(i){var n,o,r,s,l,c,d,u,p;if(null!=i)for(o=100*i.loaded/i.total,r=0,c=t.length;r<c;r++)(a=t[r]).upload={progress:o,total:i.total,bytesSent:i.loaded};else{for(n=!0,o=100,s=0,d=t.length;s<d;s++)100===(a=t[s]).upload.progress&&a.upload.bytesSent===a.upload.total||(n=!1),a.upload.progress=o,a.upload.bytesSent=a.upload.total;if(n)return}for(p=[],l=0,u=t.length;l<u;l++)a=t[l],p.push(e.emit("uploadprogress",a,o,a.upload.bytesSent));return p}}(B=this),_.onload=function(i){return function(n){var a;if(t[0].status!==e.CANCELED&&4===_.readyState){if(v=_.responseText,_.getResponseHeader("content-type")&&~_.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(e){n=e,v="Invalid JSON response from server."}return b(),200<=(a=_.status)&&a<300?i._finished(t,v,n):r()}}}(this),_.onerror=function(){if(t[0].status!==e.CANCELED)return r()},(null!=(z=_.upload)?z:_).onprogress=b,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(c,this.options.headers),c)(l=c[s])&&_.setRequestHeader(s,l);if(o=new FormData,this.options.params)for(m in A=this.options.params)y=A[m],o.append(m,y);for(x=0,E=t.length;x<E;x++)a=t[x],this.emit("sending",a,_,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,_,o),"FORM"===this.element.tagName)for(k=0,$=(M=this.element.querySelectorAll("input, textarea, select, button")).length;k<$;k++)if(p=(u=M[k]).getAttribute("name"),h=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(S=0,I=(O=u.options).length;S<I;S++)(g=O[S]).selected&&o.append(p,g.value);else(!h||"checkbox"!==(L=h.toLowerCase())&&"radio"!==L||u.checked)&&o.append(p,u.value);for(d=P=0,D=t.length-1;0<=D?P<=D:D<=P;d=0<=D?++P:--P)o.append(this._getParamName(d),t[d],this._renameFilename(t[d].name));return this.submitRequest(_,o,t)},e.prototype.submitRequest=function(e,t,i){return e.send(t)},e.prototype._finished=function(t,i,n){var a,o,r;for(o=0,r=t.length;o<r;o++)(a=t[o]).status=e.SUCCESS,this.emit("success",a,i,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},e.prototype._errorProcessing=function(t,i,n){var a,o,r;for(o=0,r=t.length;o<r;o++)(a=t[o]).status=e.ERROR,this.emit("error",a,i,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},e}()).version="4.3.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[i(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,a,o,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],(t=function(e){var t,i,a,o;for(o=[],i=0,a=e.length;i<a;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?o.push(n.push(t)):o.push(void 0);return o})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),r=[],a=0,o=n.length;a<o;a++)i=n[a],!1!==e.optionsForElement(i)?r.push(new e(i)):r.push(void 0);return r},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,a;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(i=0,n=(a=e.blacklistedBrowsers).length;i<n;i++)a[i].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},s=function(e,t){var i,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)(i=e[n])!==t&&o.push(i);return o},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(e,t){var i,n,a,o,r,s,l;if(e instanceof Array){n=[];try{for(a=0,r=e.length;a<r;a++)i=e[a],n.push(this.getElement(i,t))}catch(e){n=null}}else if("string"==typeof e)for(n=[],o=0,s=(l=document.querySelectorAll(e)).length;o<s;o++)i=l[o],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},e.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},e.isValidFile=function(e,t){var i,n,a,o,r;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),o=0,r=t.length;o<r;o++)if("."===(a=(a=t[o]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(a.toLowerCase(),e.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(i===a.replace(/\/.*$/,""))return!0}else if(n===a)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",a=function(e){var t,i,n,a,o,r,s,l;for(e.naturalWidth,o=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=o,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,o).data,l=0,r=a=o;l<r;)0===n[4*(r-1)+3]?a=r:l=r,r=a+l>>1;return 0==(s=r/o)?1:s},o=function(e,t,i,n,o,r,s,l,c,d){var u;return u=a(t),e.drawImage(t,i,n,o,r,s,l,c,d/u)},n=function(e,t){var i,n,a,o,r,s,l,c,d;if(d=!(a=!1),n=e.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",o=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?e:n)[l](s+i.type,o,!1),!a&&(a=!0)?t.call(e,i.type||i):void 0},r=function(){try{c.doScroll("left")}catch(e){return void setTimeout(r,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{d=!e.frameElement}catch(e){}d&&r()}return n[i](s+"DOMContentLoaded",o,!1),n[i](s+"readystatechange",o,!1),e[i](s+"load",o,!1)}},e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()},"function"!=typeof window.Dropzone&&n(window,e._autoDiscoverFunction)}.call(this),function(e){"use strict";function t(e,t){e.module("thatisuday.dropzone",[]).provider("dropzoneOps",function(){var t={};return{setOptions:function(i){e.extend(t,i)},$get:function(){return t}}}).directive("ngDropzone",["$timeout","dropzoneOps",function(i,n){return{restrict:"AE",template:"<div></div>",replace:!0,scope:{options:"=?",callbacks:"=?",methods:"=?"},link:function(i,a,o){i.options=i.options||{};var r=e.extend({},n,i.options),s=new t(a[0],r);i.methods=i.methods||{},i.methods.getDropzone=function(){return s},i.methods.getAllFiles=function(){return s.files},e.forEach(["removeFile","removeAllFiles","processQueue","getAcceptedFiles","getRejectedFiles","getQueuedFiles","getUploadingFiles","disable","enable","confirm","createThumbnailFromUrl"],function(e){i.methods[e]=function(){s[e].apply(s,arguments),i.$$phase||i.$root.$$phase||i.$apply()}}),i.callbacks&&e.forEach(["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecomplete"],function(t){var n=i.callbacks[t]||e.noop;s.on(t,function(){n.apply(null,arguments),i.$$phase||i.$root.$$phase||i.$apply()})})}}}])}"object"==typeof module&&module.exports?module.exports=t(require("angular"),require("dropzone")):"function"==typeof define&&define.amd?define(["angular","dropzone"],t):t(e.angular,e.Dropzone)}(this),function(e){function t(t,a,s,c,d){var u=t[0];if(!u)return!1;var p=r(u),h=-1!==p.indexOf(" ")?" ":"　",m="letter"==c.wrap?"":h,f=p.split(m),g=-1,v=-1,b=0,w=f.length-1;for(c.fallbackToLetter&&0==b&&0==w&&(m="",w=(f=p.split(m)).length-1);b<=w&&(0!=b||0!=w);){var y=Math.floor((b+w)/2);if(y==v)break;v=y,o(u,f.slice(0,v+1).join(m)+c.ellipsis),s.children().each(function(){e(this).toggle().toggle()}),i(s,c)?(w=v,c.fallbackToLetter&&0==b&&0==w&&(m="",v=g=-1,w=(f=f[b=0].split(m)).length-1)):b=g=v}if(-1==g||1==f.length&&0==f[0].length){var _=t.parent();t.detach();var C=d&&d.closest(_).length?d.length:0;if(_.contents().length>C?u=l(_.contents().eq(-1-C),a):(u=l(_,a,!0),C||_.detach()),u&&(o(u,p=n(r(u),c)),C&&d)){var x=d.parent();e(u).parent().append(d),e.trim(x.html())||x.remove()}}else o(u,p=n(f.slice(0,g+1).join(m),c));return!0}function i(e,t){return e.innerHeight()>t.maxHeight}function n(t,i){for(;-1<e.inArray(t.slice(-1),i.lastCharacter.remove);)t=t.slice(0,-1);return e.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function o(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function r(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function s(e){for(;(e=e.previousSibling)&&1!==e.nodeType&&3!==e.nodeType;);return e}function l(t,i,n){var a,o=t&&t[0];if(o){if(!n){if(3===o.nodeType)return o;if(e.trim(t.text()))return l(t.contents().last(),i)}for(a=s(o);!a;){if((t=t.parent()).is(i)||!t.length)return!1;a=s(t[0])}if(a)return l(e(a),i)}return!1}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(n){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){e(this).dotdotdot(n)});var o=this,r=o.contents();o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(n,a){switch(o.removeClass("is-truncated"),n.preventDefault(),n.stopPropagation(),typeof d.height){case"number":d.maxHeight=d.height;break;case"function":d.maxHeight=d.height.call(o[0]);break;default:d.maxHeight=function(e){for(var t=e.innerHeight(),i=["paddingTop","paddingBottom"],n=0,a=i.length;n<a;n++){var o=parseInt(e.css(i[n]),10);isNaN(o)&&(o=0),t-=o}return t}(o)}d.maxHeight+=d.tolerance,void 0!==a&&(("string"==typeof a||"nodeType"in a&&1===a.nodeType)&&(a=e("<div />").append(a).contents()),a instanceof e&&(r=a)),(m=o.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(r.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var s=!1,l=!1;return u.afterElement&&((s=u.afterElement.clone(!0)).show(),u.afterElement.detach()),i(m,d)&&(l="children"==d.wrap?function(e,t,n){var a=e.children(),o=!1;e.empty();for(var r=0,s=a.length;r<s;r++){var l=a.eq(r);if(e.append(l),n&&e.append(n),i(e,t)){l.remove(),o=!0;break}n&&n.detach()}return o}(m,d,s):function n(a,o,r,s,l){var c=!1;return a.contents().detach().each(function(){var d=this,u=e(d);if(void 0===d)return!0;if(u.is("script, .dotdotdot-keep"))a.append(u);else{if(c)return!0;a.append(u),!l||u.is(s.after)||u.find(s.after).length||a[a.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),i(r,s)&&(c=3==d.nodeType?t(u,o,r,s,l):n(u,o,r,s,l)),c||l&&l.detach()}}),o.addClass("is-truncated"),c}(m,o,m,d,s)),m.replaceWith(m.contents()),m=null,e.isFunction(d.callback)&&d.callback.call(o[0],l,r),u.isTruncated=l}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],u.isTruncated),u.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],r),r}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(r).attr("style",o.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==d.watch){var t=e(window),i=t.width(),n=t.height();t.bind("resize.dot"+u.dotId,function(){i==t.width()&&n==t.height()&&d.windowResizeFix||(i=t.width(),n=t.height(),h&&clearInterval(h),h=setTimeout(function(){o.trigger("update.dot")},100))})}else p=a(o),h=setInterval(function(){if(o.is(":visible")){var e=a(o);p.width==e.width&&p.height==e.height||(o.trigger("update.dot"),p=e)}},500);return o},o.unwatch=function(){return e(window).unbind("resize.dot"+u.dotId),h&&clearInterval(h),o};var s,l,d=e.extend(!0,{},e.fn.dotdotdot.defaults,n),u={},p={},h=null,m=null;return d.lastCharacter.remove instanceof Array||(d.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),d.lastCharacter.noEllipsis instanceof Array||(d.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),u.afterElement=(s=d.after,l=o,!!s&&("string"!=typeof s?!!s.jquery&&s:!!(s=e(s,l)).length&&s)),u.isTruncated=!1,u.dotId=c++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),d.watch&&o.watch(),o},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(e){};var c=1,d=e.fn.html;e.fn.html=function(t){return null!=t&&!e.isFunction(t)&&this.data("dotdotdot")?this.trigger("update",[t]):d.apply(this,arguments)};var u=e.fn.text;e.fn.text=function(t){return null!=t&&!e.isFunction(t)&&this.data("dotdotdot")?(t=e("<div />").text(t).html(),this.trigger("update",[t])):u.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(e){e(".dot-ellipsis").each(function(){var t=e(this).hasClass("dot-resize-update"),i=e(this).hasClass("dot-timer-update"),n=0,a=e(this).attr("class").split(/\s+/);e.each(a,function(e,t){var i=t.match(/^dot-height-(\d+)$/);null!==i&&(n=Number(i[1]))});var o=new Object;i&&(o.watch=!0),t&&(o.watch="window"),0<n&&(o.height=n),e(this).dotdotdot(o)})}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")}),function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){var t,i,n,a,o,r,s,l,c,d,u,p,h,m,f,g,v,b,w,y,_,C,x,k,S,T,E,$,I,P,z,A,M,O,L,D,B,F,R,N,H,j,q,W,G,U,Y,V,X,K,Q,Z,J,ee,te,ie;ee="function"==typeof define&&define.amd,te="undefined"!=typeof module&&module.exports,ie="https:"==document.location.protocol?"https:":"http:",ee||(te?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+ie+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js%3E%3C/script%3E"))),t="mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},n=0,a={},o=window.attachEvent&&!window.addEventListener?1:0,r=!1,l=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],c={init:function(t){t=e.extend(!0,{},i,t);var o=d.call(this);if(t.live){var r=t.liveSelector||this.selector||".mCustomScrollbar",s=e(r);if("off"===t.live)return void p(r);a[r]=setTimeout(function(){s.mCustomScrollbar(t),"once"===t.live&&s.length&&p(r)},500)}else p(r);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":h(t.axis),t.scrollInertia=0<t.scrollInertia&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=m(t.scrollButtons.scrollType),u(t),e(o).each(function(){var i=e(this);if(!i.data("mCS")){i.data("mCS",{idx:++n,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null});var a=i.data("mCS"),o=a.opt,r=i.data("mcs-axis"),s=i.data("mcs-scrollbar-position"),d=i.data("mcs-theme");r&&(o.axis=r),s&&(o.scrollbarPosition=s),d&&(o.theme=d,u(o)),f.call(this),e("#mCSB_"+a.idx+"_container img:not(."+l[2]+")").addClass(l[2]),c.update.call(null,i)}})},update:function(t,i){var n=t||d.call(this);return e(n).each(function(){var t=e(this);if(t.data("mCS")){var n=t.data("mCS"),a=n.opt,o=e("#mCSB_"+n.idx+"_container"),r=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!o.length)return;n.tweenRunning&&W(t),t.hasClass(l[3])&&t.removeClass(l[3]),t.hasClass(l[4])&&t.removeClass(l[4]),w.call(this),v.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||o.css("width",g(o.children())),n.overflowed=x.call(this),E.call(this),a.autoDraggerLength&&y.call(this),_.call(this),S.call(this);var s=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)];"x"!==a.axis&&(n.overflowed[0]?r[0].height()>r[0].parent().height()?k.call(this):(G(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(k.call(this),"y"===a.axis?T.call(this):"yx"===a.axis&&n.overflowed[1]&&G(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(n.overflowed[1]?r[1].width()>r[1].parent().width()?k.call(this):(G(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(k.call(this),"x"===a.axis?T.call(this):"yx"===a.axis&&n.overflowed[0]&&G(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&n&&(2===i&&a.callbacks.onImageLoad&&"function"==typeof a.callbacks.onImageLoad?a.callbacks.onImageLoad.call(this):3===i&&a.callbacks.onSelectorChange&&"function"==typeof a.callbacks.onSelectorChange?a.callbacks.onSelectorChange.call(this):a.callbacks.onUpdate&&"function"==typeof a.callbacks.onUpdate&&a.callbacks.onUpdate.call(this)),q.call(this)}})},scrollTo:function(t,i){if(void 0!==t&&null!=t){var n=d.call(this);return e(n).each(function(){var n=e(this);if(n.data("mCS")){var a=n.data("mCS"),o=a.opt,r={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},r,i),l=H.call(this,t),c=0<s.scrollInertia&&s.scrollInertia<17?17:s.scrollInertia;l[0]=j.call(this,l[0],"y"),l[1]=j.call(this,l[1],"x"),s.moveDragger&&(l[0]*=a.scrollRatio.y,l[1]*=a.scrollRatio.x),s.dur=c,setTimeout(function(){null!==l[0]&&void 0!==l[0]&&"x"!==o.axis&&a.overflowed[0]&&(s.dir="y",s.overwrite="all",G(n,l[0].toString(),s)),null!==l[1]&&void 0!==l[1]&&"y"!==o.axis&&a.overflowed[1]&&(s.dir="x",s.overwrite="none",G(n,l[1].toString(),s))},s.timeout)}})}},stop:function(){var t=d.call(this);return e(t).each(function(){var t=e(this);t.data("mCS")&&W(t)})},disable:function(t){var i=d.call(this);return e(i).each(function(){var i=e(this);i.data("mCS")&&(i.data("mCS"),q.call(this,"remove"),T.call(this),t&&k.call(this),E.call(this,!0),i.addClass(l[3]))})},destroy:function(){var i=d.call(this);return e(i).each(function(){var n=e(this);if(n.data("mCS")){var a=n.data("mCS"),o=a.opt,r=e("#mCSB_"+a.idx),s=e("#mCSB_"+a.idx+"_container"),c=e(".mCSB_"+a.idx+"_scrollbar");o.live&&p(o.liveSelector||e(i).selector),q.call(this,"remove"),T.call(this),k.call(this),n.removeData("mCS"),X(this,"mcs"),c.remove(),s.find("img."+l[2]).removeClass(l[2]),r.replaceWith(s.contents()),n.removeClass(t+" _mCS_"+a.idx+" "+l[6]+" "+l[7]+" "+l[5]+" "+l[3]).addClass(l[4])}})}},d=function(){return"object"!=typeof e(this)||e(this).length<1?".mCustomScrollbar":this},u=function(t){t.autoDraggerLength=!(-1<e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&t.autoDraggerLength,t.autoExpandScrollbar=!(-1<e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&t.autoExpandScrollbar,t.scrollButtons.enable=!(-1<e.inArray(t.theme,["minimal","minimal-dark"]))&&t.scrollButtons.enable,t.autoHideScrollbar=-1<e.inArray(t.theme,["minimal","minimal-dark"])||t.autoHideScrollbar,t.scrollbarPosition=-1<e.inArray(t.theme,["minimal","minimal-dark"])?"outside":t.scrollbarPosition},p=function(e){a[e]&&(clearTimeout(a[e]),X(a,e))},h=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},m=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},f=function(){var i=e(this),n=i.data("mCS"),a=n.opt,o=a.autoExpandScrollbar?" "+l[1]+"_expand":"",r=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+o+"'><div class='"+l[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+o+"'><div class='"+l[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===a.axis?r[0]+r[1]:"x"===a.axis?r[1]:r[0],d="yx"===a.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=a.autoHideScrollbar?" "+l[6]:"",p="x"!==a.axis&&"rtl"===n.langDir?" "+l[7]:"";a.setWidth&&i.css("width",a.setWidth),a.setHeight&&i.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===n.langDir?"989999px":a.setLeft,i.addClass(t+" _mCS_"+n.idx+u+p).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir="+n.langDir+" /></div>");var h=e("#mCSB_"+n.idx),m=e("#mCSB_"+n.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||m.css("width",g(m.children())),"outside"===a.scrollbarPosition?("static"===i.css("position")&&i.css("position","relative"),i.css("overflow","visible"),h.addClass("mCSB_outside").after(c)):(h.addClass("mCSB_inside").append(c),m.wrap(d)),b.call(this);var f=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];f[0].css("min-height",f[0].height()),f[1].css("min-width",f[1].width())},g=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},v=function(){var t=e(this).data("mCS"),i=t.opt,n=e("#mCSB_"+t.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&n.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right+.4)-Math.floor(n[0].getBoundingClientRect().left),position:"relative"}).unwrap()},b=function(){var t=e(this).data("mCS"),i=t.opt,n=e(".mCSB_"+t.idx+"_scrollbar:first"),a=Z(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",o=["<a href='#' class='"+l[13]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+l[14]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+l[15]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+l[16]+"' oncontextmenu='return false;' "+a+" />"],r=["x"===i.axis?o[2]:o[0],"x"===i.axis?o[3]:o[1],o[2],o[3]];i.scrollButtons.enable&&n.prepend(r[0]).append(r[1]).next(".mCSB_scrollTools").prepend(r[2]).append(r[3])},w=function(){var t=e(this),i=t.data("mCS"),n=e("#mCSB_"+i.idx),a=t.css("max-height")||"none",o=-1!==a.indexOf("%"),r=t.css("box-sizing");if("none"!==a){var s=o?t.parent().height()*parseInt(a)/100:parseInt(a);"border-box"===r&&(s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),n.css("max-height",Math.round(s))}},y=function(){var t=e(this).data("mCS"),i=e("#mCSB_"+t.idx),n=e("#mCSB_"+t.idx+"_container"),a=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],r=[i.height()/n.outerHeight(!1),i.width()/n.outerWidth(!1)],s=[parseInt(a[0].css("min-height")),Math.round(r[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(r[1]*a[1].parent().width())],l=o&&s[1]<s[0]?s[0]:s[1],c=o&&s[3]<s[2]?s[2]:s[3];a[0].css({height:l,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),a[1].css({width:c,"max-width":a[1].parent().width()-10})},_=function(){var t=e(this).data("mCS"),i=e("#mCSB_"+t.idx),n=e("#mCSB_"+t.idx+"_container"),a=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],o=[n.outerHeight(!1)-i.height(),n.outerWidth(!1)-i.width()],r=[o[0]/(a[0].parent().height()-a[0].height()),o[1]/(a[1].parent().width()-a[1].width())];t.scrollRatio={y:r[0],x:r[1]}},C=function(e,t,i){
var n=i?l[0]+"_expanded":"",a=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(l[0]+" "+n),a.toggleClass(l[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(l[0]),a.removeClass(l[1])):(e.addClass(l[0]),a.addClass(l[1])))},x=function(){var t=e(this).data("mCS"),i=e("#mCSB_"+t.idx),n=e("#mCSB_"+t.idx+"_container"),a=null==t.overflowed?n.height():n.outerHeight(!1),o=null==t.overflowed?n.width():n.outerWidth(!1);return[a>i.height(),o>i.width()]},k=function(){var t=e(this),i=t.data("mCS"),n=i.opt,a=e("#mCSB_"+i.idx),o=e("#mCSB_"+i.idx+"_container"),r=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(W(t),("x"!==n.axis&&!i.overflowed[0]||"y"===n.axis&&i.overflowed[0])&&(r[0].add(o).css("top",0),G(t,"_resetY")),"y"!==n.axis&&!i.overflowed[1]||"x"===n.axis&&i.overflowed[1]){var s=dx=0;"rtl"===i.langDir&&(s=a.width()-o.outerWidth(!1),dx=Math.abs(s/i.scrollRatio.x)),o.css("left",s),r[1].css("left",dx),G(t,"_resetX")}},S=function(){var t=e(this),i=t.data("mCS"),n=i.opt;if(!i.bindEvents){if(I.call(this),n.contentTouchScroll&&P.call(this),z.call(this),n.mouseWheel.enable){var a;!function i(){a=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(a),A.call(t[0])):i()},100)}()}L.call(this),B.call(this),n.advanced.autoScrollOnFocus&&D.call(this),n.scrollButtons.enable&&F.call(this),n.keyboard.enable&&R.call(this),i.bindEvents=!0}},T=function(){var t=e(this),i=t.data("mCS"),n=i.opt,a="mCS_"+i.idx,o=".mCSB_"+i.idx+"_scrollbar",r=e("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+o+" ."+l[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+o+">a"),s=e("#mCSB_"+i.idx+"_container");n.advanced.releaseDraggableSelectors&&r.add(e(n.advanced.releaseDraggableSelectors)),i.bindEvents&&(e(document).unbind("."+a),r.each(function(){e(this).unbind("."+a)}),clearTimeout(t[0]._focusTimeout),X(t[0],"_focusTimeout"),clearTimeout(i.sequential.step),X(i.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),X(s[0],"onCompleteTimeout"),i.bindEvents=!1)},E=function(t){var i=e(this),n=i.data("mCS"),a=n.opt,o=e("#mCSB_"+n.idx+"_container_wrapper"),r=o.length?o:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==a.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),r.removeClass(l[8]+" "+l[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[0].css("display","none"),r.removeClass(l[10])):(s[0].css("display","none"),r.addClass(l[10])),r.addClass(l[8]))),"y"!==a.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),r.removeClass(l[9]+" "+l[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[1].css("display","none"),r.removeClass(l[11])):(s[1].css("display","none"),r.addClass(l[11])),r.addClass(l[9]))),n.overflowed[0]||n.overflowed[1]?i.removeClass(l[5]):i.addClass(l[5])},$=function(e){switch(e.type){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[t.screenY,t.screenX,1<i]:[t.pageY,t.pageX,1<i];default:return[e.pageY,e.pageX,!1]}},I=function(){function t(e){var t=h.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}}function i(e,t,i,a){if(h[0].idleTimer=d.scrollInertia<233?250:0,n.attr("id")===p[1])var o="x",r=(n[0].offsetLeft-t+a)*c.scrollRatio.x;else o="y",r=(n[0].offsetTop-e+i)*c.scrollRatio.y;G(l,r.toString(),{dir:o,drag:!0})}var n,a,s,l=e(this),c=l.data("mCS"),d=c.opt,u="mCS_"+c.idx,p=["mCSB_"+c.idx+"_dragger_vertical","mCSB_"+c.idx+"_dragger_horizontal"],h=e("#mCSB_"+c.idx+"_container"),m=e("#"+p[0]+",#"+p[1]),f=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m;m.bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(i){if(i.stopImmediatePropagation(),i.preventDefault(),K(i)){r=!0,o&&(document.onselectstart=function(){return!1}),t(!1),W(l);var c=(n=e(this)).offset(),u=$(i)[0]-c.top,p=$(i)[1]-c.left,h=n.height()+c.top,m=n.width()+c.left;u<h&&0<u&&p<m&&0<p&&(a=u,s=p),C(n,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=n.offset(),o=$(e)[0]-t.top,r=$(e)[1]-t.left;i(a,s,o,r)}),e(document).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(n){var t=n.offset(),o=$(e)[0]-t.top,r=$(e)[1]-t.left;if(a===o)return;i(a,s,o,r)}}).add(f).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(e){n&&(C(n,"active",d.autoExpandScrollbar),n=null),r=!1,o&&(document.onselectstart=null),t(!0)})},P=function(){function t(e){if(!Q(e)||r||$(e)[2])s=0;else{s=1,_=y=0,C.removeClass("mCS_touch_action");var t=E.offset();c=$(e)[0]-t.top,d=$(e)[1]-t.left,L=[$(e)[0],$(e)[1]]}}function i(e){if(Q(e)&&!r&&!$(e)[2]&&(e.stopImmediatePropagation(),!_||y)){m=Y();var t=T.offset(),i=$(e)[0]-t.top,n=$(e)[1]-t.left;if(P.push(i),z.push(n),L[2]=Math.abs($(e)[0]-L[0]),L[3]=Math.abs($(e)[1]-L[1]),x.overflowed[0])var a=I[0].parent().height()-I[0].height(),o=0<c-i&&i-c>-a*x.scrollRatio.y&&(2*L[3]<L[2]||"yx"===k.axis);if(x.overflowed[1])var s=I[1].parent().width()-I[1].width(),u=0<d-n&&n-d>-s*x.scrollRatio.x&&(2*L[2]<L[3]||"yx"===k.axis);o||u?(e.preventDefault(),y=1):(_=1,C.addClass("mCS_touch_action")),b="yx"===k.axis?[c-i,d-n]:"x"===k.axis?[null,d-n]:[c-i,null],E[0].idleTimer=250,x.overflowed[0]&&l(b[0],A,"mcsLinearOut","y","all",!0),x.overflowed[1]&&l(b[1],A,"mcsLinearOut","x",O,!0)}}function n(e){if(!Q(e)||r||$(e)[2])s=0;else{s=1,e.stopImmediatePropagation(),W(C),h=Y();var t=T.offset();u=$(e)[0]-t.top,p=$(e)[1]-t.left,P=[],z=[]}}function a(e){if(Q(e)&&!r&&!$(e)[2]){e.stopImmediatePropagation(),_=y=0,f=Y();var t=T.offset(),i=$(e)[0]-t.top,n=$(e)[1]-t.left;if(!(30<f-m)){var a=(v=1e3/(f-h))<2.5,s=a?[P[P.length-2],z[z.length-2]]:[0,0];g=a?[i-s[0],n-s[1]]:[i-u,n-p];var c=[Math.abs(g[0]),Math.abs(g[1])];v=a?[Math.abs(g[0]/4),Math.abs(g[1]/4)]:[v,v];var d=[Math.abs(E[0].offsetTop)-g[0]*o(c[0]/v[0],v[0]),Math.abs(E[0].offsetLeft)-g[1]*o(c[1]/v[1],v[1])];b="yx"===k.axis?[d[0],d[1]]:"x"===k.axis?[null,d[1]]:[d[0],null],w=[4*c[0]+k.scrollInertia,4*c[1]+k.scrollInertia];var C=parseInt(k.contentTouchScroll)||0;b[0]=C<c[0]?b[0]:0,b[1]=C<c[1]?b[1]:0,x.overflowed[0]&&l(b[0],w[0],"mcsEaseOut","y",O,!1),x.overflowed[1]&&l(b[1],w[1],"mcsEaseOut","x",O,!1)}}}function o(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return 90<e?4<t?i[0]:i[3]:60<e?3<t?i[3]:i[2]:30<e?8<t?i[1]:6<t?i[0]:4<t?t:i[2]:8<t?t:i[3]}function l(e,t,i,n,a,o){e&&G(C,e.toString(),{dur:t,scrollEasing:i,dir:n,overwrite:a,drag:o})}var c,d,u,p,h,m,f,g,v,b,w,y,_,C=e(this),x=C.data("mCS"),k=x.opt,S="mCS_"+x.idx,T=e("#mCSB_"+x.idx),E=e("#mCSB_"+x.idx+"_container"),I=[e("#mCSB_"+x.idx+"_dragger_vertical"),e("#mCSB_"+x.idx+"_dragger_horizontal")],P=[],z=[],A=0,O="yx"===k.axis?"none":"all",L=[],D=E.find("iframe"),B=["touchstart."+S+" pointerdown."+S+" MSPointerDown."+S,"touchmove."+S+" pointermove."+S+" MSPointerMove."+S,"touchend."+S+" pointerup."+S+" MSPointerUp."+S];E.bind(B[0],function(e){t(e)}).bind(B[1],function(e){i(e)}),T.bind(B[0],function(e){n(e)}).bind(B[2],function(e){a(e)}),D.length&&D.each(function(){e(this).load(function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind(B[0],function(e){t(e),n(e)}).bind(B[1],function(e){i(e)}).bind(B[2],function(e){a(e)})})})},z=function(){function t(e,t,a){l.type=a&&i?"stepped":"stepless",l.scrollAmount=10,N(n,e,t,"mcsLinearOut",a?60:null)}var i,n=e(this),a=n.data("mCS"),o=a.opt,l=a.sequential,c="mCS_"+a.idx,d=e("#mCSB_"+a.idx+"_container"),u=d.parent();d.bind("mousedown."+c,function(e){s||i||(i=1,r=!0)}).add(document).bind("mousemove."+c,function(e){if(!s&&i&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var n=d.offset(),r=$(e)[0]-n.top+d[0].offsetTop,c=$(e)[1]-n.left+d[0].offsetLeft;0<r&&r<u.height()&&0<c&&c<u.width()?l.step&&t("off",null,"stepped"):("x"!==o.axis&&a.overflowed[0]&&(r<0?t("on",38):r>u.height()&&t("on",40)),"y"!==o.axis&&a.overflowed[1]&&(c<0?t("on",37):c>u.width()&&t("on",39)))}}).bind("mouseup."+c,function(e){s||(i&&(i=0,t("off",null)),r=!1)})},A=function(){function t(t,r){if(W(i),!O(i,t.target)){var c="auto"!==a.mouseWheel.deltaFactor?parseInt(a.mouseWheel.deltaFactor):o&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===a.axis||"x"===a.mouseWheel.axis)var d="x",u=[Math.round(c*n.scrollRatio.x),parseInt(a.mouseWheel.scrollAmount)],p="auto"!==a.mouseWheel.scrollAmount?u[1]:u[0]>=s.width()?.9*s.width():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),m=l[1][0].offsetLeft,f=l[1].parent().width()-l[1].width(),g=t.deltaX||t.deltaY||r;else d="y",u=[Math.round(c*n.scrollRatio.y),parseInt(a.mouseWheel.scrollAmount)],p="auto"!==a.mouseWheel.scrollAmount?u[1]:u[0]>=s.height()?.9*s.height():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),m=l[0][0].offsetTop,f=l[0].parent().height()-l[0].height(),g=t.deltaY||r;"y"===d&&!n.overflowed[0]||"x"===d&&!n.overflowed[1]||((a.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g),a.mouseWheel.normalizeDelta&&(g=g<0?-1:1),(0<g&&0!==m||g<0&&m!==f||a.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),G(i,(h-g*p).toString(),{dir:d}))}}if(e(this).data("mCS")){var i=e(this),n=i.data("mCS"),a=n.opt,r="mCS_"+n.idx,s=e("#mCSB_"+n.idx),l=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],c=e("#mCSB_"+n.idx+"_container").find("iframe");c.length&&c.each(function(){e(this).load(function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,i){t(e,i)})})}),s.bind("mousewheel."+r,function(e,i){t(e,i)})}},M=function(e){var t=null;try{t=(e.contentDocument||e.contentWindow.document).body.innerHTML}catch(e){}return null!==t},O=function(t,i){var n=i.nodeName.toLowerCase(),a=t.data("mCS").opt.mouseWheel.disableOver;return-1<e.inArray(n,a)&&!(-1<e.inArray(n,["select","textarea"])&&!e(i).is(":focus"))},L=function(){var t=e(this),i=t.data("mCS"),n="mCS_"+i.idx,a=e("#mCSB_"+i.idx+"_container"),o=a.parent();e(".mCSB_"+i.idx+"_scrollbar ."+l[12]).bind("touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(e){r=!0}).bind("touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(e){r=!1}).bind("click."+n,function(n){if(e(n.target).hasClass(l[12])||e(n.target).hasClass("mCSB_draggerRail")){W(t);var r=e(this),s=r.find(".mCSB_dragger");if(0<r.parent(".mCSB_scrollTools_horizontal").length){if(!i.overflowed[1])return;var c="x",d=n.pageX>s.offset().left?-1:1,u=Math.abs(a[0].offsetLeft)-d*(.9*o.width())}else{if(!i.overflowed[0])return;c="y",d=n.pageY>s.offset().top?-1:1,u=Math.abs(a[0].offsetTop)-d*(.9*o.height())}G(t,u.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},D=function(){var t=e(this),i=t.data("mCS"),n=i.opt,a="mCS_"+i.idx,o=e("#mCSB_"+i.idx+"_container"),r=o.parent();o.bind("focusin."+a,function(i){var a=e(document.activeElement),s=o.find(".mCustomScrollBox").length;a.is(n.advanced.autoScrollOnFocus)&&(W(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=s?17*s:0,t[0]._focusTimeout=setTimeout(function(){var e=[J(a)[0],J(a)[1]],i=[o[0].offsetTop,o[0].offsetLeft],s=[0<=i[0]+e[0]&&i[0]+e[0]<r.height()-a.outerHeight(!1),0<=i[1]+e[1]&&i[0]+e[1]<r.width()-a.outerWidth(!1)],l="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===n.axis||s[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})},t[0]._focusTimer))})},B=function(){var t=e(this).data("mCS"),i="mCS_"+t.idx,n=e("#mCSB_"+t.idx+"_container").parent();n.bind("scroll."+i,function(i){0===n.scrollTop()&&0===n.scrollLeft()||e(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var t=e(this),i=t.data("mCS"),n=i.opt,a=i.sequential,o="mCS_"+i.idx,s=".mCSB_"+i.idx+"_scrollbar";e(s+">a").bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o+" mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o+" mouseout."+o+" pointerout."+o+" MSPointerOut."+o+" click."+o,function(o){function s(e,i){a.scrollAmount=n.snapAmount||n.scrollButtons.scrollAmount,N(t,e,i)}if(o.preventDefault(),K(o)){var l=e(this).attr("class");switch(a.type=n.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;r=!0,i.tweenRunning=!1,s("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;r=!1,a.dir&&s("off",l);break;case"click":if("stepped"!==a.type||i.tweenRunning)return;s("on",l)}}})},R=function(){function t(t){function r(e,t){o.type=a.keyboard.scrollType,o.scrollAmount=a.snapAmount||a.keyboard.scrollAmount,"stepped"===o.type&&n.tweenRunning||N(i,e,t)}switch(t.type){case"blur":n.tweenRunning&&o.dir&&r("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,u="on";if("x"!==a.axis&&(38===s||40===s)||"y"!==a.axis&&(37===s||39===s)){if((38===s||40===s)&&!n.overflowed[0]||(37===s||39===s)&&!n.overflowed[1])return;"keyup"===t.type&&(u="off"),e(document.activeElement).is(d)||(t.preventDefault(),t.stopImmediatePropagation(),r(u,s))}else if(33===s||34===s){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){W(i);var p=34===s?-1:1;if("x"===a.axis||"yx"===a.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(l[0].offsetLeft)-p*(.9*c.width());else h="y",m=Math.abs(l[0].offsetTop)-p*(.9*c.height());G(i,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else 35!==s&&36!==s||e(document.activeElement).is(d)||((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"!==t.type)||("x"===a.axis||"yx"===a.axis&&n.overflowed[1]&&!n.overflowed[0]?(h="x",m=35===s?Math.abs(c.width()-l.outerWidth(!1)):0):(h="y",m=35===s?Math.abs(c.height()-l.outerHeight(!1)):0),G(i,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"}))}}var i=e(this),n=i.data("mCS"),a=n.opt,o=n.sequential,r="mCS_"+n.idx,s=e("#mCSB_"+n.idx),l=e("#mCSB_"+n.idx+"_container"),c=l.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",u=l.find("iframe"),p=["blur."+r+" keydown."+r+" keyup."+r];u.length&&u.each(function(){e(this).load(function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind(p[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(p[0],function(e){t(e)})},N=function(t,i,n,a,o){function r(e){var i="stepped"!==d.type,n=o||(e?i?h/1.5:m:1e3/60),l=e?i?7.5:40:2.5,c=[Math.abs(u[0].offsetTop),Math.abs(u[0].offsetLeft)],p=[10<s.scrollRatio.y?10:s.scrollRatio.y,10<s.scrollRatio.x?10:s.scrollRatio.x],f="x"===d.dir[0]?c[1]+d.dir[1]*(p[1]*l):c[0]+d.dir[1]*(p[0]*l),g="x"===d.dir[0]?c[1]+d.dir[1]*parseInt(d.scrollAmount):c[0]+d.dir[1]*parseInt(d.scrollAmount),v="auto"!==d.scrollAmount?g:f,b=a||(e?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),w=!!e;e&&n<17&&(v="x"===d.dir[0]?c[1]:c[0]),G(t,v.toString(),{dir:d.dir[0],scrollEasing:b,dur:n,onComplete:w}),e?d.dir=!1:(clearTimeout(d.step),d.step=setTimeout(function(){r()},n))}var s=t.data("mCS"),c=s.opt,d=s.sequential,u=e("#mCSB_"+s.idx+"_container"),p="stepped"===d.type,h=c.scrollInertia<26?26:c.scrollInertia,m=c.scrollInertia<1?17:c.scrollInertia;switch(i){case"on":if(d.dir=[n===l[16]||n===l[15]||39===n||37===n?"x":"y",n===l[13]||n===l[15]||38===n||37===n?-1:1],W(t),Z(n)&&"stepped"===d.type)return;r(p);break;case"off":clearTimeout(d.step),X(d,"step"),W(t),(p||s.tweenRunning&&d.dir)&&r(!0)}},H=function(t){var i=e(this).data("mCS").opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=1<t.length?[t[0],t[1]]:"x"===i.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===i.axis?null:t,n[1]=t.x?t.x:t.y||"y"===i.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},j=function(t,i){if(null!=t&&void 0!==t){var n=e(this),a=n.data("mCS"),o=a.opt,r=e("#mCSB_"+a.idx+"_container"),s=r.parent(),l=typeof t,d="x"===(i=i||("x"===o.axis?"x":"y"))?r.outerWidth(!1):r.outerHeight(!1),u="x"===i?r[0].offsetLeft:r[0].offsetTop,p="x"===i?"left":"top";switch(l){case"function":return t();case"object":if(!(m=t.jquery?t:e(t)).length)return;return"x"===i?J(m)[1]:J(m)[0];case"string":case"number":if(Z(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(u-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var h=u+parseInt(t.split("+=")[1]);return 0<=h?0:Math.abs(h)}if(-1!==t.indexOf("px")&&Z(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-r.outerHeight(!1));if("right"===t)return Math.abs(s.width()-r.outerWidth(!1));if("first"!==t&&"last"!==t)return e(t).length?"x"===i?J(e(t))[1]:J(e(t))[0]:(r.css(p,t),void c.update.call(null,n[0]));var m=r.find(":"+t);return"x"===i?J(m)[1]:J(m)[0]}}},q=function(t){function i(){var e=0;return d.advanced.updateOnImageLoad&&(e=u.find("img").length),e}function n(t){if(e(t).hasClass(l[2]))o();else{var i,n,a=new Image;a.onload=(i=a,n=function(){this.onload=null,e(t).addClass(l[2]),o(2)},function(){return n.apply(i,arguments)}),a.src=t.src}}function a(){!0===d.advanced.updateOnSelectorChange&&(d.advanced.updateOnSelectorChange="*");var t=0,i=u.find(d.advanced.updateOnSelectorChange);return d.advanced.updateOnSelectorChange&&0<i.length&&i.each(function(){t+=e(this).height()+e(this).width()}),t}function o(e){clearTimeout(u[0].autoUpdate),c.update.call(null,r[0],e)}var r=e(this),s=r.data("mCS"),d=s.opt,u=e("#mCSB_"+s.idx+"_container");if(t)return clearTimeout(u[0].autoUpdate),void X(u[0],"autoUpdate");var p,h,m,f=u.parent(),g=[e("#mCSB_"+s.idx+"_scrollbar_vertical"),e("#mCSB_"+s.idx+"_scrollbar_horizontal")],v=function(){return[g[0].is(":visible")?g[0].outerHeight(!0):0,g[1].is(":visible")?g[1].outerWidth(!0):0]},b=a(),w=[u.outerHeight(!1),u.outerWidth(!1),f.height(),f.width(),v()[0],v()[1]],y=i();!function e(){if(clearTimeout(u[0].autoUpdate),0===r.parents("html").length)return void(r=null);u[0].autoUpdate=setTimeout(function(){if(d.advanced.updateOnSelectorChange&&(p=a())!==b)return o(3),void(b=p);d.advanced.updateOnContentResize&&((h=[u.outerHeight(!1),u.outerWidth(!1),f.height(),f.width(),v()[0],v()[1]])[0]===w[0]&&h[1]===w[1]&&h[2]===w[2]&&h[3]===w[3]&&h[4]===w[4]&&h[5]===w[5]||(o(h[0]!==w[0]||h[1]!==w[1]),w=h)),d.advanced.updateOnImageLoad&&(m=i())!==y&&(u.find("img").each(function(){n(this)}),y=m),(d.advanced.updateOnSelectorChange||d.advanced.updateOnContentResize||d.advanced.updateOnImageLoad)&&e()},d.advanced.autoUpdateTimeout)}()},W=function(t){var i=t.data("mCS");e("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal").each(function(){V.call(this)})},G=function(t,i,n){function a(e){return r&&s.callbacks[e]&&"function"==typeof s.callbacks[e]}function o(){var e=[u[0].offsetTop,u[0].offsetLeft],i=[f[0].offsetTop,f[0].offsetLeft],a=[u.outerHeight(!1),u.outerWidth(!1)],o=[d.height(),d.width()];t[0].mcs={content:u,top:e[0],left:e[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-o[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-o[1])),direction:n.dir}}var r=t.data("mCS"),s=r.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:s.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},c=[(n=e.extend(l,n)).dur,n.drag?0:n.dur],d=e("#mCSB_"+r.idx),u=e("#mCSB_"+r.idx+"_container"),p=u.parent(),h=s.callbacks.onTotalScrollOffset?H.call(t,s.callbacks.onTotalScrollOffset):[0,0],m=s.callbacks.onTotalScrollBackOffset?H.call(t,s.callbacks.onTotalScrollBackOffset):[0,0];if(r.trigger=n.trigger,0===p.scrollTop()&&0===p.scrollLeft()||(e(".mCSB_"+r.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==i||r.contentReset.y||(a("onOverflowYNone")&&s.callbacks.onOverflowYNone.call(t[0]),r.contentReset.y=1),"_resetX"!==i||r.contentReset.x||(a("onOverflowXNone")&&s.callbacks.onOverflowXNone.call(t[0]),r.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){switch(!r.contentReset.y&&t[0].mcs||!r.overflowed[0]||(a("onOverflowY")&&s.callbacks.onOverflowY.call(t[0]),r.contentReset.x=null),!r.contentReset.x&&t[0].mcs||!r.overflowed[1]||(a("onOverflowX")&&s.callbacks.onOverflowX.call(t[0]),r.contentReset.x=null),s.snapAmount&&(i=function(e,t,i){return Math.round(e/t)*t-i}(i,s.snapAmount,s.snapOffset)),n.dir){case"x":var f=e("#mCSB_"+r.idx+"_dragger_horizontal"),g="left",v=u[0].offsetLeft,b=[d.width()-u.outerWidth(!1),f.parent().width()-f.width()],w=[i,0===i?0:i/r.scrollRatio.x],y=h[1],_=m[1],x=0<y?y/r.scrollRatio.x:0,k=0<_?_/r.scrollRatio.x:0;break;case"y":f=e("#mCSB_"+r.idx+"_dragger_vertical"),g="top",v=u[0].offsetTop,b=[d.height()-u.outerHeight(!1),f.parent().height()-f.height()],w=[i,0===i?0:i/r.scrollRatio.y],y=h[0],_=m[0],x=0<y?y/r.scrollRatio.y:0,k=0<_?_/r.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=b[1]?w=[b[0],b[1]]:w[0]=-w[0],t[0].mcs||(o(),a("onInit")&&s.callbacks.onInit.call(t[0])),clearTimeout(u[0].onCompleteTimeout),!r.tweenRunning&&(0===v&&0<=w[0]||v===b[0]&&w[0]<=b[0])||(U(f[0],g,Math.round(w[1]),c[1],n.scrollEasing),U(u[0],g,Math.round(w[0]),c[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!r.tweenRunning&&(a("onScrollStart")&&(o(),s.callbacks.onScrollStart.call(t[0])),r.tweenRunning=!0,C(f),r.cbOffsets=[s.callbacks.alwaysTriggerOffsets||v>=b[0]+y,s.callbacks.alwaysTriggerOffsets||v<=-_])},onUpdate:function(){n.callbacks&&n.onUpdate&&a("whileScrolling")&&(o(),s.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===s.axis&&clearTimeout(u[0].onCompleteTimeout);var e=u[0].idleTimer||0;u[0].onCompleteTimeout=setTimeout(function(){a("onScroll")&&(o(),s.callbacks.onScroll.call(t[0])),a("onTotalScroll")&&w[1]>=b[1]-x&&r.cbOffsets[0]&&(o(),s.callbacks.onTotalScroll.call(t[0])),a("onTotalScrollBack")&&w[1]<=k&&r.cbOffsets[1]&&(o(),s.callbacks.onTotalScrollBack.call(t[0])),r.tweenRunning=!1,u[0].idleTimer=0,C(f,"hide")},e)}}}))}},U=function(e,t,i,n,a,o,r){function s(){b.stop||(f||u.call(),f=Y()-m,l(),f>=b.time&&(b.time=f>b.time?f+c-(f-b.time):f+c-1,b.time<f+1&&(b.time=f+1)),b.time<n?b.id=d(s):h.call())}function l(){0<n?(b.currVal=function(e,t,i,n,a){switch(a){case"linear":case"mcsLinear":return i*e/n+t;case"mcsLinearOut":return e/=n,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=n,-i*(--e*e*e*e-1)+t;case"easeOutStrong":return i*(1-Math.pow(2,-10*e/n))+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=n)*e,r=o*e;return t+i*(.499999999999997*r*o+-2.5*o*o+5.5*r+-6.5*o+4*e)}}(b.time,g,w,n,a),v[t]=Math.round(b.currVal)+"px"):v[t]=i+"px",p.call()}e._mTween||(e._mTween={top:{},left:{}});var c,d,u=(r=r||{}).onStart||function(){},p=r.onUpdate||function(){},h=r.onComplete||function(){},m=Y(),f=0,g=e.offsetTop,v=e.style,b=e._mTween[t];"left"===t&&(g=e.offsetLeft);var w=i-g;b.stop=0,"none"!==o&&function(){null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null)}(),c=1e3/60,b.time=f+c,d=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},b.id=d(s)},Y=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},V=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],i=0;i<t.length;i++){var n=t[i];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},X=function(e,t){try{delete e[t]}catch(i){e[t]=null}},K=function(e){return!(e.which&&1!==e.which)},Q=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},Z=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},J=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},e.fn[t]=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):c.init.apply(this,arguments)},e[t]=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):c.init.apply(this,arguments)},e[t].defaults=i,window[t]=!0,e(window).load(function(){e(".mCustomScrollbar")[t](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var i,n,a=e(t),o=a.parents(".mCSB_container");if(o.length)return i=o.parent(),0<=(n=[o[0].offsetTop,o[0].offsetLeft])[0]+J(a)[0]&&n[0]+J(a)[0]<i.height()-a.outerHeight(!1)&&0<=n[1]+J(a)[1]&&n[1]+J(a)[1]<i.width()-a.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var i=e(t).data("mCS");if(i)return i.overflowed[0]||i.overflowed[1]}})})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r,s=t||window.event,c=l.call(arguments,1),u=0,p=0,h=0,m=0,f=0;if((t=e.event.fix(s)).type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(p=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(p=-1*h,h=0),u=0===h?p:h,"deltaY"in s&&(u=h=-1*s.deltaY),"deltaX"in s&&(p=s.deltaX,0===h&&(u=-1*p)),0!==h||0!==p){if(1===s.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,h*=g,p*=g}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,h*=v,p*=v}if(r=Math.max(Math.abs(h),Math.abs(p)),(!o||r<o)&&n(s,o=r)&&(o/=40),n(s,r)&&(u/=40,p/=40,h/=40),u=Math[1<=u?"floor":"ceil"](u/o),p=Math[1<=p?"floor":"ceil"](p/o),h=Math[1<=h?"floor":"ceil"](h/o),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();m=t.clientX-b.left,f=t.clientY-b.top}return t.deltaX=p,t.deltaY=h,t.deltaFactor=o,t.offsetX=m,t.offsetY=f,t.deltaMode=0,c.unshift(t,u,p,h),a&&clearTimeout(a),a=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,c)}}function i(){o=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,o,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){function t(){}function i(e,t){h.ev.on("mfp"+e+".mfp",t)}function n(t,i,n,a){var o=document.createElement("div");return o.className="mfp-"+t,n&&(o.innerHTML=n),a?i&&i.appendChild(o):(o=e(o),i&&o.appendTo(i)),o}function a(t,i){h.ev.triggerHandler("mfp"+t,i),h.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),h.st.callbacks[t]&&h.st.callbacks[t].apply(h,e.isArray(i)?i:[i]))}function o(t){return t===b&&h.currTemplate.closeBtn||(h.currTemplate.closeBtn=e(h.st.closeMarkup.replace("%title%",h.st.tClose)),b=t),h.currTemplate.closeBtn}function r(){e.magnificPopup.instance||((h=new t).init(),e.magnificPopup.instance=h)}function s(){x&&(C.after(x.addClass(_)).detach(),x=null)}function l(){k&&e(document.body).removeClass(k)}function c(){l(),h.req&&h.req.abort()}function d(e){if(h.currTemplate.iframe){var t=h.currTemplate.iframe.find("iframe");t.length&&(e||(t[0].src="//about:blank"),h.isIE8&&t.css("display",e?"block":"none"))}}function u(e){var t=h.items.length;return t-1<e?e-t:e<0?t+e:e}function p(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)}var h,m,f,g,v,b,w=!!window.jQuery,y=e(window);t.prototype={constructor:t,init:function(){var t=navigator.appVersion;h.isLowIE=h.isIE8=document.all&&!document.addEventListener,h.isAndroid=/android/gi.test(t),h.isIOS=/iphone|ipad|ipod/gi.test(t),h.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),h.probablyMobile=h.isAndroid||h.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),f=e(document),h.popupsCache={}},open:function(t){var r;if(!1===t.isObj){h.items=t.items.toArray(),h.index=0;var s,l=t.items;for(r=0;r<l.length;r++)if((s=l[r]).parsed&&(s=s.el[0]),s===t.el[0]){h.index=r;break}}else h.items=e.isArray(t.items)?t.items:[t.items],h.index=t.index||0;if(!h.isOpen){h.types=[],v="",t.mainEl&&t.mainEl.length?h.ev=t.mainEl.eq(0):h.ev=f,t.key?(h.popupsCache[t.key]||(h.popupsCache[t.key]={}),h.currTemplate=h.popupsCache[t.key]):h.currTemplate={},h.st=e.extend(!0,{},e.magnificPopup.defaults,t),h.fixedContentPos="auto"===h.st.fixedContentPos?!h.probablyMobile:h.st.fixedContentPos,h.st.modal&&(h.st.closeOnContentClick=!1,h.st.closeOnBgClick=!1,h.st.showCloseBtn=!1,h.st.enableEscapeKey=!1),h.bgOverlay||(h.bgOverlay=n("bg").on("click.mfp",function(){h.close()}),h.wrap=n("wrap").attr("tabindex",-1).on("click.mfp",function(e){h._checkIfClose(e.target)&&h.close()}),h.container=n("container",h.wrap)),h.contentContainer=n("content"),h.st.preloader&&(h.preloader=n("preloader",h.container,h.st.tLoading));var c=e.magnificPopup.modules;for(r=0;r<c.length;r++){var d=c[r];d=d.charAt(0).toUpperCase()+d.slice(1),h["init"+d].call(h)}a("BeforeOpen"),h.st.showCloseBtn&&(h.st.closeBtnInside?(i("MarkupParse",function(e,t,i,n){i.close_replaceWith=o(n.type)}),v+=" mfp-close-btn-in"):h.wrap.append(o())),h.st.alignTop&&(v+=" mfp-align-top"),h.fixedContentPos?h.wrap.css({overflow:h.st.overflowY,overflowX:"hidden",overflowY:h.st.overflowY}):h.wrap.css({top:y.scrollTop(),position:"absolute"}),!1!==h.st.fixedBgPos&&("auto"!==h.st.fixedBgPos||h.fixedContentPos)||h.bgOverlay.css({height:f.height(),position:"absolute"}),h.st.enableEscapeKey&&f.on("keyup.mfp",function(e){27===e.keyCode&&h.close()}),
y.on("resize.mfp",function(){h.updateSize()}),h.st.closeOnContentClick||(v+=" mfp-auto-cursor"),v&&h.wrap.addClass(v);var u=h.wH=y.height(),p={};if(h.fixedContentPos&&h._hasScrollBar(u)){var m=h._getScrollbarSize();m&&(p.marginRight=m)}h.fixedContentPos&&(h.isIE7?e("body, html").css("overflow","hidden"):p.overflow="hidden");var g=h.st.mainClass;return h.isIE7&&(g+=" mfp-ie7"),g&&h._addClassToMFP(g),h.updateItemHTML(),a("BuildControls"),e("html").css(p),h.bgOverlay.add(h.wrap).prependTo(h.st.prependTo||e(document.body)),h._lastFocusedEl=document.activeElement,setTimeout(function(){h.content?(h._addClassToMFP("mfp-ready"),h._setFocus()):h.bgOverlay.addClass("mfp-ready"),f.on("focusin.mfp",h._onFocusIn)},16),h.isOpen=!0,h.updateSize(u),a("Open"),t}h.updateItemHTML()},close:function(){h.isOpen&&(a("BeforeClose"),h.isOpen=!1,h.st.removalDelay&&!h.isLowIE&&h.supportsTransition?(h._addClassToMFP("mfp-removing"),setTimeout(function(){h._close()},h.st.removalDelay)):h._close())},_close:function(){a("Close");var t="mfp-removing mfp-ready ";if(h.bgOverlay.detach(),h.wrap.detach(),h.container.empty(),h.st.mainClass&&(t+=h.st.mainClass+" "),h._removeClassFromMFP(t),h.fixedContentPos){var i={marginRight:""};h.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}f.off("keyup.mfp focusin.mfp"),h.ev.off(".mfp"),h.wrap.attr("class","mfp-wrap").removeAttr("style"),h.bgOverlay.attr("class","mfp-bg"),h.container.attr("class","mfp-container"),!h.st.showCloseBtn||h.st.closeBtnInside&&!0!==h.currTemplate[h.currItem.type]||h.currTemplate.closeBtn&&h.currTemplate.closeBtn.detach(),h.st.autoFocusLast&&h._lastFocusedEl&&e(h._lastFocusedEl).focus(),h.currItem=null,h.content=null,h.currTemplate=null,h.prevHeight=0,a("AfterClose")},updateSize:function(e){if(h.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*t;h.wrap.css("height",i),h.wH=i}else h.wH=e||y.height();h.fixedContentPos||h.wrap.css("height",h.wH),a("Resize")},updateItemHTML:function(){var t=h.items[h.index];h.contentContainer.detach(),h.content&&h.content.detach(),t.parsed||(t=h.parseEl(h.index));var i=t.type;if(a("BeforeChange",[h.currItem?h.currItem.type:"",i]),h.currItem=t,!h.currTemplate[i]){var n=!!h.st[i]&&h.st[i].markup;a("FirstMarkupParse",n),h.currTemplate[i]=!n||e(n)}g&&g!==t.type&&h.container.removeClass("mfp-"+g+"-holder");var o=h["get"+i.charAt(0).toUpperCase()+i.slice(1)](t,h.currTemplate[i]);h.appendContent(o,i),t.preloaded=!0,a("Change",t),g=t.type,h.container.prepend(h.contentContainer),a("AfterChange")},appendContent:function(e,t){(h.content=e)?h.st.showCloseBtn&&h.st.closeBtnInside&&!0===h.currTemplate[t]?h.content.find(".mfp-close").length||h.content.append(o()):h.content=e:h.content="",a("BeforeAppend"),h.container.addClass("mfp-"+t+"-holder"),h.contentContainer.append(h.content)},parseEl:function(t){var i,n=h.items[t];if((n=n.tagName?{el:e(n)}:(i=n.type,{data:n,src:n.src})).el){for(var o=h.types,r=0;r<o.length;r++)if(n.el.hasClass("mfp-"+o[r])){i=o[r];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=i||h.st.type||"inline",n.index=t,n.parsed=!0,h.items[t]=n,a("ElementParse",n),h.items[t]},addGroup:function(e,t){function i(i){i.mfpEl=this,h._openClick(i,e,t)}var n="click.magnificPopup";(t=t||{}).mainEl=e,t.items?(t.isObj=!0,e.off(n).on(n,i)):(t.isObj=!1,t.delegate?e.off(n).on(n,t.delegate,i):(t.items=e).off(n).on(n,i))},_openClick:function(t,i,n){if((void 0!==n.midClick?n.midClick:e.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var a=void 0!==n.disableOn?n.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(h))return!0}else if(y.width()<a)return!0;t.type&&(t.preventDefault(),h.isOpen&&t.stopPropagation()),n.el=e(t.mfpEl),n.delegate&&(n.items=i.find(n.delegate)),h.open(n)}},updateStatus:function(e,t){if(h.preloader){m!==e&&h.container.removeClass("mfp-s-"+m),t||"loading"!==e||(t=h.st.tLoading);var i={status:e,text:t};a("UpdateStatus",i),e=i.status,t=i.text,h.preloader.html(t),h.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),h.container.addClass("mfp-s-"+e),m=e}},_checkIfClose:function(t){if(!e(t).hasClass("mfp-prevent-close")){var i=h.st.closeOnContentClick,n=h.st.closeOnBgClick;if(i&&n)return!0;if(!h.content||e(t).hasClass("mfp-close")||h.preloader&&t===h.preloader[0])return!0;if(t===h.content[0]||e.contains(h.content[0],t)){if(i)return!0}else if(n&&e.contains(document,t))return!0;return!1}},_addClassToMFP:function(e){h.bgOverlay.addClass(e),h.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),h.wrap.removeClass(e)},_hasScrollBar:function(e){return(h.isIE7?f.height():document.body.scrollHeight)>(e||y.height())},_setFocus:function(){(h.st.focus?h.content.find(h.st.focus).eq(0):h.wrap).focus()},_onFocusIn:function(t){if(t.target!==h.wrap[0]&&!e.contains(h.wrap[0],t.target))return h._setFocus(),!1},_parseMarkup:function(t,i,n){var o;n.data&&(i=e.extend(n.data,i)),a("MarkupParse",[t,i,n]),e.each(i,function(i,n){if(void 0===n||!1===n)return!0;if(1<(o=i.split("_")).length){var a=t.find(".mfp-"+o[0]);if(0<a.length){var r=o[1];"replaceWith"===r?a[0]!==n[0]&&a.replaceWith(n):"img"===r?a.is("img")?a.attr("src",n):a.replaceWith(e("<img>").attr("src",n).attr("class",a.attr("class"))):a.attr(o[1],n)}}else t.find(".mfp-"+i).html(n)})},_getScrollbarSize:function(){if(void 0===h.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),h.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return h.scrollbarSize}},e.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,i){return r(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(t){r();var i=e(this);if("string"==typeof t)if("open"===t){var n,a=w?i.data("magnificPopup"):i[0].magnificPopup,o=parseInt(arguments[1],10)||0;n=a.items?a.items[o]:(n=i,a.delegate&&(n=n.find(a.delegate)),n.eq(o)),h._openClick({mfpEl:n},i,a)}else h.isOpen&&h[t].apply(h,Array.prototype.slice.call(arguments,1));else t=e.extend(!0,{},t),w?i.data("magnificPopup",t):i[0].magnificPopup=t,h.addGroup(i,t);return i};var _,C,x;e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){h.types.push("inline"),i("Close.inline",function(){s()})},getInline:function(t,i){if(s(),t.src){var a=h.st.inline,o=e(t.src);if(o.length){var r=o[0].parentNode;r&&r.tagName&&(C||(_=a.hiddenClass,C=n(_),_="mfp-"+_),x=o.after(C).detach().removeClass(_)),h.updateStatus("ready")}else h.updateStatus("error",a.tNotFound),o=e("<div>");return t.inlineElement=o}return h.updateStatus("ready"),h._parseMarkup(i,{},t),i}}});var k;e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){h.types.push("ajax"),k=h.st.ajax.cursor,i("Close.ajax",c),i("BeforeChange.ajax",c)},getAjax:function(t){k&&e(document.body).addClass(k),h.updateStatus("loading");var i=e.extend({url:t.src,success:function(i,n,o){var r={data:i,xhr:o};a("ParseAjax",r),h.appendContent(e(r.data),"ajax"),t.finished=!0,l(),h._setFocus(),setTimeout(function(){h.wrap.addClass("mfp-ready")},16),h.updateStatus("ready"),a("AjaxContentAdded")},error:function(){l(),t.finished=t.loadError=!0,h.updateStatus("error",h.st.ajax.tError.replace("%url%",t.src))}},h.st.ajax.settings);return h.req=e.ajax(i),""}}});var S;e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=h.st.image,n=".image";h.types.push("image"),i("Open"+n,function(){"image"===h.currItem.type&&t.cursor&&e(document.body).addClass(t.cursor)}),i("Close"+n,function(){t.cursor&&e(document.body).removeClass(t.cursor),y.off("resize.mfp")}),i("Resize"+n,h.resizeImage),h.isLowIE&&i("AfterChange",h.resizeImage)},resizeImage:function(){var e=h.currItem;if(e&&e.img&&h.st.image.verticalFit){var t=0;h.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",h.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,S&&clearInterval(S),e.isCheckingImgSize=!1,a("ImageHasSize",e),e.imgHidden&&(h.content&&h.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,i=e.img[0],n=function(a){S&&clearInterval(S),S=setInterval(function(){0<i.naturalWidth?h._onImageHasSize(e):(200<t&&clearInterval(S),3==++t?n(10):40===t?n(50):100===t&&n(500))},a)};n(1)},getImage:function(t,i){var n=0,o=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===h.currItem&&(h._onImageHasSize(t),h.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,a("ImageLoadComplete")):++n<200?setTimeout(o,100):r())},r=function(){t&&(t.img.off(".mfploader"),t===h.currItem&&(h._onImageHasSize(t),h.updateStatus("error",s.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},s=h.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",t.el&&t.el.find("img").length&&(c.alt=t.el.find("img").attr("alt")),t.img=e(c).on("load.mfploader",o).on("error.mfploader",r),c.src=t.src,l.is("img")&&(t.img=t.img.clone()),0<(c=t.img[0]).naturalWidth?t.hasSize=!0:c.width||(t.hasSize=!1)}return h._parseMarkup(i,{title:function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var i=h.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(h,t);if(t.el)return t.el.attr(i)||""}return""}(t),img_replaceWith:t.img},t),h.resizeImage(),t.hasSize?(S&&clearInterval(S),t.loadError?(i.addClass("mfp-loading"),h.updateStatus("error",s.tError.replace("%url%",t.src))):(i.removeClass("mfp-loading"),h.updateStatus("ready"))):(h.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,i.addClass("mfp-loading"),h.findImageSize(t))),i}}});var T;e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){function e(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+o.duration/1e3+"s "+o.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return n["-webkit-"+a]=n["-moz-"+a]=n["-o-"+a]=n[a]=i,t.css(n),t}function t(){h.content.css("visibility","visible")}var n,o=h.st.zoom,r=".zoom";if(o.enabled&&h.supportsTransition){var s,l,c=o.duration;i("BuildControls"+r,function(){if(h._allowZoom()){if(clearTimeout(s),h.content.css("visibility","hidden"),!(n=h._getItemToZoom()))return void t();(l=e(n)).css(h._getOffset()),h.wrap.append(l),s=setTimeout(function(){l.css(h._getOffset(!0)),s=setTimeout(function(){t(),setTimeout(function(){l.remove(),n=l=null,a("ZoomAnimationEnded")},16)},c)},16)}}),i("BeforeClose"+r,function(){if(h._allowZoom()){if(clearTimeout(s),h.st.removalDelay=c,!n){if(!(n=h._getItemToZoom()))return;l=e(n)}l.css(h._getOffset(!0)),h.wrap.append(l),h.content.css("visibility","hidden"),setTimeout(function(){l.css(h._getOffset())},16)}}),i("Close"+r,function(){h._allowZoom()&&(t(),l&&l.remove(),n=null)})}},_allowZoom:function(){return"image"===h.currItem.type},_getItemToZoom:function(){return!!h.currItem.hasSize&&h.currItem.img},_getOffset:function(t){var i,n=(i=t?h.currItem.img:h.st.zoom.opener(h.currItem.el||h.currItem)).offset(),a=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);n.top-=e(window).scrollTop()-a;var r={width:i.width(),height:(w?i.innerHeight():i[0].offsetHeight)-o-a};return void 0===T&&(T=void 0!==document.createElement("p").style.MozTransform),T?r["-moz-transform"]=r.transform="translate("+n.left+"px,"+n.top+"px)":(r.left=n.left,r.top=n.top),r}}}),e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){h.types.push("iframe"),i("BeforeChange",function(e,t,i){t!==i&&("iframe"===t?d():"iframe"===i&&d(!0))}),i("Close.iframe",function(){d()})},getIframe:function(t,i){var n=t.src,a=h.st.iframe;e.each(a.patterns,function(){if(-1<n.indexOf(this.index))return this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1});var o={};return a.srcAction&&(o[a.srcAction]=n),h._parseMarkup(i,o,t),h.updateStatus("ready"),i}}}),e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var t=h.st.gallery,n=".mfp-gallery";if(h.direction=!0,!t||!t.enabled)return!1;v+=" mfp-gallery",i("Open"+n,function(){t.navigateByImgClick&&h.wrap.on("click"+n,".mfp-img",function(){if(1<h.items.length)return h.next(),!1}),f.on("keydown"+n,function(e){37===e.keyCode?h.prev():39===e.keyCode&&h.next()})}),i("UpdateStatus"+n,function(e,t){t.text&&(t.text=p(t.text,h.currItem.index,h.items.length))}),i("MarkupParse"+n,function(e,i,n,a){var o=h.items.length;n.counter=1<o?p(t.tCounter,a.index,o):""}),i("BuildControls"+n,function(){if(1<h.items.length&&t.arrows&&!h.arrowLeft){var i=t.arrowMarkup,n=h.arrowLeft=e(i.replace(/%title%/gi,t.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),a=h.arrowRight=e(i.replace(/%title%/gi,t.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");n.click(function(){h.prev()}),a.click(function(){h.next()}),h.container.append(n.add(a))}}),i("Change"+n,function(){h._preloadTimeout&&clearTimeout(h._preloadTimeout),h._preloadTimeout=setTimeout(function(){h.preloadNearbyImages(),h._preloadTimeout=null},16)}),i("Close"+n,function(){f.off(n),h.wrap.off("click"+n),h.arrowRight=h.arrowLeft=null})},next:function(){h.direction=!0,h.index=u(h.index+1),h.updateItemHTML()},prev:function(){h.direction=!1,h.index=u(h.index-1),h.updateItemHTML()},goTo:function(e){h.direction=e>=h.index,h.index=e,h.updateItemHTML()},preloadNearbyImages:function(){var e,t=h.st.gallery.preload,i=Math.min(t[0],h.items.length),n=Math.min(t[1],h.items.length);for(e=1;e<=(h.direction?n:i);e++)h._preloadItem(h.index+e);for(e=1;e<=(h.direction?i:n);e++)h._preloadItem(h.index-e)},_preloadItem:function(t){if(t=u(t),!h.items[t].preloaded){var i=h.items[t];i.parsed||(i=h.parseEl(t)),a("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,a("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}}),e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var e=h.st.retina,t=e.ratio;1<(t=isNaN(t)?t():t)&&(i("ImageHasSize.retina",function(e,i){i.img.css({"max-width":i.img[0].naturalWidth/t,width:"100%"})}),i("ElementParse.retina",function(i,n){n.src=e.replaceSrc(n,t)}))}}}}),r()}),function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.svg4everybody=t()}):"object"==typeof module&&module.exports?module.exports=t():e.svg4everybody=t()}(this,function(){function e(e,t,i){if(i){var n=document.createDocumentFragment(),a=!t.hasAttribute("viewBox")&&i.getAttribute("viewBox");a&&t.setAttribute("viewBox",a);for(var o=i.cloneNode(!0);o.childNodes.length;)n.appendChild(o.firstChild);e.appendChild(n)}}function t(t){t.onreadystatechange=function(){if(4===t.readyState){var i=t._cachedDocument;i||((i=t._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=t.responseText,t._cachedTarget={}),t._embeds.splice(0).map(function(n){var a=t._cachedTarget[n.id];a=a||(t._cachedTarget[n.id]=i.getElementById(n.id)),e(n.parent,n.svg,a)})}},t.onreadystatechange()}function i(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}return function(n){var a,o=Object(n),r=window.top!==window.self;a="polyfill"in o?o.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&r;var s={},l=window.requestAnimationFrame||setTimeout,c=document.getElementsByTagName("use"),d=0;a&&function n(){for(var r=0;r<c.length;){var u=c[r],p=u.parentNode,h=i(p),m=u.getAttribute("xlink:href")||u.getAttribute("href");if(!m&&o.attributeName&&(m=u.getAttribute(o.attributeName)),h&&m){if(a)if(!o.validate||o.validate(m,h,u)){p.removeChild(u);var f=m.split("#"),g=f.shift(),v=f.join("#");if(g.length){var b=s[g];b||((b=s[g]=new XMLHttpRequest).open("GET",g),b.send(),b._embeds=[]),b._embeds.push({parent:p,svg:h,id:v}),t(b)}else e(p,h,document.getElementById(v))}else++r,++d}else++r}(!c.length||0<c.length-d)&&l(n,67)}()}}),function(e){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./global/window","./global/document"],e):"object"==typeof exports?module.exports=e(require("./dependencyLibs/inputmask.dependencyLib"),require("./global/window"),require("./global/document")):window.Inputmask=e(window.dependencyLib||jQuery,window,document)}(function(e,t,i,n){function a(t,i,r){if(!(this instanceof a))return new a(t,i,r);this.el=n,this.events={},this.maskset=n,!(this.refreshValue=!1)!==r&&(e.isPlainObject(t)?i=t:(i=i||{}).alias=t,this.opts=e.extend(!0,{},this.defaults,i),this.noMasksCache=i&&i.definitions!==n,this.userOptions=i||{},this.isRTL=this.opts.numericInput,o(this.opts.alias,i,this.opts))}function o(t,i,r){var s=a.prototype.aliases[t];return s?(s.alias&&o(s.alias,n,r),e.extend(!0,r,s),e.extend(!0,r,i),!0):(null===r.mask&&(r.mask=t),!1)}function r(t,i){function o(t,o,r){var s=!1;if(null!==t&&""!==t||(t=(s=null!==r.regex)?(t=r.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(s=!0,".*")),1===t.length&&!1===r.greedy&&0!==r.repeat&&(r.placeholder=""),0<r.repeat||"*"===r.repeat||"+"===r.repeat){var l="*"===r.repeat?0:"+"===r.repeat?1:r.repeat;t=r.groupmarker.start+t+r.groupmarker.end+r.quantifiermarker.start+l+","+r.repeat+r.quantifiermarker.end}var c,d=s?"regex_"+r.regex:r.numericInput?t.split("").reverse().join(""):t;return a.prototype.masksCache[d]===n||!0===i?(c={mask:t,maskToken:a.prototype.analyseMask(t,s,r),validPositions:{},_buffer:n,buffer:n,tests:{},metadata:o,maskLength:n},!0!==i&&(a.prototype.masksCache[d]=c,c=e.extend(!0,{},a.prototype.masksCache[d]))):c=e.extend(!0,{},a.prototype.masksCache[d]),c}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(1<t.mask.length){t.keepStatic=null===t.keepStatic||t.keepStatic;var r=t.groupmarker.start;return e.each(t.numericInput?t.mask.reverse():t.mask,function(i,a){1<r.length&&(r+=t.groupmarker.end+t.alternatormarker+t.groupmarker.start),a.mask===n||e.isFunction(a.mask)?r+=a:r+=a.mask}),o(r+=t.groupmarker.end,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==n&&!e.isFunction(t.mask.mask)?o(t.mask.mask,t.mask,t):o(t.mask,t.mask,t)}function s(o,r,l){function h(e,t,i){t=t||0;for(var a,o,r,s=[],c=0,d=g();!0===e&&m().validPositions[c]?(o=(r=m().validPositions[c]).match,a=r.locator.slice(),s.push(!0===i?r.input:!1===i?o.nativeDef:M(c,o))):(o=(r=w(c,a,c-1)).match,a=r.locator.slice(),(!1===l.jitMasking||c<d||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>c)&&s.push(!1===i?o.nativeDef:M(c,o))),c++,(G===n||c<G)&&(null!==o.fn||""!==o.def)||c<t;);return""===s[s.length-1]&&s.pop(),m().maskLength=c+1,s}function m(){return r}function f(e){var t=m();t.buffer=n,!0!==e&&(t.validPositions={},t.p=0)}function g(e,t,i){var a=-1,o=-1,r=i||m().validPositions;for(var s in e===n&&(e=-1),r){var l=parseInt(s);r[l]&&(t||!0!==r[l].generatedInput)&&(l<=e&&(a=l),e<=l&&(o=l))}return-1!==a&&1<e-a||o<e?a:o}function v(t,i,a,o){var r,s=t,c=e.extend(!0,{},m().validPositions),d=!1;for(m().p=t,r=i-1;s<=r;r--)m().validPositions[r]!==n&&(!0!==a&&(!m().validPositions[r].match.optionality&&function(e){var t=m().validPositions[e];if(t===n||null!==t.match.fn)return 0;var i=m().validPositions[e-1],a=m().validPositions[e+1];return i!==n&&a!==n}(r)||!1===l.canClearPosition(m(),r,g(),o,l))||delete m().validPositions[r]);for(f(!0),r=s+1;r<=g();){for(;m().validPositions[s]!==n;)s++;if(r<s&&(r=s+1),m().validPositions[r]===n&&$(r))r++;else{var u=w(r);!1===d&&c[s]&&c[s].match.def===u.match.def?(m().validPositions[s]=e.extend(!0,{},c[s]),m().validPositions[s].input=u.input,delete m().validPositions[r],r++):_(s,u.match.def)?!1!==E(s,u.input||M(r),!0)&&(delete m().validPositions[r],r++,d=!0):$(r)||(r++,s--),s++}}f(!0)}function b(e,t){for(var i,a=e,o=g(),r=m().validPositions[o]||C(0)[0],s=r.alternation!==n?r.locator[r.alternation].toString().split(","):[],c=0;c<a.length&&(!((i=a[c]).match&&(l.greedy&&!0!==i.match.optionalQuantifier||(!1===i.match.optionality||!1===i.match.newBlockMarker)&&!0!==i.match.optionalQuantifier)&&(r.alternation===n||r.alternation!==i.alternation||i.locator[r.alternation]!==n&&T(i.locator[r.alternation].toString().split(","),s)))||!0===t&&(null!==i.match.fn||/[0-9a-bA-Z]/.test(i.match.def)));c++);return i}function w(e,t,i){return m().validPositions[e]||b(C(e,t?t.slice():t,i))}function y(e){return m().validPositions[e]?m().validPositions[e]:C(e)[0]}function _(e,t){for(var i=!1,n=C(e),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def===t){i=!0;break}return i}function C(t,i,a){function o(i,a,r,c){function d(r,c,u){function h(t,i){var n=0===e.inArray(t,i.matches);return n||e.each(i.matches,function(e,a){if(!0===a.isQuantifier&&(n=h(t,i.matches[e-1])))return!1}),n}function b(t,i,a){var o,r;if(m().validPositions[t-1]&&a&&m().tests[t])for(var s=m().validPositions[t-1].locator,l=m().tests[t][0].locator,c=0;c<a;c++)if(s[c]!==l[c])return s.slice(a+1);return(m().tests[t]||m().validPositions[t])&&e.each(m().tests[t]||[m().validPositions[t]],function(e,t){var s=a!==n?a:t.alternation,l=t.locator[s]!==n?t.locator[s].toString().indexOf(i):-1;(r===n||l<r)&&-1!==l&&(o=t,r=l)}),o?o.locator.slice((a!==n?a:o.alternation)+1):a!==n?b(t,i):n}if(1e4<p)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+m().mask;if(p===t&&r.matches===n)return f.push({match:r,locator:c.reverse(),cd:v}),!0;if(r.matches!==n){if(r.isGroup&&u!==r){if(r=d(i.matches[e.inArray(r,i.matches)+1],c))return!0}else if(r.isOptional){var w=r;if(r=o(r,a,c,u)){if(!h(s=f[f.length-1].match,w))return!0;g=!0,p=t}}else if(r.isAlternator){var y,_=r,C=[],x=f.slice(),k=c.length,S=0<a.length?a.shift():-1;if(-1===S||"string"==typeof S){var T,E=p,$=a.slice(),I=[];if("string"==typeof S)I=S.split(",");else for(T=0;T<_.matches.length;T++)I.push(T);for(var P=0;P<I.length;P++){if(T=parseInt(I[P]),f=[],a=b(p,T,k)||$.slice(),!0!==(r=d(_.matches[T]||i.matches[T],[T].concat(c),u)||r)&&r!==n&&I[I.length-1]<_.matches.length){var z=e.inArray(r,i.matches)+1;i.matches.length>z&&(r=d(i.matches[z],[z].concat(c.slice(1,c.length)),u))&&(I.push(z.toString()),e.each(f,function(e,t){t.alternation=c.length-1}))}y=f.slice(),p=E,f=[];for(var A=0;A<y.length;A++){var M=y[A],O=!1;M.alternation=M.alternation||k;for(var L=0;L<C.length;L++){var D=C[L];if("string"!=typeof S||-1!==e.inArray(M.locator[M.alternation].toString(),I)){if(M.match.nativeDef===D.match.nativeDef||M.match.def===D.match.nativeDef||M.match.nativeDef===D.match.def){O=!0,M.alternation===D.alternation&&-1===D.locator[D.alternation].toString().indexOf(M.locator[M.alternation])&&(D.locator[D.alternation]=D.locator[D.alternation]+","+M.locator[M.alternation],D.alternation=M.alternation),M.match.nativeDef===D.match.def&&(M.locator[M.alternation]=D.locator[D.alternation],C.splice(C.indexOf(D),1,M));break}if(M.match.def===D.match.def){O=!1;break}if(null===M.match.fn&&null!==D.match.fn&&D.match.fn.test(M.match.def,m(),t,!1,l,!1)||null!==M.match.fn&&null!==D.match.fn&&D.match.fn.test(M.match.def.replace(/[\[\]]/g,""),m(),t,!1,l,!1)){M.alternation===D.alternation&&-1===M.locator[M.alternation].toString().indexOf(D.locator[D.alternation].toString().split("")[0])&&(M.na=M.na||M.locator[M.alternation].toString(),-1===M.na.indexOf(M.locator[M.alternation].toString().split("")[0])&&(M.na=M.na+","+M.locator[D.alternation].toString().split("")[0]),O=!0,M.locator[M.alternation]=D.locator[D.alternation].toString().split("")[0]+","+M.locator[M.alternation],C.splice(C.indexOf(D),0,M));break}}}O||C.push(M)}}"string"==typeof S&&(C=e.map(C,function(t,i){if(isFinite(i)){var a=t.alternation,o=t.locator[a].toString().split(",");t.locator[a]=n,t.alternation=n;for(var r=0;r<o.length;r++)-1!==e.inArray(o[r],I)&&(t.locator[a]!==n?(t.locator[a]+=",",t.locator[a]+=o[r]):t.locator[a]=parseInt(o[r]),t.alternation=a);if(t.locator[a]!==n)return t}})),f=x.concat(C),p=t,g=0<f.length,r=0<C.length,a=$.slice()}else r=d(_.matches[S]||i.matches[S],[S].concat(c),u);if(r)return!0}else if(r.isQuantifier&&u!==i.matches[e.inArray(r,i.matches)-1])for(var B=r,F=0<a.length?a.shift():0;F<(isNaN(B.quantifier.max)?F+1:B.quantifier.max)&&p<=t;F++){var R=i.matches[e.inArray(B,i.matches)-1];if(r=d(R,[F].concat(c),R)){if((s=f[f.length-1].match).optionalQuantifier=F>B.quantifier.min-1,h(s,R)){if(F>B.quantifier.min-1){g=!0,p=t;break}return!0}return!0}}else if(r=o(r,a,c,u))return!0}else p++}for(var u=0<a.length?a.shift():0;u<i.matches.length;u++)if(!0!==i.matches[u].isQuantifier){var h=d(i.matches[u],[u].concat(r),c);if(h&&p===t)return h;if(t<p)break}}function r(e){if(l.keepStatic&&0<t&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)){if(m().validPositions[t-1]===n)return[b(e)];if(m().validPositions[t-1].alternation===e[0].alternation)return[b(e)];if(m().validPositions[t-1])return[b(e)]}return e}var s,c,d,u=m().maskToken,p=i?a:0,h=i?i.slice():[0],f=[],g=!1,v=i?i.join(""):"";if(-1<t){if(i===n){for(var w,y=t-1;(w=m().validPositions[y]||m().tests[y])===n&&-1<y;)y--;w!==n&&-1<y&&(c=w,d=[],e.isArray(c)||(c=[c]),0<c.length&&(c[0].alternation===n?0===(d=b(c.slice()).locator.slice()).length&&(d=c[0].locator.slice()):e.each(c,function(e,t){if(""!==t.def)if(0===d.length)d=t.locator.slice();else for(var i=0;i<d.length;i++)t.locator[i]&&-1===d[i].toString().indexOf(t.locator[i])&&(d[i]+=","+t.locator[i])})),v=(h=d).join(""),p=y)}if(m().tests[t]&&m().tests[t][0].cd===v)return r(m().tests[t]);for(var _=h.shift();_<u.length&&!(o(u[_],h,[_])&&p===t||t<p);_++);}return 0!==f.length&&!g||f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:v}),i!==n&&m().tests[t]?r(e.extend(!0,[],f)):(m().tests[t]=e.extend(!0,[],f),r(m().tests[t]))}function x(){return m()._buffer===n&&(m()._buffer=h(!1,1),m().buffer===n&&(m().buffer=m()._buffer.slice())),m()._buffer}function k(e){return m().buffer!==n&&!0!==e||(m().buffer=h(!0,g(),!0)),m().buffer}function S(e,t,i){var a,o;if(!0===e)f(),e=0,t=i.length;else for(a=e;a<t;a++)delete m().validPositions[a];for(a=o=e;a<t;a++)if(f(!0),i[a]!==l.skipOptionalPartCharacter){var r=E(o,i[a],!0,!0);!1!==r&&(f(!0),o=r.caret!==n?r.caret:r.pos+1)}}function T(t,i,a){for(var o,r=l.greedy?i:i.slice(0,1),s=!1,c=a!==n?a.split(","):[],d=0;d<c.length;d++)-1!==(o=t.indexOf(c[d]))&&t.splice(o,1);for(var u=0;u<t.length;u++)if(-1!==e.inArray(t[u],r)){s=!0;break}return s}function E(t,i,o,r,s,c){function d(e){var t=K?1<e.begin-e.end||e.begin-e.end==1:1<e.end-e.begin||e.end-e.begin==1;return t&&0===e.begin&&e.end===m().maskLength?"full":t}function u(i,o,s){var c=!1;return e.each(C(i),function(u,h){for(var b=h.match,w=o?1:0,y="",_=b.cardinality;w<_;_--)y+=z(i-(_-1));if(o&&(y+=o),k(!0),!1!==(c=null!=b.fn?b.fn.test(y,m(),i,s,l,d(t)):(o===b.def||o===l.skipOptionalPartCharacter)&&""!==b.def&&{c:M(i,b,!0)||b.def,pos:i})){var C=c.c!==n?c.c:o;C=C===l.skipOptionalPartCharacter&&null===b.fn?M(i,b,!0)||b.def:C;var x=i,T=k();if(c.remove!==n&&(e.isArray(c.remove)||(c.remove=[c.remove]),e.each(c.remove.sort(function(e,t){return t-e}),function(e,t){v(t,t+1,!0)})),c.insert!==n&&(e.isArray(c.insert)||(c.insert=[c.insert]),e.each(c.insert.sort(function(e,t){return e-t}),function(e,t){E(t.pos,t.c,!0,r)})),c.refreshFromBuffer){var $=c.refreshFromBuffer;if(S(!0===$?$:$.start,$.end,T),c.pos===n&&c.c===n)return c.pos=g(),!1;if((x=c.pos!==n?c.pos:i)!==i)return c=e.extend(c,E(x,C,!0,r)),!1}else if(!0!==c&&c.pos!==n&&c.pos!==i&&(x=c.pos,S(i,x,k().slice()),x!==i))return c=e.extend(c,E(x,C,!0)),!1;return(!0===c||c.pos!==n||c.c!==n)&&(0<u&&f(!0),p(x,e.extend({},h,{input:function(t,i,n){switch(l.casing||i.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var o=m().validPositions[n-1];t=0===n||o&&o.input===String.fromCharCode(a.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(l.casing)){var r=Array.prototype.slice.call(arguments);r.push(m().validPositions),t=l.casing.apply(this,r)}}return t}(C,b,x)}),r,d(t))||(c=!1),!1)}}),c}function p(t,i,a,o){if(o||l.insertMode&&m().validPositions[t]!==n&&a===n){var r,s=e.extend(!0,{},m().validPositions),c=g(n,!0);for(r=t;r<=c;r++)delete m().validPositions[r];m().validPositions[t]=e.extend(!0,{},i);var d,u=!0,p=m().validPositions,v=!1,b=m().maskLength;for(r=d=t;r<=c;r++){var w=s[r];if(w!==n)for(var y=d;y<m().maskLength&&(null===w.match.fn&&p[r]&&(!0===p[r].match.optionalQuantifier||!0===p[r].match.optionality)||null!=w.match.fn);){if(y++,!1===v&&s[y]&&s[y].match.def===w.match.def)m().validPositions[y]=e.extend(!0,{},s[y]),m().validPositions[y].input=w.input,h(y),d=y,u=!0;else if(_(y,w.match.def)){var C=E(y,w.input,!0,!0);u=!1!==C,d=C.caret||C.insert?g():y,v=!0}else if(!(u=!0===w.generatedInput)&&y>=m().maskLength-1)break;if(m().maskLength<b&&(m().maskLength=b),u)break}if(!u)break}if(!u)return m().validPositions=e.extend(!0,{},s),f(!0),!1}else m().validPositions[t]=e.extend(!0,{},i);return f(!0),!0}function h(t){for(var i=t-1;-1<i&&!m().validPositions[i];i--);var a,o;for(i++;i<t;i++)m().validPositions[i]===n&&(!1===l.jitMasking||l.jitMasking>i)&&(""===(o=C(i,w(i-1).locator,i-1).slice())[o.length-1].match.def&&o.pop(),(a=b(o))&&(a.match.def===l.radixPointDefinitionSymbol||!$(i,!0)||e.inArray(l.radixPoint,k())<i&&a.match.fn&&a.match.fn.test(M(i),m(),i,!1,l))&&!1!==(x=u(i,M(i,a.match,!0)||(null==a.match.fn?a.match.def:""!==M(i)?M(i):k()[i]),!0))&&(m().validPositions[x.pos||i].generatedInput=!0))}
o=!0===o;var y=t;t.begin!==n&&(y=K&&!d(t)?t.end:t.begin);var x=!0,P=e.extend(!0,{},m().validPositions);if(e.isFunction(l.preValidation)&&!o&&!0!==r&&!0!==c&&(x=l.preValidation(k(),y,i,d(t),l)),!0===x){if(h(y),d(t)&&(N(n,a.keyCode.DELETE,t,!0,!0),y=m().p),y<m().maskLength&&(G===n||y<G)&&(x=u(y,i,o),(!o||!0===r)&&!1===x&&!0!==c)){var A=m().validPositions[y];if(!A||null!==A.match.fn||A.match.def!==i&&i!==l.skipOptionalPartCharacter){if((l.insertMode||m().validPositions[I(y)]===n)&&!$(y,!0))for(var O=y+1,L=I(y);O<=L;O++)if(!1!==(x=u(O,i,o))){!function(t,i){var a=m().validPositions[i];if(a)for(var o=a.locator,r=o.length,s=t;s<i;s++)if(m().validPositions[s]===n&&!$(s,!0)){var l=C(s).slice(),c=b(l,!0),d=-1;""===l[l.length-1].match.def&&l.pop(),e.each(l,function(e,t){for(var i=0;i<r;i++){if(t.locator[i]===n||!T(t.locator[i].toString().split(","),o[i].toString().split(","),t.na)){var a=o[i],s=c.locator[i],l=t.locator[i];a-s>Math.abs(a-l)&&(c=t);break}d<i&&(d=i,c=t)}}),(c=e.extend({},c,{input:M(s,c.match,!0)||c.match.def})).generatedInput=!0,p(s,c,!0),m().validPositions[i]=n,u(i,a.input,!0)}}(y,x.pos!==n?x.pos:O),y=O;break}}else x={caret:I(y)}}!1===x&&l.keepStatic&&!o&&!0!==s&&(x=function(t,i,a){var o,s,c,d,u,p,h,v,b=e.extend(!0,{},m().validPositions),w=!1,y=g();for(d=m().validPositions[y];0<=y;y--)if((c=m().validPositions[y])&&c.alternation!==n){if(o=y,s=m().validPositions[o].alternation,d.locator[c.alternation]!==c.locator[c.alternation])break;d=c}if(s!==n){v=parseInt(o);var _=d.locator[d.alternation||s]!==n?d.locator[d.alternation||s]:h[0];0<_.length&&(_=_.split(",")[0]);var x=m().validPositions[v],k=m().validPositions[v-1];e.each(C(v,k?k.locator:n,v-1),function(o,c){h=c.locator[s]?c.locator[s].toString().split(","):[];for(var d=0;d<h.length;d++){var y=[],C=0,k=0,S=!1;if(_<h[d]&&(c.na===n||-1===e.inArray(h[d],c.na.split(","))||-1===e.inArray(_.toString(),h))){m().validPositions[v]=e.extend(!0,{},c);var T=m().validPositions[v].locator;for(m().validPositions[v].locator[s]=parseInt(h[d]),null==c.match.fn?(x.input!==c.match.def&&(S=!0)!==x.generatedInput&&y.push(x.input),k++,m().validPositions[v].generatedInput=!/[0-9a-bA-Z]/.test(c.match.def),m().validPositions[v].input=c.match.def):m().validPositions[v].input=x.input,u=v+1;u<g(n,!0)+1;u++)(p=m().validPositions[u])&&!0!==p.generatedInput&&/[0-9a-bA-Z]/.test(p.input)?y.push(p.input):u<t&&C++,delete m().validPositions[u];for(S&&y[0]===c.match.def&&y.shift(),f(!0),w=!0;0<y.length;){var $=y.shift();if($!==l.skipOptionalPartCharacter&&!(w=E(g(n,!0)+1,$,!1,r,!0)))break}if(w){m().validPositions[v].locator=T;var I=g(t)+1;for(u=v+1;u<g()+1;u++)((p=m().validPositions[u])===n||null==p.match.fn)&&u<t+(k-C)&&k++;w=E((t+=k-C)>I?I:t,i,a,r,!0)}if(w)return!1;f(),m().validPositions=e.extend(!0,{},b)}}})}return w}(y,i,o)),!0===x&&(x={pos:y})}if(e.isFunction(l.postValidation)&&!1!==x&&!o&&!0!==r&&!0!==c){var D=l.postValidation(k(!0),x,l);if(D.refreshFromBuffer&&D.buffer){var B=D.refreshFromBuffer;S(!0===B?B:B.start,B.end,D.buffer)}x=!0===D?x:D}return x&&x.pos===n&&(x.pos=y),!1!==x&&!0!==c||(f(!0),m().validPositions=e.extend(!0,{},P)),x}function $(e,t){var i=w(e).match;if(""===i.def&&(i=y(e).match),null!=i.fn)return i.fn;if(!0!==t&&-1<e){var n=C(e);return n.length>1+(""===n[n.length-1].match.def?1:0)}return!1}function I(e,t){var i=m().maskLength;if(i<=e)return i;var n=e;for(1<C(i+1).length&&(h(!0,i+1,!0),i=m().maskLength);++n<i&&(!0===t&&(!0!==y(n).match.newBlockMarker||!$(n))||!0!==t&&!$(n)););return n}function P(e,t){var i,n=e;if(n<=0)return 0;for(;0<--n&&(!0===t&&!0!==y(n).match.newBlockMarker||!0!==t&&!$(n)&&((i=C(n)).length<2||2===i.length&&""===i[1].match.def)););return n}function z(e){return m().validPositions[e]===n?M(e):m().validPositions[e].input}function A(t,i,a,o,r){if(o&&e.isFunction(l.onBeforeWrite)){var s=l.onBeforeWrite.call(V,o,i,a,l);if(s){if(s.refreshFromBuffer){var c=s.refreshFromBuffer;S(!0===c?c:c.start,c.end,s.buffer||i),i=k(!0)}a!==n&&(a=s.caret!==n?s.caret:a)}}t!==n&&(t.inputmask._valueSet(i.join("")),a===n||o!==n&&"blur"===o.type?j(t,a,0===i.length):p&&o&&"input"===o.type?setTimeout(function(){D(t,a)},0):D(t,a),!0===r&&(Z=!0,e(t).trigger("input")))}function M(t,i,a){if((i=i||y(t).match).placeholder!==n||!0===a)return e.isFunction(i.placeholder)?i.placeholder(l):i.placeholder;if(null!==i.fn)return l.placeholder.charAt(t%l.placeholder.length);if(-1<t&&m().validPositions[t]===n){var o,r=C(t),s=[];if(r.length>1+(""===r[r.length-1].match.def?1:0))for(var c=0;c<r.length;c++)if(!0!==r[c].match.optionality&&!0!==r[c].match.optionalQuantifier&&(null===r[c].match.fn||o===n||!1!==r[c].match.fn.test(o.match.def,m(),t,!0,l))&&(s.push(r[c]),null===r[c].match.fn&&(o=r[c]),1<s.length&&/[0-9a-bA-Z]/.test(s[0].match.def)))return l.placeholder.charAt(t%l.placeholder.length)}return i.def}function O(t,o,r,s,c){var d=s.slice(),u="",p=-1,h=n;if(f(),r||!0===l.autoUnmask)p=I(p);else{var v=x().slice(0,I(-1)).join(""),b=d.join("").match(new RegExp("^"+a.escapeRegex(v),"g"));b&&0<b.length&&(d.splice(0,b.length*v.length),p=I(p))}if(-1===p?(m().p=I(p),p=0):m().p=p,e.each(d,function(i,a){if(a!==n)if(m().validPositions[i]===n&&d[i]===M(i)&&$(i,!0)&&!1===E(i,d[i],!0,n,n,!0))m().p++;else{var o=new e.Event("_checkval");o.which=a.charCodeAt(0),u+=a;var s=g(n,!0),c=m().validPositions[s],v=w(s+1,c?c.locator.slice():n,s);if(!function(e,t){return-1!==x().slice(e,I(e)).join("").indexOf(t)&&!$(e)&&y(e).match.nativeDef===t.charAt(t.length-1)}(p,u)||r||l.autoUnmask){var b=r?i:null==v.match.fn&&v.match.optionality&&s+1<m().p?s+1:m().p;h=ie.keypressEvent.call(t,o,!0,!1,r,b),p=b+1,u=""}else h=ie.keypressEvent.call(t,o,!0,!1,!0,s+1);if(!1!==h&&!r&&e.isFunction(l.onBeforeWrite)){var _=h;if(h=l.onBeforeWrite.call(V,o,k(),h.forwardPosition,l),(h=e.extend(_,h))&&h.refreshFromBuffer){var C=h.refreshFromBuffer;S(!0===C?C:C.start,C.end,h.buffer),f(!0),h.caret&&(m().p=h.caret,h.forwardPosition=h.caret)}}}}),o){var _=n;i.activeElement===t&&h&&(_=l.numericInput?P(h.forwardPosition):h.forwardPosition),A(t,k(),_,c||new e.Event("checkval"),c&&"input"===c.type)}}function L(t){if(t){if(t.inputmask===n)return t.value;t.inputmask&&t.inputmask.refreshValue&&ie.setValueEvent.call(t)}var i=[],a=m().validPositions;for(var o in a)a[o].match&&null!=a[o].match.fn&&i.push(a[o].input);var r=0===i.length?"":(K?i.reverse():i).join("");if(e.isFunction(l.onUnMask)){var s=(K?k().slice().reverse():k()).join("");r=l.onUnMask.call(V,s,r,l)}return r}function D(e,a,o,r){function s(e){return!0===r||!K||"number"!=typeof e||l.greedy&&""===l.placeholder||(e=k().join("").length-e),e}var d;if(a===n)return e.setSelectionRange?(a=e.selectionStart,o=e.selectionEnd):t.getSelection?(d=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&d.commonAncestorContainer!==e||(a=d.startOffset,o=d.endOffset):i.selection&&i.selection.createRange&&(o=(a=0-(d=i.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+d.text.length),{begin:s(a),end:s(o)};if(a.begin!==n&&(o=a.end,a=a.begin),"number"==typeof a){a=s(a),o="number"==typeof(o=s(o))?o:a;var u=parseInt(((e.ownerDocument.defaultView||t).getComputedStyle?(e.ownerDocument.defaultView||t).getComputedStyle(e,null):e.currentStyle).fontSize)*o;if(e.scrollLeft=u>e.scrollWidth?u:0,c||!1!==l.insertMode||a!==o||o++,e.setSelectionRange)e.selectionStart=a,e.selectionEnd=o;else if(t.getSelection){if(d=i.createRange(),e.firstChild===n||null===e.firstChild){var p=i.createTextNode("");e.appendChild(p)}d.setStart(e.firstChild,a<e.inputmask._valueGet().length?a:e.inputmask._valueGet().length),d.setEnd(e.firstChild,o<e.inputmask._valueGet().length?o:e.inputmask._valueGet().length),d.collapse(!0);var h=t.getSelection();h.removeAllRanges(),h.addRange(d)}else e.createTextRange&&((d=e.createTextRange()).collapse(!0),d.moveEnd("character",o),d.moveStart("character",a),d.select());j(e,{begin:a,end:o})}}function B(t){var i,a,o=k(),r=o.length,s=g(),l={},c=m().validPositions[s],d=c!==n?c.locator.slice():n;for(i=s+1;i<o.length;i++)d=(a=w(i,d,i-1)).locator.slice(),l[i]=e.extend(!0,{},a);var u=c&&c.alternation!==n?c.locator[c.alternation]:n;for(i=r-1;s<i&&((a=l[i]).match.optionality||a.match.optionalQuantifier&&a.match.newBlockMarker||u&&(u!==l[i].locator[c.alternation]&&null!=a.match.fn||null===a.match.fn&&a.locator[c.alternation]&&T(a.locator[c.alternation].toString().split(","),u.toString().split(","))&&""!==C(i)[0].def))&&o[i]===M(i,a.match);i--)r--;return t?{l:r,def:l[r]?l[r].match:n}:r}function F(e){for(var t,i=B(),a=e.length,o=m().validPositions[g()];i<a&&!$(i,!0)&&(t=o!==n?w(i,o.locator.slice(""),o):y(i))&&!0!==t.match.optionality&&(!0!==t.match.optionalQuantifier&&!0!==t.match.newBlockMarker||i+1===a&&""===(o!==n?w(i+1,o.locator.slice(""),o):y(i+1)).match.def);)i++;for(;(t=m().validPositions[i-1])&&t&&t.match.optionality&&t.input===l.skipOptionalPartCharacter;)i--;return e.splice(i),e}function R(t){if(e.isFunction(l.isComplete))return l.isComplete(t,l);if("*"===l.repeat)return n;var i=!1,a=B(!0),o=P(a.l);if(a.def===n||a.def.newBlockMarker||a.def.optionality||a.def.optionalQuantifier){i=!0;for(var r=0;r<=o;r++){var s=w(r).match;if(null!==s.fn&&m().validPositions[r]===n&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[r]!==M(r,s)){i=!1;break}}}return i}function N(t,i,o,r,s){if((l.numericInput||K)&&(i===a.keyCode.BACKSPACE?i=a.keyCode.DELETE:i===a.keyCode.DELETE&&(i=a.keyCode.BACKSPACE),K)){var c=o.end;o.end=o.begin,o.begin=c}i===a.keyCode.BACKSPACE&&(o.end-o.begin<1||!1===l.insertMode)?(o.begin=P(o.begin),m().validPositions[o.begin]!==n&&m().validPositions[o.begin].input===l.groupSeparator&&o.begin--):i===a.keyCode.DELETE&&o.begin===o.end&&(o.end=$(o.end,!0)&&m().validPositions[o.end]&&m().validPositions[o.end].input!==l.radixPoint?o.end+1:I(o.end)+1,m().validPositions[o.begin]!==n&&m().validPositions[o.begin].input===l.groupSeparator&&o.end++),v(o.begin,o.end,!1,r),!0!==r&&function(){if(l.keepStatic){for(var i=[],a=g(-1,!0),o=e.extend(!0,{},m().validPositions),r=m().validPositions[a];0<=a;a--){var s=m().validPositions[a];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&i.push(s.input),delete m().validPositions[a],s.alternation!==n&&s.locator[s.alternation]!==r.locator[s.alternation])break;r=s}}if(-1<a)for(m().p=I(g(-1,!0));0<i.length;){var c=new e.Event("keypress");c.which=i.pop().charCodeAt(0),ie.keypressEvent.call(t,c,!0,!1,!1,m().p)}else m().validPositions=e.extend(!0,{},o)}}();var d=g(o.begin,!0);if(d<o.begin)m().p=I(d);else if(!0!==r&&(m().p=o.begin,!0!==s))for(;m().p<d&&m().validPositions[m().p]===n;)m().p++}function H(n){var a=(n.ownerDocument.defaultView||t).getComputedStyle(n,null),o=i.createElement("div");o.style.width=a.width,o.style.textAlign=a.textAlign,(U=i.createElement("div")).className="im-colormask",n.parentNode.insertBefore(U,n),n.parentNode.removeChild(n),U.appendChild(o),U.appendChild(n),n.style.left=o.offsetLeft+"px",e(n).on("click",function(e){return D(n,function(e){var t,o=i.createElement("span");for(var r in a)isNaN(r)&&-1!==r.indexOf("font")&&(o.style[r]=a[r]);o.style.textTransform=a.textTransform,o.style.letterSpacing=a.letterSpacing,o.style.position="absolute",o.style.height="auto",o.style.width="auto",o.style.visibility="hidden",o.style.whiteSpace="nowrap",i.body.appendChild(o);var s,l=n.inputmask._valueGet(),c=0;for(t=0,s=l.length;t<=s;t++){if(o.innerHTML+=l.charAt(t)||"_",o.offsetWidth>=e){var d=e-c,u=o.offsetWidth-e;o.innerHTML=l.charAt(t),t=(d-=o.offsetWidth/3)<u?t-1:t;break}c=o.offsetWidth}return i.body.removeChild(o),t}(e.clientX)),ie.clickEvent.call(n,[e])}),e(n).on("keydown",function(e){e.shiftKey||!1===l.insertMode||setTimeout(function(){j(n)},0)})}function j(e,t,a){function o(){p||null!==s.fn&&c.input!==n?p&&(null!==s.fn&&c.input!==n||""===s.def)&&(p=!1,u+="</span>"):(p=!0,u+="<span class='im-static'>")}function r(n){!0!==n&&h!==t.begin||i.activeElement!==e||(u+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>")}var s,c,d,u="",p=!1,h=0;if(U!==n){var f=k();if(t===n?t=D(e):t.begin===n&&(t={begin:t,end:t}),!0!==a){for(var v=g();r(),m().validPositions[h]?(c=m().validPositions[h],s=c.match,d=c.locator.slice(),o(),u+=f[h]):(c=w(h,d,h-1),s=c.match,d=c.locator.slice(),(!1===l.jitMasking||h<v||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>h)&&(o(),u+=M(h,s))),h++,(G===n||h<G)&&(null!==s.fn||""!==s.def)||h<v||p;);-1===u.indexOf("im-caret")&&r(!0),p&&o()}var b=U.getElementsByTagName("div")[0];b.innerHTML=u,e.inputmask.positionColorMask(e,b)}}r=r||this.maskset,l=l||this.opts;var q,W,G,U,Y,V=this,X=this.el,K=this.isRTL,Q=!1,Z=!1,J=!1,ee=!1,te={on:function(t,i,o){function r(t){if(this.inputmask===n&&"FORM"!==this.nodeName){var i=e.data(this,"_inputmask_opts");i?new a(i).mask(this):te.off(this)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===l.tabThrough&&t.keyCode===a.keyCode.TAB))){switch(t.type){case"input":if(!0===Z)return Z=!1,t.preventDefault();break;case"keydown":Z=Q=!1;break;case"keypress":if(!0===Q)return t.preventDefault();Q=!0;break;case"click":if(d||u){var r=this,s=arguments;return setTimeout(function(){o.apply(r,s)},0),!1}}var c=o.apply(this,arguments);return!1===c&&(t.preventDefault(),t.stopPropagation()),c}t.preventDefault()}}t.inputmask.events[i]=t.inputmask.events[i]||[],t.inputmask.events[i].push(r),-1!==e.inArray(i,["submit","reset"])?null!==t.form&&e(t.form).on(i,r):e(t).on(i,r)},off:function(t,i){var n;t.inputmask&&t.inputmask.events&&(i?(n=[])[i]=t.inputmask.events[i]:n=t.inputmask.events,e.each(n,function(i,n){for(;0<n.length;){var a=n.pop();-1!==e.inArray(i,["submit","reset"])?null!==t.form&&e(t.form).off(i,a):e(t).off(i,a)}delete t.inputmask.events[i]}))}},ie={keydownEvent:function(t){var n,o,r=this,s=e(r),c=t.keyCode,d=D(r);if(c===a.keyCode.BACKSPACE||c===a.keyCode.DELETE||u&&c===a.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&c===a.keyCode.X&&(n=i.createElement("input"),(o="oncut"in n)||(n.setAttribute("oncut","return;"),o="function"==typeof n.oncut),n=null,!o))t.preventDefault(),N(r,c,d),A(r,k(!0),m().p,t,r.inputmask._valueGet()!==k().join("")),r.inputmask._valueGet()===x().join("")?s.trigger("cleared"):!0===R(k())&&s.trigger("complete");else if(c===a.keyCode.END||c===a.keyCode.PAGE_DOWN){t.preventDefault();var p=I(g());l.insertMode||p!==m().maskLength||t.shiftKey||p--,D(r,t.shiftKey?d.begin:p,p,!0)}else c===a.keyCode.HOME&&!t.shiftKey||c===a.keyCode.PAGE_UP?(t.preventDefault(),D(r,0,t.shiftKey?d.begin:0,!0)):(l.undoOnEscape&&c===a.keyCode.ESCAPE||90===c&&t.ctrlKey)&&!0!==t.altKey?(O(r,!0,!1,q.split("")),s.trigger("click")):c!==a.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===l.tabThrough&&c===a.keyCode.TAB?(!0===t.shiftKey?(null===y(d.begin).match.fn&&(d.begin=I(d.begin)),d.end=P(d.begin,!0),d.begin=P(d.end,!0)):(d.begin=I(d.begin,!0),d.end=I(d.begin,!0),d.end<m().maskLength&&d.end--),d.begin<m().maskLength&&(t.preventDefault(),D(r,d.begin,d.end))):t.shiftKey||!1===l.insertMode&&(c===a.keyCode.RIGHT?setTimeout(function(){var e=D(r);D(r,e.begin)},0):c===a.keyCode.LEFT&&setTimeout(function(){var e=D(r);D(r,K?e.begin+1:e.begin-1)},0)):(l.insertMode=!l.insertMode,D(r,l.insertMode||d.begin!==m().maskLength?d.begin:d.begin-1));l.onKeyDown.call(this,t,k(),D(r).begin,l),J=-1!==e.inArray(c,l.ignorables)},keypressEvent:function(t,i,o,r,s){var c=this,d=e(c),u=t.which||t.charCode||t.keyCode;if(!(!0===i||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||J))return u===a.keyCode.ENTER&&q!==k().join("")&&(q=k().join(""),setTimeout(function(){d.trigger("change")},0)),!0;if(u){46===u&&!1===t.shiftKey&&""!==l.radixPoint&&(u=l.radixPoint.charCodeAt(0));var p,h=i?{begin:s,end:s}:D(c),g=String.fromCharCode(u);m().writeOutBuffer=!0;var v=E(h,g,r);if(!1!==v&&(f(!0),p=v.caret!==n?v.caret:i?v.pos+1:I(v.pos),m().p=p),!1!==o&&(setTimeout(function(){l.onKeyValidation.call(c,u,v,l)},0),m().writeOutBuffer&&!1!==v)){var b=k();A(c,b,l.numericInput&&v.caret===n?P(p):p,t,!0!==i),!0!==i&&setTimeout(function(){!0===R(b)&&d.trigger("complete")},0)}if(t.preventDefault(),i)return!1!==v&&(v.forwardPosition=p),v}},pasteEvent:function(i){var n,a=i.originalEvent||i,o=e(this),r=this.inputmask._valueGet(!0),s=D(this);K&&(n=s.end,s.end=s.begin,s.begin=n);var c=r.substr(0,s.begin),d=r.substr(s.end,r.length);if(c===(K?x().reverse():x()).slice(0,s.begin).join("")&&(c=""),d===(K?x().reverse():x()).slice(s.end).join("")&&(d=""),K&&(n=c,c=d,d=n),t.clipboardData&&t.clipboardData.getData)r=c+t.clipboardData.getData("Text")+d;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;r=c+a.clipboardData.getData("text/plain")+d}var u=r;if(e.isFunction(l.onBeforePaste)){if(!1===(u=l.onBeforePaste.call(V,r,l)))return i.preventDefault();u=u||r}return O(this,!1,!1,K?u.split("").reverse():u.toString().split("")),A(this,k(),I(g()),i,q!==k().join("")),!0===R(k())&&o.trigger("complete"),i.preventDefault()},inputFallBackEvent:function(t){var i=this,n=i.inputmask._valueGet();if(k().join("")!==n){var o=D(i);if(!1===function(t,i,n){if("."===i.charAt(n.begin-1)&&""!==l.radixPoint&&((i=i.split(""))[n.begin-1]=l.radixPoint.charAt(0),i=i.join("")),i.charAt(n.begin-1)===l.radixPoint&&i.length>k().length){var a=new e.Event("keypress");return a.which=l.radixPoint.charCodeAt(0),ie.keypressEvent.call(t,a,!0,!0,!1,n.begin-1),!1}}(i,n,o))return!1;if(n=n.replace(new RegExp("("+a.escapeRegex(x().join(""))+")*"),""),!1===function(t,i,n){if(d){var a=i.replace(k().join(""),"");if(1===a.length){var o=new e.Event("keypress");return o.which=a.charCodeAt(0),ie.keypressEvent.call(t,o,!0,!0,!1,m().validPositions[n.begin-1]?n.begin:n.begin-1),!1}}}(i,n,o))return!1;o.begin>n.length&&(D(i,n.length),o=D(i));var r=k().join(""),s=n.substr(0,o.begin),c=n.substr(o.begin),u=r.substr(0,o.begin),p=r.substr(o.begin),h=o,f="",g=!1;if(s!==u){h.begin=0;for(var v=(g=s.length>=u.length)?s.length:u.length,b=0;s.charAt(b)===u.charAt(b)&&b<v;b++)h.begin++;g&&(f+=s.slice(h.begin,h.end))}c!==p&&(c.length>p.length?g&&(h.end=h.begin):c.length<p.length?h.end+=p.length-c.length:c.charAt(0)!==p.charAt(0)&&h.end++),A(i,k(),h),0<f.length?e.each(f.split(""),function(t,n){var a=new e.Event("keypress");a.which=n.charCodeAt(0),J=!1,ie.keypressEvent.call(i,a)}):(h.begin===h.end-1&&D(i,P(h.begin+1),h.end),t.keyCode=a.keyCode.DELETE,ie.keydownEvent.call(i,t)),t.preventDefault()}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var i=this.inputmask._valueGet(!0);e.isFunction(l.onBeforeMask)&&(i=l.onBeforeMask.call(V,i,l)||i),i=i.split(""),O(this,!0,!1,K?i.reverse():i),q=k().join(""),(l.clearMaskOnLostFocus||l.clearIncomplete)&&this.inputmask._valueGet()===x().join("")&&this.inputmask._valueSet("")},focusEvent:function(e){var t=this.inputmask._valueGet();l.showMaskOnFocus&&(!l.showMaskOnHover||l.showMaskOnHover&&""===t)&&(this.inputmask._valueGet()!==k().join("")?A(this,k(),I(g())):!1===ee&&D(this,I(g()))),!0===l.positionCaretOnTab&&!1===ee&&""!==t&&(A(this,k(),D(this)),ie.clickEvent.apply(this,[e,!0])),q=k().join("")},mouseleaveEvent:function(e){if(ee=!1,l.clearMaskOnLostFocus&&i.activeElement!==this){var t=k().slice(),n=this.inputmask._valueGet();n!==this.getAttribute("placeholder")&&""!==n&&(-1===g()&&n===x().join("")?t=[]:F(t),A(this,t))}},clickEvent:function(t,a){var o=this;setTimeout(function(){if(i.activeElement===o){var t=D(o);if(a&&(K?t.end=t.begin:t.begin=t.end),t.begin===t.end)switch(l.positionCaretOnClick){case"none":break;case"radixFocus":if(function(t){if(""!==l.radixPoint){var i=m().validPositions;if(i[t]===n||i[t].input===M(t)){if(t<I(-1))return!0;var a=e.inArray(l.radixPoint,k());if(-1!==a){for(var o in i)if(a<o&&i[o].input!==M(o))return!1;return!0}}}return!1}(t.begin)){var r=k().join("").indexOf(l.radixPoint);D(o,l.numericInput?I(r):r);break}default:var s=t.begin,c=g(s,!0),d=I(c);if(s<d)D(o,$(s,!0)||$(s-1,!0)?s:I(s));else{var u=m().validPositions[c],p=w(d,u?u.match.locator:n,u),h=M(d,p.match);if(""!==h&&k()[d]!==h&&!0!==p.match.optionalQuantifier&&!0!==p.match.newBlockMarker||!$(d,!0)&&p.match.def===h){var f=I(d);(f<=s||s===d)&&(d=f)}D(o,d)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){D(t,0,I(g()))},0)},cutEvent:function(n){var o=e(this),r=D(this),s=n.originalEvent||n,l=t.clipboardData||s.clipboardData,c=K?k().slice(r.end,r.begin):k().slice(r.begin,r.end);l.setData("text",K?c.reverse().join(""):c.join("")),i.execCommand&&i.execCommand("copy"),N(this,a.keyCode.DELETE,r),A(this,k(),m().p,n,q!==k().join("")),this.inputmask._valueGet()===x().join("")&&o.trigger("cleared")},blurEvent:function(t){var i=e(this);if(this.inputmask){var a=this.inputmask._valueGet(),o=k().slice();""!==a&&(l.clearMaskOnLostFocus&&(-1===g()&&a===x().join("")?o=[]:F(o)),!1===R(o)&&(setTimeout(function(){i.trigger("incomplete")},0),l.clearIncomplete&&(f(),o=l.clearMaskOnLostFocus?[]:x().slice())),A(this,o,n,t)),q!==k().join("")&&(q=o.join(""),i.trigger("change"))}},mouseenterEvent:function(e){ee=!0,i.activeElement!==this&&l.showMaskOnHover&&this.inputmask._valueGet()!==k().join("")&&A(this,k())},submitEvent:function(e){q!==k().join("")&&W.trigger("change"),l.clearMaskOnLostFocus&&-1===g()&&X.inputmask._valueGet&&X.inputmask._valueGet()===x().join("")&&X.inputmask._valueSet(""),l.removeMaskOnSubmit&&(X.inputmask._valueSet(X.inputmask.unmaskedvalue(),!0),setTimeout(function(){A(X,k())},0))},resetEvent:function(e){X.inputmask.refreshValue=!0,setTimeout(function(){W.trigger("setvalue")},0)}};if(a.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"},o!==n)switch(o.action){case"isComplete":return X=o.el,R(k());case"unmaskedvalue":return X!==n&&o.value===n||(Y=o.value,Y=(e.isFunction(l.onBeforeMask)&&l.onBeforeMask.call(V,Y,l)||Y).split(""),O(n,!1,!1,K?Y.reverse():Y),e.isFunction(l.onBeforeWrite)&&l.onBeforeWrite.call(V,n,k(),0,l)),L(X);case"mask":!function(t){te.off(t);var a=function(t,a){var o=t.getAttribute("type"),r="INPUT"===t.tagName&&-1!==e.inArray(o,a.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!r)if("INPUT"===t.tagName){var s=i.createElement("input");s.setAttribute("type",o),r="text"===s.type,s=null}else r="partial";return!1!==r?function(t){function o(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==g()||!0!==a.nullable?i.activeElement===this&&a.clearMaskOnLostFocus?(K?F(k().slice()).reverse():F(k().slice())).join(""):s.call(this):"":s.call(this)}function r(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var s,l;if(!t.inputmask.__valueGet){if(!0!==a.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):n;c&&c.get&&c.set?(s=c.get,l=c.set,Object.defineProperty(t,"value",{get:o,set:r,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:o,set:r,configurable:!0}))}else i.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",o),t.__defineSetter__("value",r));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return K&&!0!==e?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||e===n?"":!0!==t&&K?e.split("").reverse().join(""):e)},s===n&&(s=function(){return this.value},l=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===n||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},o=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==g(n,n,e.inputmask.maskset.validPositions)||!0!==a.nullable?t:""}return i(e)},set:function(t,i){var n,a=e(t);return n=o(t,i),t.inputmask&&a.trigger("setvalue"),n},inputmaskpatch:!0}}}(t.type),function(t){te.on(t,"mouseenter",function(t){var i=e(this);this.inputmask._valueGet()!==k().join("")&&i.trigger("setvalue")})}(t))}}(t):t.inputmask=n,r}(t,l);if(!1!==a&&(W=e(X=t),-1===(G=X!==n?X.maxLength:n)&&(G=n),!0===l.colorMask&&H(X),p&&(X.hasOwnProperty("inputmode")&&(X.inputmode=l.inputmode,X.setAttribute("inputmode",l.inputmode)),"rtfm"===l.androidHack&&(!0!==l.colorMask&&H(X),X.type="password")),!0===a&&(te.on(X,"submit",ie.submitEvent),te.on(X,"reset",ie.resetEvent),te.on(X,"mouseenter",ie.mouseenterEvent),te.on(X,"blur",ie.blurEvent),te.on(X,"focus",ie.focusEvent),te.on(X,"mouseleave",ie.mouseleaveEvent),!0!==l.colorMask&&te.on(X,"click",ie.clickEvent),te.on(X,"dblclick",ie.dblclickEvent),te.on(X,"paste",ie.pasteEvent),te.on(X,"dragdrop",ie.pasteEvent),te.on(X,"drop",ie.pasteEvent),te.on(X,"cut",ie.cutEvent),te.on(X,"complete",l.oncomplete),te.on(X,"incomplete",l.onincomplete),te.on(X,"cleared",l.oncleared),p||!0===l.inputEventOnly?X.removeAttribute("maxLength"):(te.on(X,"keydown",ie.keydownEvent),te.on(X,"keypress",ie.keypressEvent)),te.on(X,"compositionstart",e.noop),te.on(X,"compositionupdate",e.noop),te.on(X,"compositionend",e.noop),te.on(X,"keyup",e.noop),te.on(X,"input",ie.inputFallBackEvent),te.on(X,"beforeinput",e.noop)),te.on(X,"setvalue",ie.setValueEvent),q=x().join(""),""!==X.inputmask._valueGet(!0)||!1===l.clearMaskOnLostFocus||i.activeElement===X)){var o=e.isFunction(l.onBeforeMask)&&l.onBeforeMask.call(V,X.inputmask._valueGet(!0),l)||X.inputmask._valueGet(!0);""!==o&&O(X,!0,!1,K?o.split("").reverse():o.split(""));var r=k().slice();q=r.join(""),!1===R(r)&&l.clearIncomplete&&f(),l.clearMaskOnLostFocus&&i.activeElement!==X&&(-1===g()?r=[]:F(r)),A(X,r),i.activeElement===X&&D(X,I(g()))}}(X);break;case"format":return Y=(e.isFunction(l.onBeforeMask)&&l.onBeforeMask.call(V,o.value,l)||o.value).split(""),O(n,!0,!1,K?Y.reverse():Y),o.metadata?{value:K?k().slice().reverse().join(""):k().join(""),metadata:s.call(this,{action:"getmetadata"},r,l)}:K?k().slice().reverse().join(""):k().join("");case"isValid":o.value?(Y=o.value.split(""),O(n,!0,!0,K?Y.reverse():Y)):o.value=k().join("");for(var ne=k(),ae=B(),oe=ne.length-1;ae<oe&&!$(oe);oe--);return ne.splice(ae,oe+1-ae),R(ne)&&o.value===k().join("");case"getemptymask":return x().join("");case"remove":return X&&X.inputmask&&(W=e(X),X.inputmask._valueSet(l.autoUnmask?L(X):X.inputmask._valueGet(!0)),te.off(X),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(X),"value")&&X.inputmask.__valueGet&&Object.defineProperty(X,"value",{get:X.inputmask.__valueGet,set:X.inputmask.__valueSet,configurable:!0}):i.__lookupGetter__&&X.__lookupGetter__("value")&&X.inputmask.__valueGet&&(X.__defineGetter__("value",X.inputmask.__valueGet),X.__defineSetter__("value",X.inputmask.__valueSet)),X.inputmask=n),X;case"getmetadata":if(e.isArray(r.metadata)){var re=h(!0,0,!1).join("");return e.each(r.metadata,function(e,t){if(t.mask===re)return re=t,!1}),re}return r.metadata}}var l=navigator.userAgent,c=/mobile/i.test(l),d=/iemobile/i.test(l),u=/iphone/i.test(l)&&!d,p=/android/i.test(l)&&!d;return a.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask.call(this,t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:n,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:e.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:n,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9１-９]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},aliases:{},masksCache:{},mask:function(l){var c=this;return"string"==typeof l&&(l=i.getElementById(l)||i.querySelectorAll(l)),l=l.nodeName?[l]:l,e.each(l,function(i,l){var d=e.extend(!0,{},c.opts);!function(i,a,r,s){function l(e,a){null!==(a=a!==n?a:i.getAttribute(s+"-"+e))&&("string"==typeof a&&(0===e.indexOf("on")?a=t[a]:"false"===a?a=!1:"true"===a&&(a=!0)),r[e]=a)}if(!0===a.importDataAttributes){var c,d,u,p,h=i.getAttribute(s);if(h&&""!==h&&(h=h.replace(new RegExp("'","g"),'"'),d=JSON.parse("{"+h+"}")),d)for(p in u=n,d)if("alias"===p.toLowerCase()){u=d[p];break}for(c in l("alias",u),r.alias&&o(r.alias,r,a),a){if(d)for(p in u=n,d)if(p.toLowerCase()===c.toLowerCase()){u=d[p];break}l(c,u)}}e.extend(!0,a,r),"rtl"!==i.dir&&!a.rightAlign||(i.style.textAlign="right"),"rtl"!==i.dir&&!a.numericInput||(i.dir="ltr",i.removeAttribute("dir"),a.isRTL=!0)}(l,d,e.extend(!0,{},c.userOptions),c.dataAttribute);var u=r(d,c.noMasksCache);u!==n&&(l.inputmask!==n&&(l.inputmask.opts.autoUnmask=!0,l.inputmask.remove()),l.inputmask=new a(n,n,!0),l.inputmask.opts=d,l.inputmask.noMasksCache=c.noMasksCache,l.inputmask.userOptions=e.extend(!0,{},c.userOptions),l.inputmask.isRTL=d.isRTL||d.numericInput,(l.inputmask.el=l).inputmask.maskset=u,e.data(l,"_inputmask_opts",d),s.call(l.inputmask,{action:"mask"}))}),l&&l[0]&&l[0].inputmask||this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return s.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||r(this.opts,this.noMasksCache),s.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,i,o){function r(e,t,i,n){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function s(t,r,s){s=s!==n?s:t.matches.length;var l=t.matches[s-1];if(i)0===r.indexOf("[")||b&&/\\d|\\s|\\w]/i.test(r)||"."===r?t.matches.splice(s++,0,{fn:new RegExp(r,o.casing?"i":""),cardinality:1,optionality:t.isOptional,newBlockMarker:l===n||l.def!==r,casing:null,def:r,placeholder:n,nativeDef:r}):(b&&(r=r[r.length-1]),e.each(r.split(""),function(e,i){l=t.matches[s-1],t.matches.splice(s++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:l===n||l.def!==i&&null!==l.fn,casing:null,def:o.staticDefinitionSymbol||i,placeholder:o.staticDefinitionSymbol!==n?i:n,nativeDef:i})
})),b=!1;else{var c=(o.definitions?o.definitions[r]:n)||a.prototype.definitions[r];if(c&&!b){for(var d=c.prevalidator,u=d?d.length:0,p=1;p<c.cardinality;p++){var h=p<=u?d[p-1]:[],m=h.validator,f=h.cardinality;t.matches.splice(s++,0,{fn:m?"string"==typeof m?new RegExp(m,o.casing?"i":""):new function(){this.test=m}:new RegExp("."),cardinality:f||1,optionality:t.isOptional,newBlockMarker:l===n||l.def!==(c.definitionSymbol||r),casing:c.casing,def:c.definitionSymbol||r,placeholder:c.placeholder,nativeDef:r}),l=t.matches[s-1]}t.matches.splice(s++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,o.casing?"i":""):new function(){this.test=c.validator}:new RegExp("."),cardinality:c.cardinality,optionality:t.isOptional,newBlockMarker:l===n||l.def!==(c.definitionSymbol||r),casing:c.casing,def:c.definitionSymbol||r,placeholder:c.placeholder,nativeDef:r})}else t.matches.splice(s++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:l===n||l.def!==r&&null!==l.fn,casing:null,def:o.staticDefinitionSymbol||r,placeholder:o.staticDefinitionSymbol!==n?r:n,nativeDef:r}),b=!1}}function l(){if(0<y.length){if(s(p=y[y.length-1],d),p.isAlternator){h=y.pop();for(var e=0;e<h.matches.length;e++)h.matches[e].isGroup=!1;0<y.length?(p=y[y.length-1]).matches.push(h):w.matches.push(h)}}else s(w,d)}var c,d,u,p,h,m,f,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,b=!1,w=new r,y=[],_=[];for(i&&(o.optionalmarker.start=n,o.optionalmarker.end=n);c=i?v.exec(t):g.exec(t);){if(d=c[0],i)switch(d.charAt(0)){case"?":d="{0,1}";break;case"+":case"*":d="{"+d+"}"}if(b)l();else switch(d.charAt(0)){case o.escapeChar:b=!0,i&&l();break;case o.optionalmarker.end:case o.groupmarker.end:if((u=y.pop()).openGroup=!1,u!==n)if(0<y.length){if((p=y[y.length-1]).matches.push(u),p.isAlternator){h=y.pop();for(var C=0;C<h.matches.length;C++)h.matches[C].isGroup=!1,h.matches[C].alternatorGroup=!1;0<y.length?(p=y[y.length-1]).matches.push(h):w.matches.push(h)}}else w.matches.push(u);else l();break;case o.optionalmarker.start:y.push(new r(!1,!0));break;case o.groupmarker.start:y.push(new r(!0));break;case o.quantifiermarker.start:var x=new r(!1,!1,!0),k=(d=d.replace(/[{}]/g,"")).split(","),S=isNaN(k[0])?k[0]:parseInt(k[0]),T=1===k.length?S:isNaN(k[1])?k[1]:parseInt(k[1]);if("*"!==T&&"+"!==T||(S="*"===T?0:1),x.quantifier={min:S,max:T},0<y.length){var E=y[y.length-1].matches;(c=E.pop()).isGroup||((f=new r(!0)).matches.push(c),c=f),E.push(c),E.push(x)}else(c=w.matches.pop()).isGroup||(i&&null===c.fn&&"."===c.def&&(c.fn=new RegExp(c.def,o.casing?"i":"")),(f=new r(!0)).matches.push(c),c=f),w.matches.push(c),w.matches.push(x);break;case o.alternatormarker:if(0<y.length){var $=(p=y[y.length-1]).matches[p.matches.length-1];m=p.openGroup&&($.matches===n||!1===$.isGroup&&!1===$.isAlternator)?y.pop():p.matches.pop()}else m=w.matches.pop();if(m.isAlternator)y.push(m);else if(m.alternatorGroup?(h=y.pop(),m.alternatorGroup=!1):h=new r(!1,!1,!1,!0),h.matches.push(m),y.push(h),m.openGroup){var I=new r(!(m.openGroup=!1));I.alternatorGroup=!0,y.push(I)}break;default:l()}}for(;0<y.length;)u=y.pop(),w.matches.push(u);return 0<w.matches.length&&(function t(a){a&&a.matches&&e.each(a.matches,function(e,r){var l=a.matches[e+1];(l===n||l.matches===n||!1===l.isQuantifier)&&r&&r.isGroup&&(r.isGroup=!1,i||(s(r,o.groupmarker.start,0),!0!==r.openGroup&&s(r,o.groupmarker.end))),t(r)})}(w),_.push(w)),(o.numericInput||o.isRTL)&&function e(t){for(var i in t.matches=t.matches.reverse(),t.matches)if(t.matches.hasOwnProperty(i)){var a=parseInt(i);if(t.matches[i].isQuantifier&&t.matches[a+1]&&t.matches[a+1].isGroup){var r=t.matches[i];t.matches.splice(i,1),t.matches.splice(a+1,0,r)}t.matches[i].matches!==n?t.matches[i]=e(t.matches[i]):t.matches[i]=((s=t.matches[i])===o.optionalmarker.start?s=o.optionalmarker.end:s===o.optionalmarker.end?s=o.optionalmarker.start:s===o.groupmarker.start?s=o.groupmarker.end:s===o.groupmarker.end&&(s=o.groupmarker.start),s)}var s;return t}(_[0]),_}},a.extendDefaults=function(t){e.extend(!0,a.prototype.defaults,t)},a.extendDefinitions=function(t){e.extend(!0,a.prototype.definitions,t)},a.extendAliases=function(t){e.extend(!0,a.prototype.aliases,t)},a.format=function(e,t,i){return a(t).format(e,i)},a.unmask=function(e,t){return a(t).unmaskedvalue(e)},a.isValid=function(e,t){return a(t).isValid(e)},a.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},a.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},a.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},a}),function(e){"function"==typeof define&&define.amd?define(["jquery","./inputmask"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("./inputmask")):e(jQuery,window.Inputmask)}(function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(i,n){var a,o=this[0];if(void 0===n&&(n={}),"string"==typeof i)switch(i){case"unmaskedvalue":return o&&o.inputmask?o.inputmask.unmaskedvalue():e(o).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return o&&o.inputmask?o.inputmask.getemptymask():"";case"hasMaskedValue":return!(!o||!o.inputmask)&&o.inputmask.hasMaskedValue();case"isComplete":return!o||!o.inputmask||o.inputmask.isComplete();case"getmetadata":return o&&o.inputmask?o.inputmask.getmetadata():void 0;case"setvalue":e(o).val(n),o&&void 0===o.inputmask&&e(o).triggerHandler("setvalue");break;case"option":if("string"!=typeof n)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(n)});if(o&&void 0!==o.inputmask)return o.inputmask.option(n);break;default:return n.alias=i,a=new t(n),this.each(function(){a.mask(this)})}else{if("object"==typeof i)return a=new t(i),void 0===i.mask&&void 0===i.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i);a.mask(this)}):this.each(function(){a.mask(this)});if(void 0===i)return this.each(function(){(a=new t(n)).mask(this)})}}),e.fn.inputmask}),function(e){e.fn.magnify=function(t){t=e.extend({src:"",speed:100,timeout:-1,finalWidth:null,finalHeight:null,magnifiedWidth:null,magnifiedHeight:null,limitBounds:!1,afterLoad:function(){}},t);var i=this,n=e("html"),a=function(i){function a(){var e=p.offset();return _={top:s.offset().top-e.top+parseInt(s.css("border-top-width"))+parseInt(s.css("padding-top")),left:s.offset().left-e.left+parseInt(s.css("border-left-width"))+parseInt(s.css("padding-left"))},e.top+=_.top,e.left+=_.left,e}function o(){h.is(":visible")&&h.fadeOut(t.speed,function(){n.removeClass("magnifying").trigger("magnifyend")})}var s=e(i),l=s.closest("a"),c={};for(var d in t)c[d]=s.attr("data-magnify-"+d.toLowerCase());var u=c.src||t.src||l.attr("href")||"";if(u){var p,h,m,f,g,v,b,w,y,_,C=0,x=0;isNaN(+c.speed)||(t.speed=+c.speed),isNaN(+c.timeout)||(t.timeout=+c.timeout),isNaN(+c.finalWidth)||(t.finalWidth=+c.finalWidth),isNaN(+c.finalHeight)||(t.finalHeight=+c.finalHeight),isNaN(+c.magnifiedWidth)||(t.magnifiedWidth=+c.magnifiedWidth),isNaN(+c.magnifiedHeight)||(t.magnifiedHeight=+c.magnifiedHeight),"true"===c.limitBounds&&(t.limitBounds=!0),"function"==typeof window[c.afterLoad]&&(t.afterLoad=window[c.afterLoad]),s.data("originalStyle",s.attr("style"));var k=new Image;e(k).on({load:function(){var i,d;s.css("display","block"),s.parent(".magnify").length||s.wrap('<div class="magnify"></div>'),p=s.parent(".magnify"),s.prev(".magnify-lens").length?p.children(".magnify-lens").css("background-image","url('"+u+"')"):s.before('<div class="magnify-lens loading" style="background:url(\''+u+"') 0 0 no-repeat\"></div>"),(h=p.children(".magnify-lens")).removeClass("loading"),m=t.finalWidth||s.width(),f=t.finalHeight||s.height(),g=t.magnifiedWidth||k.width,v=t.magnifiedHeight||k.height,b=h.width(),w=h.height(),y=a(),t.limitBounds&&(C=b/2/(g/m),x=w/2/(v/f)),g===k.width&&v===k.height||h.css("background-size",g+"px "+v+"px"),s.data("zoomSize",{width:g,height:v}),k=null,t.afterLoad(),p.off().on({"mousemove touchmove":function(e){if(e.preventDefault(),f){if(i=(e.pageX||e.originalEvent.touches[0].pageX)-y.left,d=(e.pageY||e.originalEvent.touches[0].pageY)-y.top,h.is(":animated")||(C<i&&i<m-C&&x<d&&d<f-x?h.is(":hidden")&&(n.addClass("magnifying").trigger("magnifystart"),h.fadeIn(t.speed)):o()),h.is(":visible")){var a="";if(g&&v){var s=-Math.round(i/m*g-b/2),l=-Math.round(d/f*v-w/2);if(t.limitBounds){var c=-Math.round((m-C)/m*g-b/2),u=-Math.round((f-x)/f*v-w/2);0<s?s=0:s<c&&(s=c),0<l?l=0:l<u&&(l=u)}a=s+"px "+l+"px"}h.css({top:Math.round(d-w/2)+_.top+"px",left:Math.round(i-b/2)+_.left+"px","background-position":a})}}else r()},mouseenter:function(){y=a()},mouseleave:o}),0<=t.timeout&&p.on("touchend",function(){setTimeout(o,t.timeout)}),e("body").not(p).on("touchstart",o);var S=s.attr("usemap");if(S){var T=e("map[name="+S.slice(1)+"]");s.after(T),p.click(function(t){if(t.clientX||t.clientY){h.hide();var n=document.elementFromPoint(t.clientX||t.originalEvent.touches[0].clientX,t.clientY||t.originalEvent.touches[0].clientY);"AREA"===n.nodeName?n.click():e("area",T).each(function(){var t=e(this).attr("coords").split(",");if(i>=t[0]&&i<=t[2]&&d>=t[1]&&d<=t[3])return this.click(),!1})}})}l.length&&(l.css("display","inline-block"),!l.attr("href")||c.src||t.src||l.click(function(e){e.preventDefault()}))},error:function(){k=null}}),k.src=u}},o=0,r=function(){clearTimeout(o),o=setTimeout(function(){i.destroy(),i.magnify(t)},100)};return this.destroy=function(){return this.each(function(){var t=e(this),i=t.prev("div.magnify-lens"),n=t.data("originalStyle");t.parent("div.magnify").length&&i.length&&(n?t.attr("style",n):t.removeAttr("style"),t.unwrap(),i.remove())}),e(window).off("resize",r),i},e(window).resize(r),this.each(function(){a(this)})}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";function t(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==o.call(e))throw new TypeError;var i=t.length,n=String(e),a=n.length,r=1<arguments.length?arguments[1]:void 0,l=r?Number(r):0;return l!=l&&(l=0),!(i<a+Math.min(Math.max(l,0),i))&&-1!=s.call(t,n,l)}function i(t){return e.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}function n(e){function t(t){return e[t]}var i="(?:"+Object.keys(e).join("|")+")",n=RegExp(i),a=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}}function a(t){var i,n=arguments,a=t;[].shift.apply(n);var o=this.each(function(){var t=e(this);if(t.is("select")){var o=t.data("selectpicker"),r="object"==typeof a&&a;if(o){if(r)for(var s in r)r.hasOwnProperty(s)&&(o.options[s]=r[s])}else{var l=e.extend({},h.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),r);l.template=e.extend({},h.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,r.template),t.data("selectpicker",o=new h(this,l))}"string"==typeof a&&(i=o[a]instanceof Function?o[a].apply(o,n):o.options[a])}});return void 0!==i?i:o}var o,r,s;String.prototype.includes||(o={}.toString,r=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),s="".indexOf,r?r(String.prototype,"includes",{value:t,configurable:!0,writable:!0}):String.prototype.includes=t),String.prototype.startsWith||function(){function e(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==i.call(e))throw new TypeError;var n=t.length,a=String(e),o=a.length,r=1<arguments.length?arguments[1]:void 0,s=r?Number(r):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),n);if(n<o+l)return!1;for(var c=-1;++c<o;)if(t.charCodeAt(l+c)!=a.charCodeAt(c))return!1;return!0}var t=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),i={}.toString;t?t(String.prototype,"startsWith",{value:e,configurable:!0,writable:!0}):String.prototype.startsWith=e}(),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i});var l={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!l.useDefault&&e(t).data("selected",!0),l._set.apply(this,arguments)};var c=null,d=function(){try{return new Event("change"),!0}catch(e){return!1}}();e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(d?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)},e.expr.pseudos.icontains=function(t,i,n){var a=e(t).find("a");return(a.data("tokens")||a.text()).toString().toUpperCase().includes(n[3].toUpperCase())},e.expr.pseudos.ibegins=function(t,i,n){var a=e(t).find("a");return(a.data("tokens")||a.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())},e.expr.pseudos.aicontains=function(t,i,n){var a=e(t).find("a");return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().includes(n[3].toUpperCase())},e.expr.pseudos.aibegins=function(t,i,n){var a=e(t).find("a");return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())};var u=n({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),p=n({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),h=function(t,i){l.useDefault||(e.valHooks.select.set=l._set,l.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title"));var n=this.options.windowPadding;"number"==typeof n&&(this.options.windowPadding=[n,n,n,n]),this.val=h.prototype.val,this.render=h.prototype.render,this.refresh=h.prototype.refresh,this.setStyle=h.prototype.setStyle,this.selectAll=h.prototype.selectAll,this.deselectAll=h.prototype.deselectAll,this.destroy=h.prototype.destroy,this.remove=h.prototype.remove,this.show=h.prototype.show,this.hide=h.prototype.hide,this.init()};h.VERSION="1.12.4",h.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},h.prototype={constructor:h,init:function(){var t=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==i&&(this.$button.attr("data-id",i),e('label[for="'+i+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid"),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}}),t.$button.on("blur.bs.select",function(){t.$element.focus().blur(),t.$button.off("blur.bs.select")})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",a=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+u(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",l='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+a+o+r+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+s+"</div></div>";return e(l)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){var e=this.createLi();this.$menuInner[0].innerHTML=e},createLi:function(){function t(e,t,i,n){return"<li"+(void 0!==i&&""!==i?' class="'+i+'"':"")+(null!=t?' data-original-index="'+t+'"':"")+(null!=n?'data-optgroup="'+n+'"':"")+">"+e+"</li>"}function n(t,n,o,r){return'<a tabindex="0"'+(void 0!==n?' class="'+n+'"':"")+(o?' style="'+o+'"':"")+(a.options.liveSearchNormalize?' data-normalized-text="'+i(u(e(t).html()))+'"':"")+(void 0!==r||null!==r?' data-tokens="'+r+'"':"")+' role="option">'+t+'<span class="'+a.options.iconBase+" "+a.options.tickIcon+' check-mark"></span></a>'}var a=this,o=[],r=0,s=document.createElement("option"),l=-1;if(this.options.title&&!this.multiple&&(l--,!this.$element.find(".bs-title-option").length)){var c=this.$element[0];s.className="bs-title-option",s.innerHTML=this.options.title,s.value="",c.insertBefore(s,c.firstChild),void 0===e(c.options[c.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(s.selected=!0)}var d=this.$element.find("option");return d.each(function(i){var s=e(this);if(l++,!s.hasClass("bs-title-option")){var c,p=this.className||"",h=u(this.style.cssText),m=s.data("content")?s.data("content"):s.html(),f=s.data("tokens")?s.data("tokens"):null,g=void 0!==s.data("subtext")?'<small class="text-muted">'+s.data("subtext")+"</small>":"",v=void 0!==s.data("icon")?'<span class="'+a.options.iconBase+" "+s.data("icon")+'"></span> ':"",b=s.parent(),w="OPTGROUP"===b[0].tagName,y=w&&b[0].disabled,_=this.disabled||y;if(""!==v&&_&&(v="<span>"+v+"</span>"),a.options.hideDisabled&&(_&&!w||y))return c=s.data("prevHiddenIndex"),s.next().data("prevHiddenIndex",void 0!==c?c:i),void l--;if(s.data("content")||(m=v+'<span class="text">'+m+g+"</span>"),w&&!0!==s.data("divider")){if(a.options.hideDisabled&&_){if(void 0===b.data("allOptionsDisabled")){var C=b.children();b.data("allOptionsDisabled",C.filter(":disabled").length===C.length)}if(b.data("allOptionsDisabled"))return void l--}var x=" "+b[0].className||"";if(0===s.index()){r+=1;var k=b[0].label,S=void 0!==b.data("subtext")?'<small class="text-muted">'+b.data("subtext")+"</small>":"";k=(b.data("icon")?'<span class="'+a.options.iconBase+" "+b.data("icon")+'"></span> ':"")+'<span class="text">'+u(k)+S+"</span>",0!==i&&0<o.length&&(l++,o.push(t("",null,"divider",r+"div"))),l++,o.push(t(k,null,"dropdown-header"+x,r))}if(a.options.hideDisabled&&_)return void l--;o.push(t(n(m,"opt "+p+x,h,f),i,"",r))}else if(!0===s.data("divider"))o.push(t("",i,"divider"));else if(!0===s.data("hidden"))c=s.data("prevHiddenIndex"),s.next().data("prevHiddenIndex",void 0!==c?c:i),o.push(t(n(m,p,h,f),i,"hidden is-hidden"));else{var T=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!T&&a.options.hideDisabled&&void 0!==(c=s.data("prevHiddenIndex"))){var E=d.eq(c)[0].previousElementSibling;E&&"OPTGROUP"===E.tagName&&!E.disabled&&(T=!0)}T&&(l++,o.push(t("",null,"divider",r+"div"))),o.push(t(n(m,p,h,f),i))}a.liObj[i]=l}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),o.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var i,n=this,a=this.$element.find("option");!1!==t&&a.each(function(e){var t=n.findLis().eq(n.liObj[e]);n.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),n.setSelected(e,this.selected,t)}),this.togglePlaceholder(),this.tabIndex();var o=a.map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,i=e(this),a=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return t=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"",void 0!==i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content").toString():a+i.html()+t}}).toArray(),r=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var s=this.options.selectedTextFormat.split(">");if(1<s.length&&o.length>s[1]||1==s.length&&2<=o.length){i=this.options.hideDisabled?", [disabled]":"";var l=a.not('[data-divider="true"], [data-hidden="true"]'+i).length;r=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,l):this.options.countSelectedText).replace("{0}",o.length.toString()).replace("{1}",l.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r=r||(void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",p(e.trim(r.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("ul"),o=document.createElement("li"),r=document.createElement("li"),s=document.createElement("a"),l=document.createElement("span"),c=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",a.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),r.appendChild(s),a.appendChild(r),a.appendChild(o),c&&n.appendChild(c),d){var h=document.createElement("input");d.className="bs-searchbox",h.className="form-control",d.appendChild(h),n.appendChild(d)}u&&n.appendChild(u),n.appendChild(a),p&&n.appendChild(p),i.appendChild(n),document.body.appendChild(i);var m=s.offsetHeight,f=c?c.offsetHeight:0,g=d?d.offsetHeight:0,v=u?u.offsetHeight:0,b=p?p.offsetHeight:0,w=e(o).outerHeight(!0),y="function"==typeof getComputedStyle&&getComputedStyle(n),_=y?null:e(n),C={vert:parseInt(y?y.paddingTop:_.css("paddingTop"))+parseInt(y?y.paddingBottom:_.css("paddingBottom"))+parseInt(y?y.borderTopWidth:_.css("borderTopWidth"))+parseInt(y?y.borderBottomWidth:_.css("borderBottomWidth")),horiz:parseInt(y?y.paddingLeft:_.css("paddingLeft"))+parseInt(y?y.paddingRight:_.css("paddingRight"))+parseInt(y?y.borderLeftWidth:_.css("borderLeftWidth"))+parseInt(y?y.borderRightWidth:_.css("borderRightWidth"))},x={vert:C.vert+parseInt(y?y.marginTop:_.css("marginTop"))+parseInt(y?y.marginBottom:_.css("marginBottom"))+2,horiz:C.horiz+parseInt(y?y.marginLeft:_.css("marginLeft"))+parseInt(y?y.marginRight:_.css("marginRight"))+2};document.body.removeChild(i),this.sizeInfo={liHeight:m,headerHeight:f,searchHeight:g,actionsHeight:v,doneButtonHeight:b,dividerHeight:w,menuPadding:C,menuExtras:x}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,i,n,a,o,r,s,l,c=this,d=this.$menu,u=this.$menuInner,p=e(window),h=this.$newElement[0].offsetHeight,m=this.$newElement[0].offsetWidth,f=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,b=this.sizeInfo.actionsHeight,w=this.sizeInfo.doneButtonHeight,y=this.sizeInfo.dividerHeight,_=this.sizeInfo.menuPadding,C=this.sizeInfo.menuExtras,x=this.options.hideDisabled?".disabled":"",k=function(){var t,i=c.$newElement.offset(),n=e(c.options.container);c.options.container&&!n.is("body")?((t=n.offset()).top+=parseInt(n.css("borderTopWidth")),t.left+=parseInt(n.css("borderLeftWidth"))):t={top:0,left:0};var a=c.options.windowPadding;o=i.top-t.top-p.scrollTop(),r=p.height()-o-h-t.top-a[2],s=i.left-t.left-p.scrollLeft(),l=p.width()-s-m-t.left-a[1],o-=a[0],s-=a[3]};if(k(),"auto"===this.options.size){var S=function(){function p(t,i){return function(n){return i?n.classList?n.classList.contains(t):e(n).hasClass(t):!(n.classList?n.classList.contains(t):e(n).hasClass(t))}}var h,y=c.$menuInner[0].getElementsByTagName("li"),x=Array.prototype.filter?Array.prototype.filter.call(y,p("hidden",!1)):c.$lis.not(".hidden"),S=Array.prototype.filter?Array.prototype.filter.call(x,p("dropdown-header",!0)):x.filter(".dropdown-header");k(),t=r-C.vert,i=l-C.horiz,a=c.options.container?(d.data("height")||d.data("height",d.height()),n=d.data("height"),d.data("width")||d.data("width",d.width()),d.data("width")):(n=d.height(),d.width()),c.options.dropupAuto&&c.$newElement.toggleClass("dropup",r<o&&t-C.vert<n),c.$newElement.hasClass("dropup")&&(t=o-C.vert),"auto"===c.options.dropdownAlignRight&&d.toggleClass("dropdown-menu-right",l<s&&i-C.horiz<a-m),h=3<x.length+S.length?3*f+C.vert-2:0,d.css({"max-height":t+"px",overflow:"hidden","min-height":h+g+v+b+w+"px"}),u.css({"max-height":t-g-v-b-w-_.vert+"px","overflow-y":"auto","min-height":Math.max(h-_.vert,0)+"px"})};S(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",S),p.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",S)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(x).length>this.options.size){var T=this.$lis.not(".divider").not(x).children().slice(0,this.options.size).last().parent().index(),E=this.$lis.slice(0,T+1).filter(".divider").length;t=f*this.options.size+E*y+_.vert,n=c.options.container?(d.data("height")||d.data("height",d.height()),d.data("height")):d.height(),c.options.dropupAuto&&this.$newElement.toggleClass("dropup",r<o&&t-C.vert<n),d.css({"max-height":t+g+v+b+w+"px",overflow:"hidden","min-height":""}),u.css({"max-height":t-_.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,i=e.children(".dropdown-menu").outerWidth(),n=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){function t(e){o.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),i=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),a=e.hasClass("dropup")?0:e[0].offsetHeight,o.$bsContainer.css({top:i.top-n.top+a,left:i.left-n.left,width:e[0].offsetWidth})}this.$bsContainer=e('<div class="bs-container" />');var i,n,a,o=this,r=e(this.options.container);this.$button.on("click",function(){var i=e(this);o.isDisabled()||(t(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!i.hasClass("open")).append(o.$menu))}),e(window).on("resize scroll",function(){t(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),
o.$bsContainer.detach()})},setSelected:function(e,t,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[e])),i.toggleClass("selected",t).find("a").attr("aria-selected",t)},setDisabled:function(e,t,i){i=i||this.findLis().eq(this.liObj[e]),t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element.val();this.$button.toggleClass("bs-placeholder",null===e||""===e||e.constructor===Array&&0===e.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=e(document);i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){t.setSize()}),this.$element.on("shown.bs.select",function(){if(t.options.liveSearch||t.multiple){if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if("number"!=typeof e||!1===t.options.size)return;var i=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;i=i-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=i}}else t.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(i){var n=e(this),a=n.parent().data("originalIndex"),o=t.$element.val(),r=t.$element.prop("selectedIndex"),s=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!n.parent().hasClass("disabled")){var l=t.$element.find("option"),d=l.eq(a),u=d.prop("selected"),p=d.parent("optgroup"),h=t.options.maxOptions,m=p.data("maxOptions")||!1;if(t.multiple){if(d.prop("selected",!u),t.setSelected(a,!u),n.blur(),!1!==h||!1!==m){var f=h<l.filter(":selected").length,g=m<p.find("option:selected").length;if(h&&f||m&&g)if(h&&1==h)l.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(a,!0);else if(m&&1==m){p.find("option:selected").prop("selected",!1),d.prop("selected",!0);var v=n.parent().data("optgroup");t.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),t.setSelected(a,!0)}else{var b="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,w="function"==typeof b?b(h,m):b,y=w[0].replace("{n}",h),_=w[1].replace("{n}",m),C=e('<div class="notify"></div>');w[2]&&(y=y.replace("{var}",w[2][1<h?0:1]),_=_.replace("{var}",w[2][1<m?0:1])),d.prop("selected",!1),t.$menu.append(C),h&&f&&(C.append(e("<div>"+y+"</div>")),s=!1,t.$element.trigger("maxReached.bs.select")),m&&g&&(C.append(e("<div>"+_+"</div>")),s=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(a,!1)},10),C.delay(750).fadeOut(300,function(){e(this).remove()})}}}else l.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),t.setSelected(a,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus(),s&&(o!=t.$element.val()&&t.multiple||r!=t.$element.prop("selectedIndex")&&!t.multiple)&&(c=[a,d.prop("selected"),u],t.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.change(function(){t.render(!1),t.$element.trigger("changed.bs.select",c),c=null})},liveSearchListener:function(){var t=this,n=e('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){t.$menuInner.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hidden"),n.parent().length&&n.remove()),t.multiple||t.$menuInner.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(t.$lis.not(".is-hidden").removeClass("hidden"),t.$lis.filter(".active").removeClass("active"),n.remove(),t.$searchbox.val()){var a,o=t.$lis.not(".is-hidden, .divider, .dropdown-header");if((a=t.options.liveSearchNormalize?o.not(":a"+t._searchStyle()+'("'+i(t.$searchbox.val())+'")'):o.not(":"+t._searchStyle()+'("'+t.$searchbox.val()+'")')).length===o.length)n.html(t.options.noneResultsText.replace("{0}",'"'+u(t.$searchbox.val())+'"')),t.$menuInner.append(n),t.$lis.addClass("hidden");else{a.addClass("hidden");var r,s=t.$lis.not(".hidden");s.each(function(t){var i=e(this);i.hasClass("divider")?void 0===r?i.addClass("hidden"):(r&&r.addClass("hidden"),r=i):i.hasClass("dropdown-header")&&s.eq(t+1).data("optgroup")!==i.data("optgroup")?i.addClass("hidden"):r=null}),r&&r.addClass("hidden"),o.not(".hidden").first().addClass("active"),t.$menuInner.scrollTop(0)}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0),this.findLis();var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),a=n.length,o=[];if(t){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",t);for(var r=0;r<a;r++){var s=n[r].getAttribute("data-original-index");o[o.length]=i.eq(s)[0]}e(o).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(t){var i,n,a,o,r=e(this),s=(r.is("input")?r.parent().parent():r.parent()).data("this"),l=":not(.disabled, .hidden, .dropdown-header, .divider)",c={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(!(o=s.$newElement.hasClass("open"))&&(48<=t.keyCode&&t.keyCode<=57||96<=t.keyCode&&t.keyCode<=105||65<=t.keyCode&&t.keyCode<=90))return s.options.container?s.$button.trigger("click"):(s.setSize(),s.$menu.parent().addClass("open"),o=!0),void s.$searchbox.focus();if(s.options.liveSearch&&/(^9$|27)/.test(t.keyCode.toString(10))&&o&&(t.preventDefault(),t.stopPropagation(),s.$menuInner.click(),s.$button.focus()),/(38|40)/.test(t.keyCode.toString(10))){if(!(i=s.$lis.filter(l)).length)return;n=s.options.liveSearch?i.index(i.filter(".active")):i.index(i.find("a").filter(":focus").parent()),a=s.$menuInner.data("prevIndex"),38==t.keyCode?(!s.options.liveSearch&&n!=a||-1==n||n--,n<0&&(n+=i.length)):40==t.keyCode&&(!s.options.liveSearch&&n!=a||n++,n%=i.length),s.$menuInner.data("prevIndex",n),s.options.liveSearch?(t.preventDefault(),r.hasClass("dropdown-toggle")||(i.removeClass("active").eq(n).addClass("active").children("a").focus(),r.focus())):i.eq(n).children("a").focus()}else if(!r.is("input")){var d,u=[];(i=s.$lis.filter(l)).each(function(i){e.trim(e(this).children("a").text().toLowerCase()).substring(0,1)==c[t.keyCode]&&u.push(i)}),d=e(document).data("keycount"),d++,e(document).data("keycount",d),e.trim(e(":focus").text().toLowerCase()).substring(0,1)!=c[t.keyCode]?(d=1,e(document).data("keycount",d)):d>=u.length&&(e(document).data("keycount",0),d>u.length&&(d=1)),i.eq(u[d-1]).children("a").focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&s.options.selectOnTab)&&o){if(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),s.options.liveSearch)/(32)/.test(t.keyCode.toString(10))||(s.$menuInner.find(".active a").click(),r.focus());else{var p=e(":focus");p.click(),p.focus(),t.preventDefault(),e(document).data("spaceSelect",!0)}e(document).data("keycount",0)}(/(^9$|27)/.test(t.keyCode.toString(10))&&o&&(s.multiple||s.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!o)&&(s.$menu.parent().removeClass("open"),s.options.container&&s.$newElement.removeClass("open"),s.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var m=e.fn.selectpicker;e.fn.selectpicker=a,e.fn.selectpicker.Constructor=h,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=m,this},e(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',h.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);a.call(t,t.data())})})}(e)}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){e.fn.selectpicker.defaults={noneSelectedText:"Ничего не выбрано",noneResultsText:"Совпадений не найдено {0}",countSelectedText:"Выбрано {0} из {1}",maxOptionsText:["Достигнут предел ({n} {var} максимум)","Достигнут предел в группе ({n} {var} максимум)",["шт.","шт."]],doneButtonText:"Закрыть",selectAllText:"Выбрать все",deselectAllText:"Отменить все",multipleSeparator:", "}}),function(e){"use strict";function t(t){e(t).on("click.bs.dropdown",this.toggle)}function i(t){var i=t.attr("data-target"),n=(i=i||(i=t.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""))&&e(i);return n&&n.length?n:t.parent()}function n(t){t&&3===t.which||(e(".dropdown-backdrop").remove(),e(a).each(function(){var n=e(this),a=i(n),o={relatedTarget:this};a.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&e.contains(a[0],t.target)||(a.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),a.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}var a='[data-toggle="dropdown"]';t.VERSION="3.3.7",t.prototype.toggle=function(t){var a=e(this);if(!a.is(".disabled, :disabled")){var o=i(a),r=o.hasClass("open");if(n(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(t=e.Event("show.bs.dropdown",s)),t.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},t.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),r=o.hasClass("open");if(!r&&27!=t.which||r&&27==t.which)return 27==t.which&&o.find(a).trigger("focus"),n.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(t.target);38==t.which&&0<l&&l--,40==t.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var o=e.fn.dropdown;e.fn.dropdown=function(i){return this.each(function(){var n=e(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new t(this)),"string"==typeof i&&a[i].call(n)})},e.fn.dropdown.Constructor=t,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,t.prototype.toggle).on("keydown.bs.dropdown.data-api",a,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;return e(this).one("bsTransitionEnd",function(){i=!0}),setTimeout(function(){i||e(n).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";function t(t,o){if(!t.hasClass("stepper-input")){o=e.extend({},o,t.data("stepper-options"));var r=parseFloat(t.attr("min")),s=parseFloat(t.attr("max")),l=parseFloat(t.attr("step"))||1;t.addClass("stepper-input").wrap('<div class="stepper '+o.customClass+'" />').after('<span class="stepper-arrow up">'+o.labels.up+'</span><span class="stepper-arrow down">'+o.labels.down+"</span>");var c=t.parent(".stepper"),d=e.extend({$stepper:c,$input:t,$arrow:c.find(".stepper-arrow"),min:!isNaN(r)&&r,max:!isNaN(s)&&s,step:isNaN(l)?1:l,timer:null},o);d.digits=(u=d.step,-1<(p=String(u)).indexOf(".")?p.length-p.indexOf(".")-1:0),t.is(":disabled")&&c.addClass("disabled"),c.on("keypress",".stepper-input",d,i),c.on("mousedown.stepper",".stepper-arrow",d,n).data("stepper",d),c.on("mouseleave.stepper",".stepper-arrow",d,a).data("stepper",d)}var u,p}function i(e){var t=e.data;38!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),o(t,38===e.keyCode?t.step:-t.step))}function n(t){t.preventDefault(),t.stopPropagation(),a(t);var i,n,s,l=t.data;if(!l.$input.is(":disabled")&&!l.$stepper.hasClass("disabled")){var c=e(t.target).hasClass("up")?l.step:-l.step;l.timer=(i=l.timer,n=125,s=function(){o(l,c)},r(i),setInterval(s,n)),o(l,c),e("body").on("mouseup.stepper",l,a)}}function a(t){t.preventDefault(),t.stopPropagation(),r(t.data.timer),e("body").off(".stepper")}function o(e,t){var i=parseFloat(e.$input.val()),n=t;isNaN(i)?n=!1!==e.min?e.min:0:!1!==e.min&&i<e.min?n=e.min:n+=i;var a=(n-e.min)%e.step;0!=a&&(n-=a),!1!==e.min&&n<e.min&&(n=e.min),!1!==e.max&&n>e.max&&(n-=e.step),n!==i&&(n=function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}(n,e.digits),e.$input.val(n).trigger("change"))}function r(e){e&&(clearInterval(e),e=null)}var s={customClass:"",labels:{up:"Up",down:"Down"}},l={defaults:function(t){return s=e.extend(s,t||{}),e(this)},destroy:function(){return e(this).each(function(t){var i=e(this).data("stepper");i&&(i.$stepper.off(".stepper").find(".stepper-arrow").remove(),i.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return e(this).each(function(t){var i=e(this).data("stepper");i&&(i.$input.attr("disabled","disabled"),i.$stepper.addClass("disabled"))})},enable:function(){return e(this).each(function(t){var i=e(this).data("stepper");i&&(i.$input.attr("disabled",null),i.$stepper.removeClass("disabled"))})}};e.fn.stepper=function(i){return l[i]?l[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?this:function(i){i=e.extend({},s,i||{});for(var n=e(this),a=0,o=n.length;a<o;a++)t(n.eq(a),i);return n}.apply(this,arguments)},e.stepper=function(e){"defaults"===e&&l.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(e){function t(){this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s}function i(e){this.$container,this.constraints=null,this.__$tooltip,this.__init(e)}function n(t,i){var n=!0;return e.each(t,function(e,a){if(void 0===i[e]||t[e]!==i[e])return n=!1}),n}function a(t){var i=t.attr("id"),n=i?s.window.document.getElementById(i):null;return n?n===t[0]:e.contains(s.window.document.body,t[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var e=(r.document.body||r.document.documentElement).style,t="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof e[i[n]+t])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:r};t.prototype={__bridge:function(t,i,n){function a(){}if(!i[n]){a.prototype=t;var r=new a;r.__init&&r.__init(i),e.each(t,function(e,t){0!=e.indexOf("__")&&(i[e]?o.debug&&console.log("The "+e+" method of the "+n+" plugin conflicts with another plugin or native methods"):(i[e]=function(){return r[e].apply(r,Array.prototype.slice.apply(arguments))},i[e].bridged=r))}),i[n]=r}return this},__setWindow:function(e){return s.window=e,this},_getRuler:function(e){return new i(e)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){if("string"==typeof t){var i=t,n=null;return 0<i.indexOf(".")?n=this.__plugins[i]:e.each(this.__plugins,function(e,t){if(t.name.substring(t.name.length-i.length-1)=="."+i)return n=t,!1}),n}if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return(this.__plugins[t.name]=t).core&&this.__bridge(t.core,this,t.name),this},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},instances:function(t){var i=[];return e(t||".tooltipstered").each(function(){var t=e(this),n=t.data("tooltipster-ns");n&&e.each(n,function(e,n){i.push(t.data(n))})}),i},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){return e((t?t+" ":"")+".tooltipstered").toArray()},setDefaults:function(t){return e.extend(o,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.tooltipster=new t,e.Tooltipster=function(t,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(t,i)},e.Tooltipster.prototype={__init:function(t,i){var n=this;if(n._$origin=e(t),n.__options=e.extend(!0,{},o,i),n.__optionsFormat(),!s.IE||s.IE>=n.__options.IEmin){var a=null;if(void 0===n._$origin.data("tooltipster-initialTitle")&&(void 0===(a=n._$origin.attr("title"))&&(a=null),n._$origin.data("tooltipster-initialTitle",a)),null!==n.__options.content)n.__contentSet(n.__options.content);else{var r,l=n._$origin.attr("data-tooltip-content");l&&(r=e(l)),r&&r[0]?n.__contentSet(r.first()):n.__contentSet(a)}n._$origin.removeAttr("title").addClass("tooltipstered"),n.__prepareOrigin(),n.__prepareGC(),e.each(n.__options.plugins,function(e,t){n._plug(t)}),s.hasTouchCapability&&e(s.window.document.body).on("touchmove."+n.__namespace+"-triggerOpen",function(e){n._touchRecordEvent(e)}),n._on("created",function(){n.__prepareTooltip()})._on("repositioned",function(e){n.__lastPosition=e.position})}else n.__options.disabled=!0},__contentInsert:function(){var e=this._$tooltip.find(".tooltipster-content"),t=this.__Content;return this._trigger({type:"format",content:this.__Content,format:function(e){t=e}}),this.__options.functionFormat&&(t=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof t||this.__options.contentAsHTML?e.empty().append(t):e.text(t),this},__contentSet:function(t){return t instanceof e&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var t=this._$origin,i=this._$origin.is("area");if(i){var n=this._$origin.parent().attr("name");t=e('img[usemap="#'+n+'"]')}var a=t[0].getBoundingClientRect(),o=e(s.window.document),r=e(s.window),l=t,c={available:{document:null,window:null},document:{size:{height:o.height(),width:o.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:r.height(),width:r.width()}},origin:{fixedLineage:!1,offset:{},size:{height:a.bottom-a.top,width:a.right-a.left},usemapImage:i?t[0]:null,windowOffset:{bottom:a.bottom,left:a.left,right:a.right,top:a.top}}};if(i){var d=this._$origin.attr("shape"),u=this._$origin.attr("coords");if(u&&(u=u.split(","),e.map(u,function(e,t){u[t]=parseInt(e)})),"default"!=d)switch(d){case"circle":var p=u[0],h=u[1],m=u[2],f=h-m,g=p-m;c.origin.size.height=2*m,c.origin.size.width=c.origin.size.height,c.origin.windowOffset.left+=g,c.origin.windowOffset.top+=f;break;case"rect":var v=u[0],b=u[1],w=u[2],y=u[3];c.origin.size.height=y-b,c.origin.size.width=w-v,c.origin.windowOffset.left+=v,c.origin.windowOffset.top+=b;break;case"poly":for(var _=0,C=0,x=0,k=0,S="even",T=0;T<u.length;T++){var E=u[T];S="even"==S?(x<E&&(x=E,0===T&&(_=x)),E<_&&(_=E),"odd"):(k<E&&(k=E,1==T&&(C=k)),E<C&&(C=E),"even")}c.origin.size.height=k-C,c.origin.size.width=x-_,c.origin.windowOffset.left+=_,c.origin.windowOffset.top+=C}}for(this._trigger({type:"geometry",edit:function(e){c.origin.size.height=e.height,c.origin.windowOffset.left=e.left,c.origin.windowOffset.top=e.top,c.origin.size.width=e.width},geometry:{height:c.origin.size.height,left:c.origin.windowOffset.left,top:c.origin.windowOffset.top,width:c.origin.size.width}}),c.origin.windowOffset.right=c.origin.windowOffset.left+c.origin.size.width,c.origin.windowOffset.bottom=c.origin.windowOffset.top+c.origin.size.height,c.origin.offset.left=c.origin.windowOffset.left+c.window.scroll.left,c.origin.offset.top=c.origin.windowOffset.top+c.window.scroll.top,c.origin.offset.bottom=c.origin.offset.top+c.origin.size.height,c.origin.offset.right=c.origin.offset.left+c.origin.size.width,c.available.document={bottom:{height:c.document.size.height-c.origin.offset.bottom,width:c.document.size.width},left:{height:c.document.size.height,width:c.origin.offset.left},right:{height:c.document.size.height,width:c.document.size.width-c.origin.offset.right},top:{height:c.origin.offset.top,width:c.document.size.width}},c.available.window={bottom:{height:Math.max(c.window.size.height-Math.max(c.origin.windowOffset.bottom,0),0),width:c.window.size.width},left:{height:c.window.size.height,width:Math.max(c.origin.windowOffset.left,0)},right:{height:c.window.size.height,width:Math.max(c.window.size.width-Math.max(c.origin.windowOffset.right,0),0)},top:{height:Math.max(c.origin.windowOffset.top,0),width:c.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){c.origin.fixedLineage=!0;break}l=l.parent()}return c},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=e(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=e(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval(function(){var i=(new Date).getTime();t.__touchEvents=e.grep(t.__touchEvents,function(e,t){return 6e4<i-e.time}),a(t._$origin)||t.close(function(){t.destroy()})},2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var e=this;if(e._$origin.off("."+e.__namespace+"-triggerOpen"),s.hasTouchCapability&&e._$origin.on("touchstart."+e.__namespace+"-triggerOpen touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen",function(t){e._touchRecordEvent(t)}),e.__options.triggerOpen.click||e.__options.triggerOpen.tap&&s.hasTouchCapability){var t="";e.__options.triggerOpen.click&&(t+="click."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.tap&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen"),e._$origin.on(t,function(t){e._touchIsMeaningfulEvent(t)&&e._open(t)})}return(e.__options.triggerOpen.mouseenter||e.__options.triggerOpen.touchstart&&s.hasTouchCapability)&&(t="",e.__options.triggerOpen.mouseenter&&(t+="mouseenter."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(t+="touchstart."+e.__namespace+"-triggerOpen"),e._$origin.on(t,function(t){!e._touchIsTouchEvent(t)&&e._touchIsEmulatedEvent(t)||(e.__pointerIsOverOrigin=!0,e._openShortly(t))})),(e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&s.hasTouchCapability)&&(t="",e.__options.triggerClose.mouseleave&&(t+="mouseleave."+e.__namespace+"-triggerOpen "),e.__options.triggerClose.touchleave&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen"),e._$origin.on(t,function(t){e._touchIsMeaningfulEvent(t)&&(e.__pointerIsOverOrigin=!1)})),e},__prepareTooltip:function(){var t=this,i=t.__options.interactive?"auto":"";return t._$tooltip.attr("id",t.__namespace).css({"pointer-events":i,zIndex:t.__options.zIndex}),e.each(t.__previousThemes,function(e,i){t._$tooltip.removeClass(i)}),e.each(t.__options.theme,function(e,i){t._$tooltip.addClass(i)}),t.__previousThemes=e.merge([],t.__options.theme),t},__scrollHandler:function(t){if(this.__options.triggerClose.scroll)this._close(t);else if(a(this._$origin)&&a(this._$tooltip)){var i=null;if(t.target===s.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(t);else{i=this.__geometry();var n=!1;if("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(t,a){var o=e(a),r=o.css("overflow-x"),s=o.css("overflow-y");if("visible"!=r||"visible"!=s){var l=a.getBoundingClientRect();if("visible"!=r&&(i.origin.windowOffset.left<l.left||i.origin.windowOffset.right>l.right))return!(n=!0);if("visible"!=s&&(i.origin.windowOffset.top<l.top||i.origin.windowOffset.bottom>l.bottom))return!(n=!0)}if("fixed"==o.css("position"))return!1}),n)this._$tooltip.css("visibility","hidden");else if(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)this.reposition(t);else{var o=i.origin.offset.left-this.__Geometry.origin.offset.left,r=i.origin.offset.top-this.__Geometry.origin.offset.top;this._$tooltip.css({left:this.__lastPosition.coord.left+o,top:this.__lastPosition.coord.top+r})}}this._trigger({type:"scroll",event:t,geo:i})}return this},__stateSet:function(e){return this.__state=e,this._trigger({type:"state",state:e}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,e.each(this.__timeouts.close,function(e,t){clearTimeout(t)}),this.__timeouts.close=[],this},__trackerStart:function(){var e=this,t=e._$tooltip.find(".tooltipster-content");return e.__options.trackTooltip&&(e.__contentBcr=t[0].getBoundingClientRect()),e.__tracker=setInterval(function(){if(a(e._$origin)&&a(e._$tooltip)){if(e.__options.trackOrigin){var i=e.__geometry(),o=!1;n(i.origin.size,e.__Geometry.origin.size)&&(e.__Geometry.origin.fixedLineage?n(i.origin.windowOffset,e.__Geometry.origin.windowOffset)&&(o=!0):n(i.origin.offset,e.__Geometry.origin.offset)&&(o=!0)),
o||(e.__options.triggerClose.mouseleave?e._close():e.reposition())}if(e.__options.trackTooltip){var r=t[0].getBoundingClientRect();r.height===e.__contentBcr.height&&r.width===e.__contentBcr.width||(e.reposition(),e.__contentBcr=r)}}else e._close()},e.__options.trackerInterval),e},_close:function(t,i,n){function a(){e.each(r.__callbacks.close,function(e,i){i.call(r,r,{event:t,origin:r._$origin[0]})}),r.__callbacks.close=[]}function o(){clearInterval(r.__tracker),r._trigger({type:"closing",event:t}),r._$tooltip.off("."+r.__namespace+"-triggerClose").removeClass("tooltipster-dying"),e(s.window).off("."+r.__namespace+"-triggerClose"),r.__$originParents.each(function(t,i){e(i).off("scroll."+r.__namespace+"-triggerClose")}),r.__$originParents=null,e(s.window.document.body).off("."+r.__namespace+"-triggerClose"),r._$origin.off("."+r.__namespace+"-triggerClose"),r._off("dismissable"),r.__stateSet("closed"),r._trigger({type:"after",event:t}),r.__options.functionAfter&&r.__options.functionAfter.call(r,r,{event:t,origin:r._$origin[0]}),a()}var r=this,l=!0;if(r._trigger({type:"close",event:t,stop:function(){l=!1}}),l||n)if(i&&r.__callbacks.close.push(i),r.__callbacks.open=[],r.__timeoutsClear(),"closed"!=r.__state){var c=!0,d=(new Date).getTime()+r.__options.animationDuration[1];"disappearing"==r.__state&&d>r.__closingTime&&0<r.__options.animationDuration[1]&&(c=!1),c&&(r.__closingTime=d,"disappearing"!=r.__state&&r.__stateSet("disappearing"),s.hasTransitions?(r._$tooltip.css({"-moz-animation-duration":r.__options.animationDuration[1]+"ms","-ms-animation-duration":r.__options.animationDuration[1]+"ms","-o-animation-duration":r.__options.animationDuration[1]+"ms","-webkit-animation-duration":r.__options.animationDuration[1]+"ms","animation-duration":r.__options.animationDuration[1]+"ms","transition-duration":r.__options.animationDuration[1]+"ms"}),r._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<r.__options.animationDuration[1]&&r._$tooltip.delay(r.__options.animationDuration[1]),r._$tooltip.queue(o)):r._$tooltip.stop().fadeOut(r.__options.animationDuration[1],o))}else a();return r},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(t,i){function n(){"stable"!=o.__state&&o.__stateSet("stable"),e.each(o.__callbacks.open,function(e,t){t.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]}var o=this;if(!o.__destroying&&a(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:t,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:t,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){i&&o.__callbacks.open.push(i),o.__callbacks.close=[],o.__timeoutsClear();var l;if("closed"!==o.__state)l=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<o.__options.animationDuration[0]&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(n)):o._$tooltip.stop().fadeIn(n)):"stable"==o.__state&&n();else{if(o.__stateSet("appearing"),l=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(t,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<o.__options.animationDuration[0]&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(n))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],n),o.__trackerStart(),e(s.window).on("resize."+o.__namespace+"-triggerClose",function(t){var i=e(document.activeElement);(i.is("input")||i.is("textarea"))&&e.contains(o._$tooltip[0],i[0])||o.reposition(t)}).on("scroll."+o.__namespace+"-triggerClose",function(e){o.__scrollHandler(e)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(t,i){e(i).on("scroll."+o.__namespace+"-triggerClose",function(e){o.__scrollHandler(e)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",function(e){e.dismissable?e.delay?(p=setTimeout(function(){o._close(e.event)},e.delay),o.__timeouts.close.push(p)):o._close(e):clearTimeout(p)});var c=o._$origin,d="",u="",p=null;o.__options.interactive&&(c=c.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(d+="mouseenter."+o.__namespace+"-triggerClose ",u+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(d+="touchstart."+o.__namespace+"-triggerClose",u+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),c.on(u,function(e){if(o._touchIsTouchEvent(e)||!o._touchIsEmulatedEvent(e)){var t="mouseleave"==e.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:t[1],dismissable:!0,event:e,type:"dismissable"})}}).on(d,function(e){!o._touchIsTouchEvent(e)&&o._touchIsEmulatedEvent(e)||o._trigger({dismissable:!1,event:e,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(e){o._touchIsTouchEvent(e)||o._touchIsEmulatedEvent(e)||o._close(e)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var t="",i=e(s.window.document.body);o.__options.triggerClose.click&&(t+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(t+="touchend."+o.__namespace+"-triggerClose"),i.on(t,function(t){o._touchIsMeaningfulEvent(t)&&(o._touchRecordEvent(t),o.__options.interactive&&e.contains(o._$tooltip[0],t.target)||o._close(t))}),o.__options.triggerClose.tap&&s.hasTouchCapability&&i.on("touchstart."+o.__namespace+"-triggerClose",function(e){o._touchRecordEvent(e)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}0<o.__options.timer&&(p=setTimeout(function(){o._close()},o.__options.timer+l),o.__timeouts.close.push(p))}}return o},_openShortly:function(e){var t=this,i=!0;if("stable"!=t.__state&&"appearing"!=t.__state&&!t.__timeouts.open&&(t._trigger({type:"start",event:e,stop:function(){i=!1}}),i)){var n=0==e.type.indexOf("touch")?t.__options.delayTouch:t.__options.delay;n[0]?t.__timeouts.open=setTimeout(function(){t.__timeouts.open=null,t.__pointerIsOverOrigin&&t._touchIsMeaningfulEvent(e)?(t._trigger("startend"),t._open(e)):t._trigger("startcancel")},n[0]):(t._trigger("startend"),t._open(e))}return t},_optionsExtract:function(t,i){var n=this,a=e.extend(!0,{},i),o=n.__options[t];return o||(o={},e.each(i,function(e,t){var i=n.__options[e];void 0!==i&&(o[e]=i)})),e.each(a,function(t,i){void 0!==o[t]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof o[t]||o[t]instanceof Array||null==o[t]?a[t]=o[t]:e.extend(a[t],o[t]))}),a},_plug:function(t){var i=e.tooltipster._plugin(t);if(!i)throw new Error('The "'+t+'" plugin is not defined');return i.instance&&e.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(e){for(var t=!1,i=(new Date).getTime(),n=this.__touchEvents.length-1;0<=n;n--){var a=this.__touchEvents[n];if(!(i-a.time<500))break;a.target===e.target&&(t=!0)}return t},_touchIsMeaningfulEvent:function(e){return this._touchIsTouchEvent(e)&&!this._touchSwiped(e.target)||!this._touchIsTouchEvent(e)&&!this._touchIsEmulatedEvent(e)},_touchIsTouchEvent:function(e){return 0==e.type.indexOf("touch")},_touchRecordEvent:function(e){return this._touchIsTouchEvent(e)&&(e.time=(new Date).getTime(),this.__touchEvents.push(e)),this},_touchSwiped:function(e){for(var t=!1,i=this.__touchEvents.length-1;0<=i;i--){var n=this.__touchEvents[i];if("touchmove"==n.type){t=!0;break}if("touchstart"==n.type&&e===n.target)break}return t},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),e.tooltipster._trigger.apply(e.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(t){var i=this;if(i[t]){var n=e.tooltipster._plugin(t);n.instance&&e.each(n.instance,function(e,n){i[e]&&i[e].bridged===i[t]&&delete i[e]}),i[t].__destroy&&i[t].__destroy(),delete i[t]}return i},close:function(e){return this.__destroyed?this.__destroyError():this._close(null,e),this},content:function(e){var t=this;if(void 0===e)return t.__Content;if(t.__destroyed)t.__destroyError();else if(t.__contentSet(e),null!==t.__Content){if("closed"!==t.__state&&(t.__contentInsert(),t.reposition(),t.__options.updateAnimation))if(s.hasTransitions){var i=t.__options.updateAnimation;t._$tooltip.addClass("tooltipster-update-"+i),setTimeout(function(){"closed"!=t.__state&&t._$tooltip.removeClass("tooltipster-update-"+i)},1e3)}else t._$tooltip.fadeTo(200,.5,function(){"closed"!=t.__state&&t._$tooltip.fadeTo(200,1)})}else t._close();return t},destroy:function(){var t=this;if(t.__destroyed)t.__destroyError();else{"closed"!=t.__state?t.option("animationDuration",0)._close(null,null,!0):t.__timeoutsClear(),t._trigger("destroy"),t.__destroyed=!0,t._$origin.removeData(t.__namespace).off("."+t.__namespace+"-triggerOpen"),e(s.window.document.body).off("."+t.__namespace+"-triggerOpen");var i=t._$origin.data("tooltipster-ns");if(i)if(1===i.length){var n=null;"previous"==t.__options.restoration?n=t._$origin.data("tooltipster-initialTitle"):"current"==t.__options.restoration&&(n="string"==typeof t.__Content?t.__Content:e("<div></div>").append(t.__Content).html()),n&&t._$origin.attr("title",n),t._$origin.removeClass("tooltipstered"),t._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else i=e.grep(i,function(e,i){return e!==t.__namespace}),t._$origin.data("tooltipster-ns",i);t._trigger("destroyed"),t._off(),t.off(),t.__Content=null,t.__$emitterPrivate=null,t.__$emitterPublic=null,t.__options.parent=null,t._$origin=null,t._$tooltip=null,e.tooltipster.__instancesLatestArr=e.grep(e.tooltipster.__instancesLatestArr,function(e,i){return t!==e}),clearInterval(t.__garbageCollector)}return t},disable:function(){return this.__destroyed?this.__destroyError():(this._close(),this.__enabled=!1),this},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(e){return this.close(e)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(e){return this.__destroyed?this.__destroyError():this._open(null,e),this},option:function(t,i){return void 0===i?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=i,this.__optionsFormat(),0<=e.inArray(t,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(e,t){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&a(this._$origin)&&(t||a(this._$tooltip))&&(t||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:e,helper:{geo:this.__Geometry}})),this},show:function(e){return this.open(e)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.fn.tooltipster=function(){var t=Array.prototype.slice.apply(arguments),i="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof t[0]){var n="#*$~&";return this.each(function(){var a=e(this).data("tooltipster-ns"),o=a?e(this).data(a[0]):null;if(!o)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof o[t[0]])throw new Error('Unknown method "'+t[0]+'"');1<this.length&&"content"==t[0]&&(t[1]instanceof e||"object"==typeof t[1]&&null!=t[1]&&t[1].tagName)&&!o.__options.contentCloning&&o.__options.debug&&console.log(i);var r=o[t[0]](t[1],t[2]);if(r!==o||"instance"===t[0])return n=r,!1}),"#*$~&"!==n?n:this}e.tooltipster.__instancesLatestArr=[];var a=t[0]&&void 0!==t[0].multiple,r=a&&t[0].multiple||!a&&o.multiple,s=t[0]&&void 0!==t[0].content,l=s&&t[0].content||!s&&o.content,c=t[0]&&void 0!==t[0].contentCloning,d=c&&t[0].contentCloning||!c&&o.contentCloning,u=t[0]&&void 0!==t[0].debug,p=u&&t[0].debug||!u&&o.debug;return 1<this.length&&(l instanceof e||"object"==typeof l&&null!=l&&l.tagName)&&!d&&p&&console.log(i),this.each(function(){var i=!1,n=e(this),a=n.data("tooltipster-ns"),o=null;a?r?i=!0:p&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):i=!0,i&&(o=new e.Tooltipster(this,t[0]),(a=a||[]).push(o.__namespace),n.data("tooltipster-ns",a),n.data(o.__namespace,o),o.__options.functionInit&&o.__options.functionInit.call(o,o,{origin:this}),o._trigger("init")),e.tooltipster.__instancesLatestArr.push(o)}),this},i.prototype={__init:function(t){this.__$tooltip=t,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=e('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var e=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(e)},constrain:function(e,t){return this.constraints={width:e,height:t},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:e}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var e=this.__$tooltip[0].getBoundingClientRect(),t={size:{height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};if(this.constraints){var i=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),a=i[0].getBoundingClientRect(),o={height:n<=this.constraints.height,width:e.width<=this.constraints.width&&a.width>=i[0].scrollWidth-1};t.fits=o.height&&o.width}return s.IE&&s.IE<=11&&t.size.width!==s.window.document.documentElement.clientWidth&&(t.size.width=Math.ceil(t.size.width)+1),t}};var l=navigator.userAgent.toLowerCase();return-1!=l.indexOf("msie")?s.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?s.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(l.toLowerCase().split("edge/")[1])),e.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(e){var t=this;t.__instance=e,t.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),t.__previousState="closed",t.__options,t.__optionsFormat(),t.__instance._on("state."+t.__namespace,function(e){"closed"==e.state?t.__close():"appearing"==e.state&&"closed"==t.__previousState&&t.__create(),t.__previousState=e.state}),t.__instance._on("options."+t.__namespace,function(){t.__optionsFormat()}),t.__instance._on("reposition."+t.__namespace,function(e){t.__reposition(e.event,e.helper)})},__close:function(){this.__instance.content()instanceof e&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var t=e('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=t,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),this.__options.distance.length<4&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side&&(this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left")),6===e.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(t,i){var n,a=this,o=a.__targetFind(i),r=[];a.__instance._$tooltip.detach();var s=a.__instance._$tooltip.clone(),l=e.tooltipster._getRuler(s),c=!1,d=a.__instance.option("animation");switch(d&&s.removeClass("tooltipster-"+d),e.each(["window","document"],function(n,d){var u=null;if(a.__instance._trigger({container:d,helper:i,satisfied:c,takeTest:function(e){u=e},results:r,type:"positionTest"}),1==u||0!=u&&0==c&&("window"!=d||a.__options.viewportAware))for(n=0;n<a.__options.side.length;n++){var p={horizontal:0,vertical:0},h=a.__options.side[n];"top"==h||"bottom"==h?p.vertical=a.__options.distance[h]:p.horizontal=a.__options.distance[h],a.__sideChange(s,h),e.each(["natural","constrained"],function(e,n){if(u=null,a.__instance._trigger({container:d,event:t,helper:i,mode:n,results:r,satisfied:c,side:h,takeTest:function(e){u=e},type:"positionTest"}),1==u||0!=u&&0==c){var s={container:d,distance:p,fits:null,mode:n,outerSize:null,side:h,size:null,target:o[h],whole:null},m=("natural"==n?l.free():l.constrain(i.geo.available[d][h].width-p.horizontal,i.geo.available[d][h].height-p.vertical)).measure();if(s.size=m.size,s.outerSize={height:m.size.height+p.vertical,width:m.size.width+p.horizontal},"natural"==n?i.geo.available[d][h].width>=s.outerSize.width&&i.geo.available[d][h].height>=s.outerSize.height?s.fits=!0:s.fits=!1:s.fits=m.fits,"window"==d&&(s.fits?s.whole="top"==h||"bottom"==h?i.geo.origin.windowOffset.right>=a.__options.minIntersection&&i.geo.window.size.width-i.geo.origin.windowOffset.left>=a.__options.minIntersection:i.geo.origin.windowOffset.bottom>=a.__options.minIntersection&&i.geo.window.size.height-i.geo.origin.windowOffset.top>=a.__options.minIntersection:s.whole=!1),r.push(s),s.whole)c=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=i.geo.available[d][h].width))return!1}})}}),a.__instance._trigger({edit:function(e){r=e},event:t,helper:i,results:r,type:"positionTested"}),r.sort(function(e,t){return e.whole&&!t.whole?-1:!e.whole&&t.whole?1:e.whole&&t.whole?(i=a.__options.side.indexOf(e.side))<(n=a.__options.side.indexOf(t.side))?-1:n<i?1:"natural"==e.mode?-1:1:e.fits&&!t.fits?-1:!e.fits&&t.fits?1:e.fits&&t.fits?(i=a.__options.side.indexOf(e.side))<(n=a.__options.side.indexOf(t.side))?-1:n<i?1:"natural"==e.mode?-1:1:"document"==e.container&&"bottom"==e.side&&"natural"==e.mode?-1:1;var i,n}),(n=r[0]).coord={},n.side){case"left":case"right":n.coord.top=Math.floor(n.target-n.size.height/2);break;case"bottom":case"top":n.coord.left=Math.floor(n.target-n.size.width/2)}switch(n.side){case"left":n.coord.left=i.geo.origin.windowOffset.left-n.outerSize.width;break;case"right":n.coord.left=i.geo.origin.windowOffset.right+n.distance.horizontal;break;case"top":n.coord.top=i.geo.origin.windowOffset.top-n.outerSize.height;break;case"bottom":n.coord.top=i.geo.origin.windowOffset.bottom+n.distance.vertical}"window"==n.container?"top"==n.side||"bottom"==n.side?n.coord.left<0?0<=i.geo.origin.windowOffset.right-this.__options.minIntersection?n.coord.left=0:n.coord.left=i.geo.origin.windowOffset.right-this.__options.minIntersection-1:n.coord.left>i.geo.window.size.width-n.size.width&&(i.geo.origin.windowOffset.left+this.__options.minIntersection<=i.geo.window.size.width?n.coord.left=i.geo.window.size.width-n.size.width:n.coord.left=i.geo.origin.windowOffset.left+this.__options.minIntersection+1-n.size.width):n.coord.top<0?0<=i.geo.origin.windowOffset.bottom-this.__options.minIntersection?n.coord.top=0:n.coord.top=i.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:n.coord.top>i.geo.window.size.height-n.size.height&&(i.geo.origin.windowOffset.top+this.__options.minIntersection<=i.geo.window.size.height?n.coord.top=i.geo.window.size.height-n.size.height:n.coord.top=i.geo.origin.windowOffset.top+this.__options.minIntersection+1-n.size.height):(n.coord.left>i.geo.window.size.width-n.size.width&&(n.coord.left=i.geo.window.size.width-n.size.width),n.coord.left<0&&(n.coord.left=0)),a.__sideChange(s,n.side),i.tooltipClone=s[0],i.tooltipParent=a.__instance.option("parent").parent[0],i.mode=n.mode,i.whole=n.whole,i.origin=a.__instance._$origin[0],i.tooltip=a.__instance._$tooltip[0],delete n.container,delete n.fits,delete n.mode,delete n.outerSize,delete n.whole,n.distance=n.distance.horizontal||n.distance.vertical;var u,p,h,m=e.extend(!0,{},n);if(a.__instance._trigger({edit:function(e){n=e},event:t,helper:i,position:m,type:"position"}),a.__options.functionPosition){var f=a.__options.functionPosition.call(a,a.__instance,i,m);f&&(n=f)}l.destroy(),p="top"==n.side||"bottom"==n.side?(u={prop:"left",val:n.target-n.coord.left},n.size.width-this.__options.minIntersection):(u={prop:"top",val:n.target-n.coord.top},n.size.height-this.__options.minIntersection),u.val<this.__options.minIntersection?u.val=this.__options.minIntersection:u.val>p&&(u.val=p),h=i.geo.origin.fixedLineage?i.geo.origin.windowOffset:{left:i.geo.origin.windowOffset.left+i.geo.window.scroll.left,top:i.geo.origin.windowOffset.top+i.geo.window.scroll.top},n.coord={left:h.left+(n.coord.left-i.geo.origin.windowOffset.left),top:h.top+(n.coord.top-i.geo.origin.windowOffset.top)},a.__sideChange(a.__instance._$tooltip,n.side),i.geo.origin.fixedLineage?a.__instance._$tooltip.css("position","fixed"):a.__instance._$tooltip.css("position",""),a.__instance._$tooltip.css({left:n.coord.left,top:n.coord.top,height:n.size.height,width:n.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(u.prop,u.val),a.__instance._$tooltip.appendTo(a.__instance.option("parent")),a.__instance._trigger({type:"repositioned",event:t,position:n})},__sideChange:function(e,t){e.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+t)},__targetFind:function(e){var t={},i=this.__instance._$origin[0].getClientRects();if(1<i.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)),i.length<2)t.top=Math.floor(e.geo.origin.windowOffset.left+e.geo.origin.size.width/2),t.bottom=t.top,t.left=Math.floor(e.geo.origin.windowOffset.top+e.geo.origin.size.height/2),t.right=t.left;else{var n=i[0];t.top=Math.floor(n.left+(n.right-n.left)/2),n=2<i.length?i[Math.ceil(i.length/2)-1]:i[0],t.right=Math.floor(n.top+(n.bottom-n.top)/2),n=i[i.length-1],t.bottom=Math.floor(n.left+(n.right-n.left)/2),n=2<i.length?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],t.left=Math.floor(n.top+(n.bottom-n.top)/2)}return t}}}),e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.lazyframe=t()}(this,function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};return function(){function t(e){var t=this;if(e instanceof HTMLElement!=0&&!e.classList.contains("lazyframe--loaded")){var r={el:e,settings:i(e)};r.el.addEventListener("click",function(){r.el.appendChild(r.iframe);var i=e.querySelectorAll("iframe");r.settings.onAppend.call(t,i[0])}),o.lazyload?a(r):n(r,r.settings.thumbnail)}}function i(t){var i=Array.prototype.slice.apply(t.attributes).filter(function(e){return""!==e.value}).reduce(function(e,t){return e[0===t.name.indexOf("data-")?t.name.split("data-")[1]:t.name]=t.value,e},{}),n=e({},o,i,{y:t.offsetTop,parameters:function(e){var t=e.split("?");return t[1]?-1!==(t=t[1]).indexOf("autoplay")?t:t+"&autoplay=1":"autoplay=1"}(i.src)});if(n.vendor){var a=n.src.match(l.regex[n.vendor]);n.id=l.condition[n.vendor](a)}return n}function n(e){var t=this;!function(e){return!(!e.vendor||e.title&&e.thumbnail||"youtube"===e.vendor&&!e.apikey)}(e.settings)?a(e,!0):function(e,t){var i=l.endpoints[e.settings.vendor](e.settings),n=new XMLHttpRequest;n.open("GET",i,!0),n.onload=function(){if(200<=n.status&&n.status<400){var i=JSON.parse(n.responseText);t(null,[i,e])}else t(!0)},n.onerror=function(){t(!0)},n.send()}(e,function(i,n){if(!i){var o=n[0],r=n[1];if(r.settings.title||(r.settings.title=l.response[r.settings.vendor].title(o)),!r.settings.thumbnail){var s=l.response[r.settings.vendor].thumbnail(o);r.settings.thumbnail=s,e.settings.onThumbnailLoad.call(t,s)}a(r,!0)}})}function a(e,t){if(e.iframe=function(e){var t=document.createDocumentFragment(),i=document.createElement("iframe");if(e.vendor&&(e.src=l.src[e.vendor](e)),i.setAttribute("id","lazyframe-"+e.id),i.setAttribute("src",e.src),i.setAttribute("frameborder",0),i.setAttribute("allowfullscreen",""),"vine"===e.vendor){var n=document.createElement("script");n.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),t.appendChild(n)}return t.appendChild(i),t}(e.settings),e.settings.thumbnail&&t&&(e.el.style.backgroundImage="url("+e.settings.thumbnail+")"),e.settings.title&&0===e.el.children.length){var i=document.createDocumentFragment(),n=document.createElement("span");n.className="lazyframe__title",n.innerHTML=e.settings.title,i.appendChild(n),e.el.appendChild(i)}o.lazyload||(e.el.classList.add("lazyframe--loaded"),e.settings.onLoad.call(this,e),r.push(e)),e.settings.initialized||r.push(e)}var o=void 0,r=[],s={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,parameters:void 0,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(e){},onAppend:function(e){},onThumbnailLoad:function(e){}},l={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(e){return!(!e||11!=e[1].length)&&e[1]},vimeo:function(e){return!!(e&&9===e[1].length||8===e[1].length)&&e[1]},vine:function(e){return!(!e||11!==e[1].length)&&e[1]}},src:{youtube:function(e){return"https://www.youtube.com/embed/"+e.id+"/?"+e.parameters},vimeo:function(e){return"https://player.vimeo.com/video/"+e.id+"/?"+e.parameters},vine:function(e){return"https://vine.co/v/"+e.id+"/embed/simple"}},endpoints:{youtube:function(e){return"https://www.googleapis.com/youtube/v3/videos?id="+e.id+"&key="+e.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(e){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+e.id},vine:function(e){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+e.id}},response:{youtube:{title:function(e){return e.items[0].snippet.title},thumbnail:function(e){var t=e.items[0].snippet.thumbnails;return t.maxres?t.maxres.url:t.standard.url}},vimeo:{title:function(e){return e.title},thumbnail:function(e){return e.thumbnail_url}},vine:{title:function(e){return e.title},thumbnail:function(e){return e.thumbnail_url}}}};return function(i){if(o=e({},s,arguments.length<=1?void 0:arguments[1]),"string"==typeof i)for(var a=document.querySelectorAll(i),l=0;l<a.length;l++)t(a[l]);else if(void 0===i.length)t(i);else if(1<i.length)for(var c=0;c<i.length;c++)t(i[c]);else t(i[0]);o.lazyload&&function(){function e(e,i){e.settings.initialized=!0,e.el.classList.add("lazyframe--loaded"),a--,n(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(t,e)}var t=this,i=window.innerHeight,a=r.length;r.filter(function(e){return e.settings.y<i}).forEach(e);var s=function(e,t,i){var n=void 0;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){n=null,e.apply(i,a)},t)}}(function(){c=l<window.scrollY,l=window.scrollY,c&&r.filter(function(e){return e.settings.y<i+l&&!1===e.settings.initialized}).forEach(e),0===a&&window.removeEventListener("scroll",s,!1)},o.debounce),l=0,c=!1;window.addEventListener("scroll",s,!1)}()}}()}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.lazyframe=t()}(this,function(){"use strict";function e(e){var o=this;if(e instanceof HTMLElement!=0&&!e.classList.contains("lazyframe--loaded")){var r={el:e,settings:t(e)};r.el.addEventListener("click",function(){r.el.appendChild(r.iframe);var t=e.querySelectorAll("iframe");r.settings.onAppend.call(o,t[0])}),a.lazyload?n(r):i(r,r.settings.thumbnail)}}function t(e){var t=Array.prototype.slice.apply(e.attributes).filter(function(e){return""!==e.value}).reduce(function(e,t){return e[0===t.name.indexOf("data-")?t.name.split("data-")[1]:t.name]=t.value,e},{}),i=l({},a,t,{y:e.offsetTop,parameters:function(e){var t=e.split("?");return t[1]?-1!==(t=t[1]).indexOf("autoplay")?t:t+"&autoplay=1":"autoplay=1"}(t.src)});if(i.vendor){var n=i.src.match(s.regex[i.vendor]);i.id=s.condition[i.vendor](n)}return i}function i(e){var t=this;!function(e){return!(!e.vendor||e.title&&e.thumbnail||"youtube"===e.vendor&&!e.apikey)}(e.settings)?n(e,!0):function(e,t){var i=s.endpoints[e.settings.vendor](e.settings),n=new XMLHttpRequest;n.open("GET",i,!0),n.onload=function(){if(200<=n.status&&n.status<400){var i=JSON.parse(n.responseText);t(null,[i,e])
}else t(!0)},n.onerror=function(){t(!0)},n.send()}(e,function(i,a){if(!i){var o=a[0],r=a[1];if(r.settings.title||(r.settings.title=s.response[r.settings.vendor].title(o)),!r.settings.thumbnail){var l=s.response[r.settings.vendor].thumbnail(o);r.settings.thumbnail=l,e.settings.onThumbnailLoad.call(t,l)}n(r,!0)}})}function n(e,t){if(e.iframe=function(e){var t=document.createDocumentFragment(),i=document.createElement("iframe");if(e.vendor&&(e.src=s.src[e.vendor](e)),i.setAttribute("id","lazyframe-"+e.id),i.setAttribute("src",e.src),i.setAttribute("frameborder",0),i.setAttribute("allowfullscreen",""),"vine"===e.vendor){var n=document.createElement("script");n.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),t.appendChild(n)}return t.appendChild(i),t}(e.settings),e.settings.thumbnail&&t&&(e.el.style.backgroundImage="url("+e.settings.thumbnail+")"),e.settings.title&&0===e.el.children.length){var i=document.createDocumentFragment(),n=document.createElement("span");n.className="lazyframe__title",n.innerHTML=e.settings.title,i.appendChild(n),e.el.appendChild(i)}a.lazyload||(e.el.classList.add("lazyframe--loaded"),e.settings.onLoad.call(this,e),o.push(e)),e.settings.initialized||o.push(e)}var a,o,r,s,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};return r={vendor:a=void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!(o=[]),parameters:void 0,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(e){},onAppend:function(e){},onThumbnailLoad:function(e){}},s={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(e){return!(!e||11!=e[1].length)&&e[1]},vimeo:function(e){return!!(e&&9===e[1].length||8===e[1].length)&&e[1]},vine:function(e){return!(!e||11!==e[1].length)&&e[1]}},src:{youtube:function(e){return"https://www.youtube.com/embed/"+e.id+"/?"+e.parameters},vimeo:function(e){return"https://player.vimeo.com/video/"+e.id+"/?"+e.parameters},vine:function(e){return"https://vine.co/v/"+e.id+"/embed/simple"}},endpoints:{youtube:function(e){return"https://www.googleapis.com/youtube/v3/videos?id="+e.id+"&key="+e.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(e){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+e.id},vine:function(e){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+e.id}},response:{youtube:{title:function(e){return e.items[0].snippet.title},thumbnail:function(e){var t=e.items[0].snippet.thumbnails;return(t.maxres||t.standard||t.high||t.medium||t.default).url}},vimeo:{title:function(e){return e.title},thumbnail:function(e){return e.thumbnail_url}},vine:{title:function(e){return e.title},thumbnail:function(e){return e.thumbnail_url}}}},function(t){if(a=l({},r,arguments.length<=1?void 0:arguments[1]),"string"==typeof t)for(var n=document.querySelectorAll(t),s=0;s<n.length;s++)e(n[s]);else if(void 0===t.length)e(t);else if(1<t.length)for(var c=0;c<t.length;c++)e(t[c]);else e(t[0]);a.lazyload&&function(){var e=this,t=window.innerHeight,n=o.length,r=function(t,a){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),n--,i(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};o.filter(function(e){return e.settings.y<t}).forEach(r);var s=function(e,t){var i=void 0;return function(){var n=this,a=arguments;clearTimeout(i),i=setTimeout(function(){i=null,e.apply(n,a)},t)}}(function(){c=l<window.scrollY,l=window.scrollY,c&&o.filter(function(e){return e.settings.y<t+l&&!1===e.settings.initialized}).forEach(r),0===n&&window.removeEventListener("scroll",s,!1)},a.debounce),l=0,c=!1;window.addEventListener("scroll",s,!1)}()}}),angular.module("hoff-prod",["ngSanitize","nouislider","jkAngularRatingStars","MassAutoComplete","moment-picker","thatisuday.dropzone","dir.ajaxInline","dir.bindhtml","dir.formFilter","dir.colorCarousel","dir.jsEllipsis","dir.navSide","dir.initCarousel","dir.ugcCarousel","dir.initGallery","dir.initPopupGallery","dir.customScroll","dir.number","dir.tooltip","dir.formField","dir.maskInput","dir.accordionSections","dir.tableAdaptive","dir.initMap","dir.initTabs","dir.scrollTo","dir.popupInline","dir.popupGet","dir.validateForm","dir.openshop","dir.elemRangeSlider","dir.recomend","dir.jsBannerInit","dir.jsOffersInit","dir.kitchenPlanner","dir.bnLazySrc","dir.headerScrollListener","dir.pasteFilter","dir.patternInput","dir.initCarouselOffersMain","ctrl.filterCtrl","ctrl.favCtrl","ctrl.suggestCtrl","ctrl.autoCompleteCtrl","ctrl.changeCity","ctrl.complectCtrl","ctrl.cartCtrl","ctrl.basketCtrl","ctrl.smsCtrl","ctrl.basketCardCtrl","ctrl.cardConfirm","ctrl.dzCtrl","ctrl.dateCtrl","srv.formSrv","srv.filterSrv","srv.favSrv","srv.cartSrv","srv.mapSrv","srv.scrollAndResizeListener","fltr.separatorFltr","fltr.pluralForm","fltr.orderObjBy"]).config(["$interpolateProvider",function(e){e.startSymbol("[[").endSymbol("]]")}]).config(function(e){e.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1})}).config(["$httpProvider",function(e){e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8";var t=function(e){var i,n,a,o,r,s,l="";for(i in e)if((n=e[i])instanceof Array)for(s=0;s<n.length;++s)o=n[s],(r={})[i+"["+s+"]"]=o,l+=t(r)+"&";else if(n instanceof Object)for(a in n)o=n[a],(r={})[i+"["+a+"]"]=o,l+=t(r)+"&";else null!=n&&(l+=encodeURIComponent(i)+"="+encodeURIComponent(n)+"&");return l.length?l.substr(0,l.length-1):l};e.defaults.transformRequest=[function(e){return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}]}]).config(function(e){e.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1})}),angular.module("nouislider",[]).directive("slider",function(){return{restrict:"AEC"}}),angular.module("moment-picker",[]).directive("momentPicker",function(){return{restrict:"AEC"}}),angular.module("dir.formFilter",[]).directive("formFilter",function(){return{restrict:"AEC"}}),angular.module("dir.colorCarousel",[]).directive("colorCarousel",function(){return{restrict:"AEC"}}),angular.module("dir.initGallery",[]).directive("initGallery",function(){return{restrict:"AEC"}}),angular.module("dir.initCarousel",[]).directive("initCarousel",function(){return{restrict:"AEC"}}),angular.module("dir.ugcCarousel",[]).directive("ugcCarousel",function(){return{restrict:"AEC"}}),angular.module("dir.popupInline",[]).directive("popupInline",function(){return{restrict:"AEC"}}),angular.module("dir.initMap",[]).directive("initMap",function(){return{restrict:"AEC"}}),angular.module("dir.openshop",[]).directive("openshop",function(){return{restrict:"AEC"}}),angular.module("dir.jsOffersInit",[]).directive("jsOffersInit",function(){return{restrict:"AEC"}}),angular.module("dir.kitchenPlanner",[]).directive("kitchenPlanner",function(){return{restrict:"AEC"}}),angular.module("dir.scrollTo",[]).directive("scrollTo",function(){return{restrict:"AEC"}}),angular.module("dir.tableAdaptive",[]).directive("tableAdaptive",function(){return{restrict:"AEC"}}),angular.module("dir.initPopupGallery",[]).directive("initPopupGallery",function(){return{restrict:"AEC"}}),angular.module("dir.customScroll",[]).directive("customScroll",function(){return{restrict:"AEC"}}),angular.module("dir.pasteFilter",[]).directive("pasteFilter",function(){return{restrict:"AEC"}}),angular.module("dir.patternInput",[]).directive("patternInput",function(){return{restrict:"AEC"}}),angular.module("dir.recomend",[]).directive("recomend",function(){return function(){}}),angular.module("dir.popState",[]).directive("popState",function(){return{restrict:"AEC"}}),angular.module("ctrl.filterCtrl",[]).controller("filterCtrl",function(){return{restrict:"AEC"}}),angular.module("ctrl.complectCtrl",[]).controller("complectCtrl",function(){return{restrict:"AEC"}}),angular.module("ctrl.basketCtrl",[]).controller("basketCtrl",function(){return{restrict:"AEC"}}),angular.module("ctrl.basketCardCtrl",[]).controller("basketCardCtrl",function(){return{restrict:"AEC"}}),angular.module("ctrl.dateCtrl",[]).controller("dateCtrl",function(){return{restrict:"AEC"}}),angular.module("ctrl.cardConfirm",[]).controller("cardConfirm",function(){return{restrict:"AEC"}}),angular.module("srv.filterSrv",[]).factory("filterSrv",function(){return{restrict:"AEC"}}),angular.module("fltr.pluralForm",[]).filter("pluralForm",function(){return function(){}}),angular.module("jkAngularRatingStars",[]).controller("RatingStarsController",function(){return function(){}}).directive("jkRatingStars",function(){return{restrict:"E"}}),$(function(){$(".form-search").addClass("interactive"),$(document).on("focus",".js-placehoder",function(){$(this).closest(".form-search").addClass("focused")}),$(document).on("blur",".js-placehoder",function(){0==$(this).val().length&&$(this).closest(".form-search").removeClass("focused")})}),window.onload=function(){document.getElementById("appendJs")&&function(e){e.reduce(function(e,t){return e.then(function(e){return t().then(Array.prototype.concat.bind(e))})},Promise.resolve([]))}(document.getElementById("appendJs").dataset.js.split(",").map(function(e){return function(){return $.ajax(e)}}))},angular.module("dir.ajaxInline",[]).directive("ajaxInline",["$http","$compile","$timeout",function(e,t,i){return{scope:{url:"@ajaxUrl",event:"@ajaxEvent",method:"@ajaxMethod",data:"=ajaxData",params:"=ajaxParams",headers:"=ajaxHeaders",result:"=ajaxResult",loader:"=ajaxLoader",redirect:"@ajaxRedirect",eventTimes:"@ajaxEventTimes",eventLimit:"@ajaxEventLimit",appendTo:"@ajaxAppendId",appendClear:"@ajaxAppendClear"},link:function(n,a,o){function r(){if(!n.url)throw new Error('Не указан урл ajax запроса, пример ajax-url="/api/get/1/"');if(n.method||(n.method="post"),u={method:n.method,url:n.url},0==a.serialize().length?u.data=toSerialize(n.data):0<a.serialize().length&&angular.isUndefined(n.data)?u.data=a.serialize():u.data=a.serialize()+"&"+toSerialize(n.data),angular.isDefined(n.params)&&(u.params=n.params),angular.isDefined(n.headers)&&(u.headers=n.headers),angular.isDefined(n.eventTimes))++p>=n.eventTimes&&s(u);else if(angular.isDefined(n.eventLimit)){if("Comment00"==n.appendTo&&!angular.element(document.getElementById(n.appendTo)).is(":empty"))return!1;h<n.eventLimit&&(s(u),h++)}else s(u)}function s(o){l(1),0!==a.children(".pre-message").length&&($.magnificPopup.instance.isOpen?($.magnificPopup.close(),i(function(){c()},200)):c()),e(o).then(function(e){if(angular.isDefined(n.redirect)&&!0===e.data&&(window.location=n.redirect),angular.isDefined(n.result)&&(n.result=e.data),angular.isDefined(n.appendClear)&&angular.isDefined(n.appendTo)&&angular.element(document.getElementById(n.appendTo)).empty(),angular.isDefined(n.appendTo)&&angular.element(document.getElementById(n.appendTo)).append(t(e.data)(n)),i(function(){var e=$(".lazyframe");"undefined"!=typeof lazyframe&&lazyframe(e,{onAppend:function(e){$(e).addClass("lazy-video")}});try{$(".selectpicker").selectpicker("refresh"),setTimeout(function(){$(".option--colors").length&&$(".option--colors .dropdown-menu li").each(function(e,t){var i='<a class="top-layer-link" href="'+$(t).find("span.select-icon").data("url")+'" target="_blank"></a>';$(t).prepend(i)})},100)}catch(e){}},0),l(0),i(function(){$.magnificPopup.instance.isOpen&&!$.magnificPopup.instance.popupsCache.hasOwnProperty("pGet")&&d()},2e3),e.data.popup&&i(function(){c(e.data.popup);try{myLazyLoad.update()}catch(e){}},2500),i(function(){try{myLazyLoad.update()}catch(e){}},1),e.data.CALLBACK)return new Function(e.data.CALLBACK)()},function(e){n.result=!1,l(0),i(function(){$.magnificPopup&&d()},2e3)})}function l(e){angular.isDefined(n.loader)&&(n.loader=e)}function c(e){e?(m.items=e,m.inline.markup='<div class="box-popup popup-password"><button title="Закрыть (Esc)" type="button" class="mfp-close"></button><div class="mfp-TITLE box-popup__name"></div><br><div class="mfp-TEXT"></div></div>'):0!==a.children(".pre-message").length&&(m.items={},m.inline.markup='<div class="box-popup popup-password"><button title="Закрыть (Esc)" type="button" class="mfp-close"></button><div class="box-popup__name"></div><br><div>'+a.children(".pre-message").html()+"</div></div>"),$.magnificPopup.open(m)}function d(){$.magnificPopup.close(),delete $.magnificPopup.instance.popupsCache.pRequest}var u={};if(!n.event)throw new Error('Не указано событие, при котором отправлять ajax запрос, пример ajax-event="click"');if(angular.isDefined(n.eventTimes))var p=0;if(angular.isDefined(n.eventLimit))var h=0;a.length&&"onload"==o.ajaxEvent?r():a[o.ajaxEvent](function(){r()});var m={removalDelay:200,key:"pRequest",items:{},type:"inline",closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',closeOnBgClick:!1,callbacks:{beforeOpen:function(){$("body").addClass("no-scroll")},open:function(){var e=this;i(function(){e.contentContainer[0].className+=" popupIn"},200)},beforeClose:function(){this.contentContainer[0].className+=" popupOut",$("body").removeClass("no-scroll")},afterClose:function(){delete $.magnificPopup.instance.popupsCache.pRequest}},inline:{markup:""}}}}}]),angular.module("dir.bindhtml",[]).directive("bindhtml",["$compile","$timeout",function(e,t){return{restrict:"A",replace:!0,link:function(i,n,a){i.$watch(a.bindhtml,function(a){void 0!==a&&0<a.length&&(n.html(a),e(n.contents())(i),t(function(){try{myLazyLoad.update()}catch(e){}},200))})}}}]),angular.module("dir.navSide",[]).directive("navSide",[function(){return{restrict:"A",link:function(e,t,i){function n(e){$(e).hasClass("has-submenu")&&(t.addClass("section-opened"),$(".nav-side__section").removeClass("open"),$(e).addClass("open"),t.scrollTop(0))}function a(){$("#openSideMenu").removeClass("opened"),t.removeClass("opened").removeClass("section-opened"),$("body").removeClass("no-scroll sidemenu-opened"),$(".page-wrapper").children(".page-overflow").detach(),$(".nav-side__section").removeClass("open")}function o(){c=t.outerHeight(),d=$(".page-wrapper").offset().top,u=d+c-l,p=l-d-window.pageYOffset,h=(d-window.pageYOffset+17)/$(window).width()*100,m=h+15/$(window).width()*100,parseInt($(".box-search").css("padding-top")),document.querySelector(".box-header").clientHeight,document.querySelector(".box-header").getBoundingClientRect().top,p<0&&(p="auto")}function r(){parseInt($(".box-search").css("padding-top"));var e=document.querySelector(".box-header").clientHeight+document.querySelector(".box-header").getBoundingClientRect().top;e=e<0?0:e,c<l?(t.removeClass("btm-stick"),0<h?(t.css({"padding-top":e+"px","margin-top":0,height:p}),f.css({"padding-top":m+"vw"})):(t.css({"padding-top":0,"margin-top":0,height:"auto"}),f.css({"padding-top":"2vw"}))):(t.css({"padding-top":e+"px","margin-top":0,height:"auto"}),0<u-window.pageYOffset?(t.removeClass("btm-stick"),f.css({"padding-top":m+"vw"})):(t.addClass("btm-stick"),f.css({"padding-top":"2vw"})))}var s,l,c,d,u,p,h,m,f=t.find(".nav-side__submenu"),g=t.find(".nav-side__section");g.each(function(){$(this).children(".nav-side__submenu").length&&$(this).addClass("has-submenu"),$(this).children(".exclusive").hasClass("red")&&$(this).children(".exclusive").append('<span class="red-corner" />'),$(this).children(".exclusive").hasClass("black")&&$(this).children(".exclusive").append('<span class="black-corner" />')}),setTimeout(function(){s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=t.outerHeight(),d=$(".page-wrapper").offset().top,u=d+c-l,p=l-d-window.pageYOffset,h=(d-window.pageYOffset+17)/$(window).width()*100,m=h+15/$(window).width()*100,r()},50);var v,b=0,w=setInterval(function(){if(b++,$(".exponea-banner").length){$(window).scroll();for(var e=document.getElementsByClassName("exponea-banner__close"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){$(window).scroll()},!1);clearInterval(w)}100<b&&clearInterval(w)},50);$(window).scroll(function(){o(),r()}),$("#openSideMenu").click(function(){if($(this).hasClass("opened"))a(),$(".page-wrapper").css({"margin-top":""}),t.scrollTop(0),$(window).scrollTop(v);else{if(v=$(window).scrollTop(),$(this).addClass("opened"),t.addClass("opened"),$("body").addClass("no-scroll sidemenu-opened"),$(".page-wrapper").prepend('<div class="page-overflow" />'),$(".page-wrapper").css({"margin-top":-v+"px"}),$(".box-header").hasClass("box-header--fixed")){var e=document.querySelector(".box-header").clientHeight+document.querySelector(".box-header").getBoundingClientRect().top;t.css({"padding-top":e+"px"})}$(".page-overflow").click(function(){a()}),t.scrollTop(0)}});var y,_=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1;_&&13<=_?g.hover(function(){n(this)}):g.click(function(){n(this)}),$(".submenu-title").click(function(e){e.stopPropagation(),t.removeClass("section-opened"),$(".nav-side__section").removeClass("open")}),"IE"!==getBrowserInfo().split(" ")[0]&&"MSIE"!==getBrowserInfo().split(" ")[0]&&"Edge"!==getBrowserInfo().split(" ")[0]||$(document).on("mouseenter",".nav-side__section.has-submenu",function(){$(".form-search__text").blur()}),$(window).resize(function(){y&&window.clearTimeout(y),y=window.setTimeout(function(){s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=t.outerHeight(),o(),r(),768<s&&a()},50)}),$(".offer-close").click(function(){$(window).resize(),setTimeout(function(){$(window).scroll(),a(),p=$(window).height()-d-window.pageYOffset,h=(d-window.pageYOffset+17)/$(window).width()*100,m=h+15/$(window).width()*100,$(".nav-side").css({height:p}),f.css({"padding-top":m+"vw"})},100)}),$(document).on("click",".elem-city",function(){a()})}}}]),angular.module("dir.initCarousel",[]).directive("initCarousel",[function(){return{restrict:"A",link:function(e,t,i){function n(e){if(m)e&&e.update();else if(0<(s=t.find(".elem-product__img img")).length){for(var i=0;i<=s.length-1;i++){var n=$(s[i]);n[0].hasAttribute("data-src")?(n[0].src=n.attr("data-src"),n.parent().addClass("children-loaded"),n.removeClass("loading").addClass("loaded")):n[0].hasAttribute("bn-lazy-src")&&(n[0].src=n.attr("bn-lazy-src"),n.parent().addClass("children-loaded"),n.removeClass("loading").addClass("loaded"))}m=!0,e&&e.update()}}function a(){window.innerWidth<=1600&&1423<window.innerWidth?h=3==u?3:4:window.innerWidth<=1423&&768<=window.innerWidth?h=3==u?2:3:window.innerWidth<768?h="auto":3==u&&(h=3)}function o(e,t){setTimeout(function(){e.addClass(t)},0)}var r=t.find(".swiper-container");r.append('<div class="swiper-scrollbar"></div>'),r.before('<div class="box-carousel__btns"><div class="slider-swiper-button-prev"></div><div class="slider-swiper-button-next"></div></div>');var s,l=t.children(".box-carousel__btns").children(".slider-swiper-button-next"),c=t.children(".box-carousel__btns").children(".slider-swiper-button-prev"),d=t.children(".swiper-container").children(".swiper-scrollbar"),u=r.data("max-slides"),p=r.data("mobile-carusel"),h=4,m=!1;3==u&&(h=3),a();var f={nextButton:l,prevButton:c,scrollbar:d,slidesPerView:u,scrollbarHide:!1,onReachEnd:function(e){$(e.container[0]).addClass("end-reached"),o(l,"swiper-button-disabled")},onSlidePrevEnd:function(e){n(e),e.isEnd||$(e.container[0]).removeClass("end-reached")},onReachBeginning:function(e){$(e.container[0]).addClass("begin-reached"),o(c,"swiper-button-disabled")},onSlideNextEnd:function(e){n(e),e.isBeginning||$(e.container[0]).removeClass("begin-reached")}};"auto"!==u&&(0==p?(f.spaceBetween=20,f.onAfterResize=function(e){e.update()},f.onInit=function(e){$(e.container[0]).addClass("begin-reached"),$(e.container[0]).removeClass("end-reached")},f.breakpoints={1600:{slidesPerView:u,spaceBetween:20},1423:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:3,spaceBetween:0},480:{centeredSlides:!0,slidesPerView:"auto",freeMode:!1,spaceBetween:0}}):(f.spaceBetween=20,f.onAfterResize=function(e){e.slides.length<=e.params.slidesPerView?"auto"!==e.params.slidesPerView&&t.addClass("no-arrows"):t.removeClass("no-arrows"),e.update(),setTimeout(function(){l.hasClass("swiper-button-disabled")&&c.hasClass("swiper-button-disabled")||e.params.slidesPerView},200)},f.onInit=function(e){$(e.container[0]).addClass("begin-reached"),$(e.container[0]).removeClass("end-reached"),n(e),e.slides.length<=e.params.slidesPerView?"auto"!==e.params.slidesPerView&&t.addClass("no-arrows"):(t.removeClass("no-arrows"),o(c,"swiper-button-disabled")),e.update(),setTimeout(function(){l.hasClass("swiper-button-disabled")&&c.hasClass("swiper-button-disabled")&&"auto"!==e.params.slidesPerView&&t.addClass("no-arrows")},200)},f.breakpoints={1600:{slidesPerView:h,spaceBetween:20},1423:{slidesPerView:h,spaceBetween:20},1024:{slidesPerView:h,spaceBetween:20},768:{slidesPerView:"auto",freeMode:!0,spaceBetween:0},480:{slidesPerView:"auto",freeMode:!1,roundLengths:!0,spaceBetween:0}}),carouselSwiper=new Swiper(r.get(0),f)),"auto"===u&&(f.spaceBetween=20,f.slidesPerView="auto",f.freeMode=!0,f.breakpoints={480:{slidesPerView:"auto",centeredSlides:!0,spaceBetween:10}},f.onInit=function(e){$(e.container[0]).addClass("begin-reached"),e.slides.length<=e.params.slidesPerView?"auto"!==e.params.slidesPerView&&t.addClass("no-arrows"):t.removeClass("no-arrows"),setTimeout(function(){l.hasClass("swiper-button-disabled")&&c.hasClass("swiper-button-disabled")&&t.addClass("no-arrows")},200),e.update()},f.onAfterResize=function(e){e.slides.length<=e.params.slidesPerView?"auto"!==e.params.slidesPerView&&t.addClass("no-arrows"):t.removeClass("no-arrows"),e.update(),setTimeout(function(){l.hasClass("swiper-button-disabled")&&c.hasClass("swiper-button-disabled")||e.params.slidesPerView},200)},carouselSwiper=new Swiper(r.get(0),f));var g=debounce(function(){768<=$(window).width()&&(a(),"auto"!==(f.slidesPerView=u)&&(f.breakpoints={1600:{slidesPerView:h,spaceBetween:20},1423:{slidesPerView:h,spaceBetween:20},1024:{slidesPerView:h,spaceBetween:20},768:{slidesPerView:"auto",freeMode:!0,spaceBetween:0},480:{slidesPerView:"auto",freeMode:!1,roundLengths:!0,spaceBetween:0}}),carouselSwiper.destroy(),carouselSwiper=new Swiper(r.get(0),f),c.click())},100);$(window).resize(g)}}}]),angular.module("dir.initCarouselOffersMain",[]).directive("initCarouselOffersMain",["$timeout",function(e){return{restrict:"A",link:function(e,t,i){var n=t.children(".swiper-container")[0];$(n).append('<div class="swiper-scrollbar offer-scrollbar"></div>');var a={scrollbar:".swiper-scrollbar.offer-scrollbar",scrollbarDraggable:!0,spaceBetween:20,slidesPerView:5,scrollbarHide:!1,preloadImages:!1,lazyLoading:!0,lazyLoadingOnTransitionStart:!0,lazyLoadingInPrevNext:!0,breakpoints:{1600:{slidesPerView:4},1423:{slidesPerView:3},1280:{slidesPerView:3},480:{slidesPerView:1.3,spaceBetween:8}},onInit:function(e){$(e.container[0]).addClass("begin-reached"),setTimeout(function(){t.removeClass("has-loader")},500)},onAfterResize:function(e){},onTouchStart:function(e,t){},onTouchMove:function(e,t){},onReachEnd:function(e){$(e.container[0]).addClass("end-reached")},onSlidePrevEnd:function(e){e.isEnd||$(e.container[0]).removeClass("end-reached")},onReachBeginning:function(e){$(e.container[0]).addClass("begin-reached")},onSlideNextEnd:function(e){e.isBeginning||$(e.container[0]).removeClass("begin-reached")}};setTimeout(function(){new Swiper(n,a)},100)}}}]),angular.module("dir.initTabs",[]).directive("initTabs",["$timeout","$interval","mapSrv",function(e,t,i){return{restrict:"A",link:function(t,n,a){function o(){r=new Swiper(c[0],{slidesPerView:"auto",spaceBetween:12,slidesOffsetBefore:0,slidesOffsetAfter:0,centeredSlides:!1,freeMode:!0,watchOverflow:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",breakpoints:{1024:{centeredSlides:!1},768:{centeredSlides:u,freeMode:!p},480:{spaceBetween:10}},onInit:function(e){setTimeout(function(){var e;"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!0,!0),window.dispatchEvent(e)},200),$(e.container[0]).addClass("begin-reached"),$(e.container[0]).removeClass("end-reached"),d.each(function(){if($(this),$(this).hasClass("active"))return l=$(this).index(),!1}),d.eq(l).addClass("active"),s.eq(l).addClass("active"),setTimeout(function(){e.slideTo(l)},500)},onReachEnd:function(e){$(e.container[0]).addClass("end-reached"),$(e.container[0]).removeClass("begin-reached")},onSlidePrevEnd:function(e){e.isEnd||$(e.container[0]).removeClass("end-reached")},onReachBeginning:function(e){$(e.container[0]).addClass("begin-reached"),$(e.container[0]).removeClass("end-reached")},onSlideNextEnd:function(e){e.isBeginning||$(e.container[0]).removeClass("begin-reached")}})}var r,s=n.children(".elem-tab__bodies").children(".elem-tab__body"),l=0,c=n.children(".elem-tab__head").children(".swiper-container"),d=c.find(".swiper-slide");c.append('<div class="swiper-button-prev" /><div class="swiper-button-next" />');var u=!!n.hasClass("box-tabs--mob-center"),p=n.hasClass("box-tabs--search");if(c.length&&null===c[0].ownerDocument.defaultView)setTimeout(function(){o()},100);else{setTimeout(function(){o()},100),setTimeout(function(){c.find(".swiper-container").each(function(){if(0<$(this).find(".swiper-button-next:hidden").length)var e=70;r.params.slidesOffsetAfter=e,0<$(this).find(".swiper-button-prev:hidden").length&&(e=70),r.params.slidesOffsetBefore=e}),r.update()},200);var h=$("[data-scroll-to='Reviews']"),m=$("#Reviews").index();h.click(function(){r.params.centeredSlides=!0,r.init({centeredSlides:!0}),e(function(){r.slideTo(m)},1e3)}),d.click(function(t){if(""!==this.id&&(window.location.hash=this.id),clikedOnTabHeadFromSide=!1,!$(this).hasClass("active")){l=$(this).index(),d.removeClass("active"),$(this).addClass("active"),s.removeClass("active"),s.eq(l).addClass("active"),u&&r&&r.slideTo(l),stopAllVideo(n);for(var a=0;a<i.mapObj.length;a++)void 0!==i.mapObj[a]&&i.mapObj[a].container.fitToViewport();setTimeout(function(){try{var e=$(".elem-tab__body.active").find(".rr-swiper-container");e.removeClass("rr-swiper-container"),e.addClass("rr-swiper-container")}catch(e){}},100),e(function(){try{carouselSwiper&&carouselSwiper.update(),recomendCarousel.update()}catch(e){}$(".img-wrapper",s.eq(l)).children("img").each(function(){$(this)[0].src=$(this).attr("bn-lazy-src"),$(this).parent().addClass("children-loaded")})},100)}}),setTimeout(function(){var e,t;if(window.location.hash){e=window.location.hash.substring(1),d.removeClass("active");var i=/#(.*)/;d.each(function(){var n=$(this).data("hash");return i.exec(n)&&i.exec(n)[1]==e||$(this).attr("id")==e?(t=$(this).index(),r.slideTo(t,0,!1),$(this).addClass("active"),s.removeClass("active"),s.eq(t).addClass("active"),r.isBeginning||$(r.container[0]).removeClass("begin-reached"),r.isEnd||$(r.container[0]).removeClass("end-reached"),void 0!==$(this).data("ajaxInline")&&$(this).trigger("click"),!1):$(this).data("scrollTo")==e||$(this).children("a").length&&$(this).children("a").attr("href").substr(1)==e?(t=$(this).index(),$(this).trigger("click"),setTimeout(function(){$("html, body").animate({scrollTop:$("#"+e).offset().top-80},200)},100),r.slideTo(t-1),!1):void 0}),r.update()}},150),$(window).resize(function(){setTimeout(function(){r.update(),carouselSwiper&&carouselSwiper.update()},100)}),$("#pvz-pickup-link").length&&$("#pvz-pickup-link").on("click",function(e){if($("#Delivery").length){angular.element("#Delivery").triggerHandler("click"),r.slideTo($("#Delivery").index());var t=0,i=setInterval(function(){if($("#pvzPickup").length)for(var n=[".box-map",".box-deliver","#mCSB_3"],a=0;a<n.length;a++)void 0!==$(".elem-tab__body.active "+n[a]).offset()&&($("html, body").animate({scrollTop:$(".elem-tab__body.active "+n[a]).offset().top-100},200,function(){angular.element(document.querySelector("#pvzPickup")).click()}),e.preventDefault(),clearInterval(i));50<t++&&(clearInterval(i),t=0)},100)}}),window.addEventListener("hashchange",function(){setTimeout(function(){d.each(function(){return 0===window.location.hash.length?(d.removeClass("active"),d.first().addClass("active"),s.removeClass("active"),s.first().addClass("active"),!1):this.id!==window.location.hash.substr(1)||$(this).hasClass("active")?void 0:(l=$(this).index(),d.removeClass("active"),$(this).addClass("active"),s.removeClass("active"),s.eq(l).addClass("active"),!1)})},200)},!1)}}}}]),angular.module("dir.number",[]).directive("number",["$timeout",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n){var a,o,r,s=angular.isDefined(n.numberNostepper),l=angular.isDefined(n.numberChange),c=angular.isDefined(n.basketPopup);if(s||i.stepper(),e(function(){a=+i.val()},1),i.on("keydown",function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110])||65==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()}),c||i.on("blur",function(e){n.itemId&&""===e.target.value&&(t.amount[n.itemId]=0)}),i.on("input",function(e){e&&0===parseInt(e.target.value,10)&&(n.itemId&&(t.amount[n.itemId]=0),i.val(0),-1<window.navigator.userAgent.indexOf("Edge")&&i.trigger("change")),e&&parseInt(e.target.value,10)>parseInt(n.max,10)&&n.itemId&&(t.amount[n.itemId]=parseInt(n.max,10));var a=e.target.selectionStart-1,o=e.target.value[a];void 0!==o&&!1===/^\d*$/.test(o)&&$(e.target).val(e.target.value.slice(0,a)+e.target.value.slice(1+a))}),l&&i.on("keyup input",function(t){o=$(this),e(function(){+o.val()>+n.max?o.val(n.max):+o.val()<+n.min&&o.val(n.min)},10),a=+o.val()}),c){var d=i.parents(".stepper").find(".stepper-arrow.up"),u=i.parents(".stepper").find(".stepper-arrow.down");e(function(){+i.val()>=+n.max?d.addClass("disabled"):d.removeClass("disabled"),+i.val()<=+n.min?u.addClass("disabled"):u.removeClass("disabled")},10),i.on("change",function(){+(o=$(this)).val()>=+n.max?d.addClass("disabled"):d.removeClass("disabled"),+o.val()<=+n.min?u.addClass("disabled"):u.removeClass("disabled")})}i.change(function(){return o=$(this),e(function(){+o.val()>+n.max?o.val(n.max):+o.val()<+n.min&&o.val(n.min)},10),+o.val()>+a&&n.plusCallback&&"function"===n.plusCallback?(r=new Function(n.plusCallback),a=+o.val(),r()):+o.val()<+a&&n.minusCallback&&"function"===n.minusCallback?(r=new Function(n.minusCallback),a=+o.val(),r()):(a=+o.val(),void(i[0].form&&"basketCtrl"===i[0].form.getAttribute("data-ng-controller")&&i.blur()))})}}}]),angular.module("dir.popupGet",[]).directive("popupGet",["$compile","$timeout","$rootScope","formSrv",function($compile,$timeout,$rootScope,formSrv){return{restrict:"A",scope:{data:"=popupData"},link:function($scope,$element,$attrs){function disableScroll(){scrollDistance=$(window).scrollTop(),$("body").css({position:"fixed",left:0,top:-1*scrollDistance,bottom:0,right:0})}function enableScroll(){$("body").css({position:"",left:"",top:"",bottom:"",right:""}),$(window).scrollTop(scrollDistance)}var openDelay=0,favIds,addFavs=function(e,t){var i=e.indexOf("_fav_ids_");return-1===i?e:e.slice(0,i)+t+e.slice(i+9)},scrollDistance=0;$element.click(function(e){e.preventDefault(),$.magnificPopup.instance.isOpen&&($.magnificPopup.close(),delete $.magnificPopup.instance.popupsCache.pGet,openDelay=200),$timeout(function(){$.magnificPopup.open({removalDelay:200,type:"ajax",closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',key:"pGet",closeOnBgClick:!1,items:{src:$element.data("mfpSrc")},ajax:{settings:{data:$scope.data}},callbacks:{beforeOpen:function(){$("body").hasClass("safari")?disableScroll():$("body").addClass("no-scroll")},beforeClose:function(){this.contentContainer[0].className+=" popupOut",delete $.magnificPopup.instance.popupsCache.pGet,$("body").removeClass("no-scroll"),
$(this.contentContainer[0]).find("[data-close-callback]")&&$(this.contentContainer[0]).find("[data-close-callback]").each(function(){if($(this).is(":visible")&&!window.backendGetForm)try{eval($(this).data("close-callback"))}catch(e){e instanceof SyntaxError&&console.error(e.message)}})},afterClose:function(){$("body").hasClass("safari")?enableScroll():$("body").removeClass("no-scroll")},ajaxContentAdded:function(){var e=this.content.find(".nav-social .elem-social");if(e.length&&(favIds=null!==localStorage.getItem("favObj")&&0!==JSON.parse(localStorage.getItem("favObj")).length?JSON.parse(localStorage.getItem("favObj")).join(","):"",e.each(function(){var e=$(this).attr("onclick"),t=addFavs(e,favIds);$(this).attr("onclick",t)})),$compile(this.content)($scope),$rootScope.$digest(),this.contentContainer[0].className+=" popupIn",0<document.getElementsByClassName("selectpicker").length)try{$(".selectpicker").selectpicker("refresh"),setTimeout(function(){$(".option--colors").length&&$(".option--colors .dropdown-menu li").each(function(e,t){var i='<a class="top-layer-link" href="'+$(t).find("span.select-icon").data("url")+'" target="_blank"></a>';$(t).prepend(i)})},100)}catch(e){}try{myLazyLoad.update()}catch(e){}try{$(".elem-custom-scroll").mCustomScrollbar("update")}catch(e){}formSrv.isEdit=!1,window.backendGetForm=!1}}})},openDelay+100)})}}}]),window.postfixCaptchaElem=0,angular.module("dir.validateForm",[]).service("validatorTools",[function(){this.isCyrillicSymbol=function(e){var t=new RegExp("[а-яА-ЯёЁ]");return""===e?-1:e.search(t)}}]).directive("input",["validatorTools","$parse",function(e,t){function i(i,n,a){function o(t){return e.isCyrillicSymbol(t)}var r="email"===a.type,s=a.ngModel;if(r){var l=i.$new(),c=t(a.ngModel).assign,d=n.val(),u=o(d);if(-1!==u){var p=d.slice(0,u);n.val(p),c(l,p)}n.on("keyup",function(){l[s]=n.val(),l.$apply()}),l.$watch(s,function(e,t){if(e!=t){var i=o(e);if(-1===i)c(l,e);else{var a=e.slice(0,i);n.val(a),c(l,a)}}})}}return{compile:function(e,t){if("email"===t.type){var n=t.ngModel;t.ngModel=n||"userEmail"}return i},restrict:"E",scope:!1}}]).directive("validateForm",["$http","$timeout","$window","$q","$document","$interval","$compile","$rootScope","formSrv","favSrv",function($http,$timeout,$window,$q,$document,$interval,$compile,$rootScope,formSrv,favSrv){return{link:function(scope,elm,attrs){function fillInitials(){elm.find("[name='form_text_178']").val("yes"==scope.checkboxModelName?elm.find("[name='form_text_81']").val():""),elm.find("[name='form_text_179']").val("yes"==scope.checkboxModelName?elm.find("[name='form_text_82']").val():""),elm.find("[name='form_text_180']").val("yes"==scope.checkboxModelName?elm.find("[name='form_text_83']").val():"")}function isRenderFunctionAvailable(){return angular.isFunction(($window.grecaptcha||{}).render)}function isExecuteFunctionAvailable(){return angular.isFunction(($window.grecaptcha||{}).execute)}function getRecaptcha(){return recaptcha?$q.when(recaptcha):promise}function generatePopup(e){e.TITLE&&""!=e.TITLE?popupConfig.inline.markup='<div class="box-popup popup-password"><button title="Закрыть (Esc)" type="button" class="mfp-close"></button><div class="box-popup__name">'+e.TITLE+"</div><br><div>"+e.TEXT+"</div></div>":popupConfig.inline.markup='<div class="box-popup popup-password"><button title="Закрыть (Esc)" type="button" class="mfp-close"></button><div>'+e.TEXT+"</div></div>",$.magnificPopup.open(popupConfig)}if(scope.hideErrors=function(e){$(".has-error","#"+e).removeClass("has-error")},elm.find("[name='checkName']").length){fillInitials();var checkName=elm.find("[name='checkName']");elm.find(".js-initials").on("change",fillInitials),checkName.on("change",fillInitials)}setTimeout(function(){elm.hasClass("popup-write")&&elm.trigger("reset")},0);var deferred=$q.defer(),promise=deferred.promise,recaptcha;scope.formSrv=formSrv;var tempFavIds,captchaCreated=!1,elemForCaptcha,captchaObject;if(elm.hasClass("kitchen-planning")&&$timeout(function(){function e(){if(t.val()&&i.val()){var e=t.val(),r=i.val();$http.get("/ajax/forms/get_free_times.php?date="+e+"&form_id="+o+"&shop_id="+r).then(function(t){var i=t.data;if(i.length){a.hide();var o=i.map(function(e){return"<option value="+e+">"+e+"</option>"}).join("");n.html(o),n.selectpicker("refresh")}else{var r="Запись на "+e+" закончена. Пожалуйста, выберите другую дату встречи.";a.text(r),a.show(),n.html(""),n.selectpicker("refresh")}})}}var t=elm.find(".date-input"),i=elm.find(".selectpicker.shop-input"),n=elm.find(".selectpicker.time-select"),a=elm.find(".error-text"),o=elm.find("[name='WEB_FORM_ID']").val();e(),i.on("change",e),$rootScope.$on("date_changed",e)},1e3),attrs.recaptchaElem&&"authFormPopup"===attrs.recaptchaElem){var clickCounter=0,button=elm[0].querySelector('button[type="submit"]');angular.element(button).bind("click",function(){2<clickCounter&&!0===captchaCreated?(clickCounter=0,executeCaptcha()):2===clickCounter&&!1===captchaCreated?createCaptcha():clickCounter++})}$timeout(function(){tempFavIds=favSrv.ids,scope.fav_ids=tempFavIds.join()},10);var btnStateDisabled=function(e){for(var t=$window.document.querySelectorAll('form[data-recaptcha-elem] button[type="submit"]'),i=0;t.length>i;i++)e?t[i].classList.add("disabled"):t[i].classList.remove("disabled")},popStateLoader=function(e){elm.closest(".box-popup")&&(e?elm.closest(".box-popup").addClass("has-loader"):elm.closest(".box-popup").removeClass("has-loader"))},createCaptcha=function(){if(attrs.recaptchaElem&&""!=window.captchaKey){if(window.postfixCaptchaElem++,elemForCaptcha=attrs.recaptchaElem+window.postfixCaptchaElem,elm.addClass("has-loader"),btnStateDisabled(!0),document.getElementById(elemForCaptcha)||elm.append('<div id="'+elemForCaptcha+'" />'),isRenderFunctionAvailable())recaptcha=$window.grecaptcha,deferred.resolve(recaptcha);else if($window.document.querySelector('script[src^="https://www.google.com/recaptcha/api.js"]'))var e=$interval(function(){isRenderFunctionAvailable()&&($interval.cancel(e),recaptcha=$window.grecaptcha,deferred.resolve(recaptcha))},30);getRecaptcha().then(function(e){$("#"+elemForCaptcha).length&&(captchaObject=e.render(elemForCaptcha,{sitekey:$window.captchaKey,callback:captchaSubmit,size:"invisible"})),elm.removeClass("has-loader"),btnStateDisabled(!1),captchaCreated=!0})}},executeCaptcha=function(){isExecuteFunctionAvailable()&&$window.document.getElementById(elemForCaptcha)&&(elm.removeClass("has-loader"),btnStateDisabled(!1),recaptcha.execute(captchaObject).then(function(){listenRecaptchaClose(elm)}))},generateTodayDate=function(){var e=new Date,t=e.getDate(),i=e.getMonth()+1;return t<10&&(t="0"+t),i<10&&(i="0"+i),t+"."+i+"."+e.getFullYear()};attrs.recaptchaElem&&"authFormPopup"!==attrs.recaptchaElem&&createCaptcha();var captchaSubmit=function(e){elm.addClass("has-loader"),btnStateDisabled(!0),$http({method:attrs.method,url:attrs.action,data:elm.serialize()}).then(options.success)},options={success:function(e){if(formSrv.data={},formSrv.data=e.data,e.data.CLEAR&&1==e.data.CLEAR){setTimeout(function(){$(elm[0]).find("input, select, textarea").not("[name='form_radio_PAY_TYPE'],[name='form_dropdown_SHOP_TYPE'],[name='form_text_77'],input[type='hidden'],input[type='checkbox'],input[readonly],[name='form_text_233'],[name='form_hidden_230'],[name='form_dropdown_THEME'],.prevent-server-clear").val("")},100);var t=generateTodayDate();if($("[data-set-date]",elm).attr("data-set-date"),$(".form-field--keeper").attr("date-keeper")){var i=$(".form-field--keeper").attr("date-keeper");i=i.replace(/-/g,"."),$(".form-field--date input",elm).val(i),$timeout(function(){try{$(".selectpicker").selectpicker("refresh"),setTimeout(function(){$(".option--colors").length&&$(".option--colors .dropdown-menu li").each(function(e,t){var i='<a class="top-layer-link" href="'+$(t).find("span.select-icon").data("url")+'" target="_blank"></a>';$(t).prepend(i)})},100)}catch(e){}},0)}else $(".form-field--date input",elm).val(t);$(".time-select",elm)&&$timeout(function(){$(".selectpicker.time-select",elm).html(""),$(".selectpicker",elm).each(function(){$(this).selectpicker("refresh")})},0),$(".selectpicker.selectpicker-shop-list",elm).each(function(){$(this).selectpicker("refresh")}),$(".form-field__error-total",elm).text(""),scope.$broadcast("dropStars",null),scope.$broadcast("dropFiles",null)}if(!1===e.data.RESULT&&"CAPTCHA"===e.data.ERROR_TYPE)!1===captchaCreated?createCaptcha():clickCounter?clickCounter=3:executeCaptcha();else if(!1===e.data.RESULT)e.data.ERRORS&&$.map(e.data.ERRORS,function(e,t){$('[name="'+t+'"]',elm).parent().addClass("has-error"),$('[name="'+t+'"]',elm).parent().children(".form-field__error-msg").html(e)}),$(".form-field__error-total",elm).removeClass("success");else{window.backendGetForm=!0,$(".form-field",elm).removeClass("has-error");var n=toJSON(elm.serialize());n.auth_type&&0<n.auth_type.length&&localStorage.removeItem("favObj"),e.data.HEADER_DESKTOP&&!$(".cart-header").length&&($(".box-search").empty(),$(".mobile-cabinet-cart").empty(),angular.element(".box-search").append($compile(e.data.HEADER_DESKTOP)(scope)),angular.element(".mobile-cabinet-cart").append($compile(e.data.HEADER_MOBILE)(scope)),null!==e.data.FAV_IDS?favSrv.ids=e.data.FAV_IDS:favSrv.ids=[],window.is_authorized=!0,$(".opt-favorite").removeClass("active"),$timeout(function(){for(var e=0;e<favSrv.ids.length;e++)$('[data-ng-init="checkFav('+favSrv.ids[e]+')"]').addClass("active");$.magnificPopup.close()},200),$.magnificPopup.close()),e.data.HEADER_DESKTOP&&$(".cart-header").length&&window.location.reload(!0),e.data.REDIRECT_URL&&($("body").addClass("has-loader"),location.href=e.data.REDIRECT_URL)}var a;if(e.data.MESSAGE&&!e.data.POPUP?e.data.MESSAGE.TITLE&&e.data.MESSAGE.TEXT?$(".form-field__error-total",elm).html('<br><div class="form-field__error-title">'+e.data.MESSAGE.TITLE+'</div><p class="form-field__error-text">'+e.data.MESSAGE.TEXT+"</p>"):e.data.MESSAGE.TITLE?$(".form-field__error-total",elm).html('<div class="form-field__error-title">'+e.data.MESSAGE.TITLE+"</div>"):e.data.MESSAGE.TEXT&&$(".form-field__error-total",elm).html('<p class="form-field__error-text">'+e.data.MESSAGE.TEXT+"</p>"):e.data.MESSAGE&&e.data.POPUP?$.magnificPopup.instance.isOpen?($timeout(function(){$.magnificPopup.close()},100),$timeout(function(){generatePopup(e.data.MESSAGE)},1e3)):generatePopup(e.data.MESSAGE):$(".form-field__error-total",elm).html(""),$(elm).removeClass("has-loader"),btnStateDisabled(!1),popStateLoader(!1),document.querySelector('[name="sessid"]')&&$http({method:"POST",url:"/ajax/get_sessid.php"}).then(function(e){$('[name="sessid"]').val(e.data)}),e.data.CALLBACK)return new Function(e.data.CALLBACK)();"true"==attrs.clearAfterSubmit&&$timeout(function(){elm[0].reset(),a=elm.parent().prop("id"),$('[data-ajax-append-id="'+a+'"]').trigger("click")},200)}},popupConfig={removalDelay:200,key:"pAnswer",items:{},type:"inline",closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',closeOnBgClick:!1,callbacks:{beforeOpen:function(){$("body").addClass("no-scroll")},open:function(){var e=this;window.backendGetForm=!1,$timeout(function(){e.contentContainer[0].className+=" popupIn"},200)},beforeClose:function(){this.contentContainer[0].className+=" popupOut",$("body").removeClass("no-scroll"),elm.removeClass("has-loader"),btnStateDisabled(!1),popStateLoader(!1),$(this.contentContainer[0]).find("[data-close-callback]")&&$(this.contentContainer[0]).find("[data-close-callback]").each(function(){try{eval($(this).data("close-callback"))}catch(e){e instanceof SyntaxError&&console.error(e.message)}})},afterClose:function(){delete $.magnificPopup.instance.popupsCache.pAnswer}},inline:{markup:""}};$.validator.messages.required="Поле обязательно для заполнения",$.validator.messages.email="Адрес e-mail заполнен не верно",$.validator.messages.equalTo="Пароли не совпадают",$.validator.messages.minlength="Не менее 6 символов",$.validator.addMethod("checkEmail",function(e,t){return null===t.getAttribute("required")||($.ajax({url:"/ajax/email_valid.php",method:"POST",success:function(e){i=JSON.parse(e).RESULT},async:!1,data:{email:e}}),i);var i},"Адрес e-mail заполнен не верно"),elm.validate({ignore:".ignore",errorElement:"div",normalizer:function(e){return $.trim(e)},rules:{PASSWORD:{minlength:6},CONFIRM_PASSWORD:{equalTo:"#password"}},submitHandler:function(e){if($(elm).addClass("has-loader"),btnStateDisabled(!0),popStateLoader(!0),$("input",elm).each(function(){$(this).val($.trim($(this).val()))}),0<$("input[data-mask-input='+7 (999) 999-99-99']:required",elm).length||0<$("input[data-mask-input='+7 (999) 999-99-99']",elm).length&&""!=$("input[data-mask-input='+7 (999) 999-99-99']").val()){if(0<$("input[data-mask-input='+7 (999) 999-99-99']:required",elm).length)var t=$("input[data-mask-input='+7 (999) 999-99-99']:required",elm);else t=$("input[data-mask-input='+7 (999) 999-99-99']",elm);for(var i=t.val(),n=!1,a=0;a<i.length;a++)if("_"==i[a]){n=!0;break}if(n){if($(elm).removeClass("has-loader"),btnStateDisabled(!1),popStateLoader(!1),t.parent().addClass("has-error"),t.focus(),!0!==t.data("modal")&&$("html, body").animate({scrollTop:t.offset().top-100},200),attrs.statUrl){var o={};o.form=e.getAttribute("name"),o.fields=[],o.fields.push(t[0].getAttribute("name")),$http({method:"POST",url:attrs.statUrl,data:o})}return!1}}return angular.isDefined(scope.innModel)&&"card"!==scope.onlineshop?is_valid_inn(scope.innModel)?attrs.recaptchaElem&&""!=window.captchaKey&&isExecuteFunctionAvailable()?(recaptcha.reset(captchaObject),recaptcha.execute(captchaObject).then(function(){listenRecaptchaClose(elm)})):$http({method:attrs.method,url:attrs.action,data:elm.serialize()}).then(options.success):(generatePopup({TITLE:"Ошибка!",TEXT:"Не совпадает контрольная сумма ИНН."}),$(elm).removeClass("has-loader"),btnStateDisabled(!1),popStateLoader(!1)):attrs.recaptchaElem&&""!=window.captchaKey&&isExecuteFunctionAvailable()&&!0===captchaCreated?(recaptcha.reset(captchaObject),recaptcha.execute(captchaObject).then(function(){listenRecaptchaClose(elm);var e=!1,t=0,i=setInterval(function(){if($('iframe[title*="recaptcha"]').each(function(t,i){"visible"===$(i).parent().parent().css("visibility")&&(e=!0)}),e){elm.removeClass("has-loader"),elm.find(".disabled").removeClass("disabled");var n=$(document).find('iframe[title*="recaptcha"]');n.css({top:0}),$(window).width()<769?n.parent().css({position:"fixed","-webkit-overflow-scrolling":"touch","max-height":"100vh",overflow:"auto"}):(n.parent().css({position:"fixed","-webkit-overflow-scrolling":"touch","max-height":"100vh"}),n.css({width:"100%",height:"100%"})),clearTimeout(i)}else t++;50<t&&clearTimeout(i)},100)})):$http({method:attrs.method,url:attrs.action,data:elm.serialize()}).then(options.success),!1},invalidHandler:function(e,t){if(elm.find("input[required]").each(function(e,t){""===$(t).val()&&$(t).parent(".form-field")&&$(t).parent(".form-field").addClass("has-error")}),elm.find(".elem-dropzone[required]").length&&elm.find(".elem-dropzone[required]").each(function(){if(![].slice.call(this.querySelectorAll("input[type='hidden']")).some(function(e){return e.value}))return $(this).addClass("has-error"),window.scrollTo(0,$(this).offset().top-100),!1}),attrs.statUrl){var i={};for(var n in i.form=t.currentForm.name,i.fields=[],t.invalid)t.invalid.hasOwnProperty(n)&&i.fields.push(n);$http({method:"POST",url:attrs.statUrl,data:i})}},errorPlacement:function(e,t){$(t).closest(".form-field").addClass("has-error"),"Не менее 6 символов"==e[0].innerText&&$(t).closest(".form-field").children(".form-field__error-msg").text(e[0].innerText),"Пароли не совпадают"==e[0].innerText&&$(t).closest(".form-field").children(".form-field__error-msg").text(e[0].innerText)},highlight:function(e,t){$(e).closest(".form-field").removeClass("has-error")},unhighlight:function(e,t,i){if($(e).closest(".form-field").removeClass("has-error"),0<$("input[data-mask-input='+7 (999) 999-99-99']:required",elm).length||0<$("input[data-mask-input='+7 (999) 999-99-99']",elm).length&&""!=$("input[data-mask-input='+7 (999) 999-99-99']").val()){if(0<$("input[data-mask-input='+7 (999) 999-99-99']:required",elm).length)var n=$("input[data-mask-input='+7 (999) 999-99-99']:required",elm);else n=$("input[data-mask-input='+7 (999) 999-99-99']",elm);for(var a=n.val(),o=!1,r=0;r<a.length;r++)if("_"==a[r]){o=!0;break}o&&n.parent().addClass("has-error")}}}),$('input[type="email"]',elm).each(function(){$(this).rules("add",{checkEmail:!0})})}}}]),angular.module("dir.maskInput",[]).directive("maskInput",[function(){return{restrict:"A",scope:{maskInput:"@maskInput",placeholder:"@placeholder",notZero:"@",noStartZero:"@"},link:function(e,t,i){angular.isDefined(e.placeholder)&&0!=e.placeholder.length&&t.closest(".form-field").find(".form-field__label").addClass("active"),angular.isUndefined(e.placeholder)&&(t.closest(".form-field").find(".form-field__label").addClass("active"),e.placeholder=""),"+7 (999) 999-99-99"===e.maskInput?(t.inputmask({mask:e.maskInput,placeholder:e.placeholder,clearIncomplete:!1}),t.on("keyup keypress",function(e){if(46===(e.keyCode||e.which))return e.preventDefault(),!1})):"9{1,6}[.,]([0|9]){2}"===e.maskInput?t.inputmask({regex:"^[0-9]{1,6}([.,][0-9]{2})?$",placeholder:e.placeholder,radixPoint:".",clearIncomplete:!1,clearMaskOnLostFocus:!1,positionCaretOnClick:"none",noValuePatching:!0}):t.inputmask({mask:e.maskInput,placeholder:e.placeholder,clearIncomplete:!1}),t.attr("placeholder",e.placeholder),"9{1,6}[.,]([0|9]){2}"===e.maskInput&&(setTimeout(function(){isInt(parseFloat(t.val()))&&t.val(parseFloat(t.val()).toFixed(2))},1),t.bind("blur",function(){if(t.val().toString().includes(",")){var e=t.val().toString().replace(",",".");t.val(e)}isInt(parseFloat(t.val()))&&t.val(parseFloat(t.val()).toFixed(2)),t.val().toString().includes(".")&&1===t.val().toString().split(".").pop().length&&t.val(parseFloat(t.val()).toFixed(2))})),angular.isDefined(e.notZero)&&t.bind("keyup",function(){0==parseInt(t.val())&&t.val("")}),angular.isDefined(e.noStartZero)&&t.bind("blur",function(){var e;e=t.val(),Number(e)===e&&e%1!=0||t.val(+t.val())}),"int"in i&&t.on("input",function(e){var t=e.target.selectionStart-1;!1===/^\d*$/.test(e.target.value[t])&&$(e.target).val(e.target.value.slice(0,t)+e.target.value.slice(1+t))})}}}]),angular.module("dir.patternInput",[]).directive("patternInput",function(e){return{restrict:"A",replace:!1,terminal:!0,priority:1e3,link:function(t,i,n){function a(){setTimeout(function(){i.parents(".form-field").find(".form-field__error-msg").text(n.patternError),i.parents(".form-field").addClass("pattern-error")},100),setTimeout(function(){i.parents(".form-field").removeClass("pattern-error"),i.parents(".form-field").find(".form-field__error-msg").text(o)},1500)}var o=i.parents(".form-field").find(".form-field__error-msg").text();if(""!==i.attr("pattern-input")){var r=new RegExp(i.attr("pattern-input"));i.removeAttr("pattern-input"),i.on("keypress keyup",function(e){var t=String.fromCharCode(e.charCode);r.test(t)||(a(),e.preventDefault())}),i.on("paste",function(e){var t=(e.clipboardData||window.clipboardData||e.originalEvent.clipboardData).getData("Text");r.test(t)||(a(),e.preventDefault())}),i.on("drop",function(){return!1}),is_touch_device()&&i.on("input",function(e){var t=e.target.selectionStart-1,i=e.target.value[t];!1===r.test(i)&&($(e.target).val(e.target.value.slice(0,t)+e.target.value.slice(1+t)),a())}),e(i)(t)}}}}),angular.module("dir.formField",[]).directive("formField",["$timeout",function(e){return{restrict:"C",link:function(t,i,n){var a=i.find(".form-field__input"),o=a[0]&&a[0].placeholder.length,r=0,s=setInterval(function(){try{0<a.length&&0<a.val().length||o||a.is(":-webkit-autofill")?(i.addClass("filled"),clearTimeout(s)):r++,50<r&&clearTimeout(s)}catch(e){}},100);if(n.altLabel){var l=i.children(".form-field__label"),c=l.text();l.addClass("active"),a.focus(function(){l.text(n.altLabel)})}if("email"!=a.attr("type")&&a.on("keypress",function(e){i.removeClass("has-error")}),a.blur(function(){""!=$(this).val()||$(this).hasClass("ng-invalid-number")?i.addClass("filled"):i.removeClass("filled"),n.altLabel&&l.text(c),document.querySelector(".popup-adress")&&e(function(){$(window).resize(),$(window).scroll()},100)}),n.format){var d=i.children(".form-field__error-msg"),u=d.text(),p=a[0];p.addEventListener("change",function(t){e(function(){if(p.value.length<2)d.text(u);else{var e=p.value.split(/[^\d]+/);1==e.length&&8==e[0].length&&(e[1]=e[0].substring(2,4),e[2]=e[0].substring(4),e[0]=e[0].substring(0,2)),1==e.length&&6==e[0].length&&(e[1]=e[0].substring(2,4),e[2]=e[0].substring(4),e[0]=e[0].substring(0,2)),e=e.map(function(e,t,i){return t<2&&e.length<2?"0"+e:2==t&&2==e.length?"0"==e[0]?"20"+e:"19"+e:e}).join("."),p.value=e,3!=(e=p.value.split(/[^\d]+/)).length&&(i.addClass("has-error").addClass("wrong-format"),d.text("Неверный формат")),parseInt(e[0])<1||31<parseInt(e[0])?(i.addClass("has-error").addClass("wrong-format"),d.text("Неверный формат")):parseInt(e[1])<1||12<parseInt(e[1])?(i.addClass("has-error").addClass("wrong-format"),d.text("Неверный формат")):parseInt(e[2])<1e3||2018<parseInt(e[2])?(i.addClass("has-error").addClass("wrong-format"),d.text("Неверный формат")):(i.removeClass("has-error").removeClass("wrong-format"),d.text(u));var t=p.value.length;if(p.createTextRange){var n=p.createTextRange();n.move("character",t),n.select()}else p.setSelectionRange&&p.setSelectionRange(t,t)}},200)})}}}}]),angular.module("dir.popupInline",[]).directive("popupInline",["$timeout","$window","mapSrv",function(e,t,i){return{restrict:"A",link:function(n,a,o){var r,s={removalDelay:200,type:"inline",closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',key:"pGet",closeOnBgClick:!1,callbacks:{beforeClose:function(){$(".has-loader").removeClass("has-loader");for(var e=t.document.querySelectorAll('form[data-recaptcha-elem] button[type="submit"]'),n=0;e.length>n;n++)e[n].classList.remove("disabled");if("#privacy_notice"!==this.content.selector){if(this.contentContainer[0].className+=" popupOut",delete $.magnificPopup.instance.popupsCache.pGet,$("html").css({overflow:"scroll"}),$("body").hasClass("safari")||$("body").removeClass("no-scroll"),i.mapInPopup)for(n=0;n<i.mapObj.length;n++)i.mapObj[n].balloon.close()}else setTimeout(function(){$('[data-mfp-src="#popup_Resume"]').trigger("click")},500)},beforeOpen:function(){$("body").hasClass("safari")||$("body").addClass("no-scroll")},open:function(){$(".mfp-container").scrollTop(0);var t=this;e(function(){t.contentContainer[0].className+=" popupIn"},200),e(function(){if(i.mapInPopup)for(var e=0;e<i.mapObj.length;e++)i.mapObj[e].container.fitToViewport();for(e=0;e<i.mapObj.length;e++)i.mapObj[e]&&((r=i.mapObj[e].geoObjects.getBounds())[0][0]==r[1][0]&&r[0][1]==r[1][1]?i.mapObj[e].setZoom(13,{duration:0}):i.mapObj[e].setBounds(i.mapObj[e].geoObjects.getBounds()));$(".js-card-height").each(function(){var e=$(this).children().eq(0).find(".box-card-ico__title"),t=$(this).children().eq(1).find(".box-card-ico__title"),i=Math.max(e.height(),t.height());767<$(window).width()?(e.height(i),t.height(i)):(e.removeAttr("style"),t.removeAttr("style"))})},300)},close:function(){0===$(".box-popup:not(.mfp-hide)").length&&($("body").removeClass("no-scroll"),$("html").css({overflow:"scroll"}))},afterClose:function(){$("body").hasClass("safari")||$("body").removeClass("no-scroll")}}};a.magnificPopup(s),$("[data-mfp-src]").click(function(){$(".mfp-container").scrollTop(0)}),$(window).resize(function(){setTimeout(function(){$(".js-card-height").each(function(){var e=$(this).children().eq(0).find(".box-card-ico__title"),t=$(this).children().eq(1).find(".box-card-ico__title"),i=Math.max(e.height(),t.height());767<$(window).width()?(e.height(i),t.height(i)):(e.removeAttr("style"),t.removeAttr("style"))})},300)})}}}]),angular.module("dir.jsBannerInit",[]).directive("jsBannerInit",[function(){return{restrict:"C",link:function(e,t,i){t.append('<div class="btn-wrapper slider-prev"><div class="swiper-button-prev" /></div>'),t.append('<div class="btn-wrapper slider-next"><div class="swiper-button-next" /></div>'),t.append('<div class="swiper-pagination" />'),t.find(".swiper-slide").length<2&&(t.children(".btn-wrapper").css({opacity:"0","z-index":"-1"}),t.children(".swiper-pagination").css({opacity:"0","z-index":"-1"}));var n=!1,a=new Swiper(t,{spaceBetween:20,nextButton:t.children(".slider-next"),prevButton:t.children(".slider-prev"),pagination:t.children(".swiper-pagination"),paginationClickable:!0,loop:!0,loadPrevNext:!1,noSwiping:!1,noSwipingClass:"swiper-slide",autoplay:4e3,pauseOnHover:!0,breakpoints:{1024:{noSwiping:!1},820:{autoplay:4e3,pauseOnHover:!1,disableOnInteraction:!1}},onSlidePrevEnd:function(e){n||($(".slide-img-wrap",t).find("img").each(function(){$(this)[0].hasAttribute("bn-lazy-src")&&($(this)[0].src=$(this).attr("bn-lazy-src"),$(this).parent().addClass("children-loaded")),$(this)[0].hasAttribute("data-src")&&($(this)[0].src=$(this).attr("data-src"),$(this).parent().addClass("children-loaded"))}),n=!0)},onSlideNextEnd:function(e){n||($(".slide-img-wrap",t).find("img").each(function(){$(this)[0].hasAttribute("bn-lazy-src")&&($(this)[0].src=$(this).attr("bn-lazy-src"),$(this).parent().addClass("children-loaded")),$(this)[0].hasAttribute("data-src")&&($(this)[0].src=$(this).attr("data-src"),$(this).parent().addClass("children-loaded"))}),n=!0)}});t.on("mouseenter",function(){a.stopAutoplay()}).on("mouseleave",function(){a.startAutoplay()}).on("touchend",function(){a.startAutoplay()})}}}]),angular.module("dir.tooltip",[]).directive("tooltip",["$compile",function(e){return{restrict:"A",link:function(t,i,n){var a="bottom",o=0,r="tooltipster-hoff";"side"in n&&(a=n.side),"maxMediaSize"in n&&(o=parseInt(n.maxMediaSize)),"theme"in n&&(r="tooltipster-hoff "+n.theme),setTimeout(function(){i.tooltipster({theme:r,contentCloning:!0,contentAsHTML:!0,functionReady:function(n,a,r){if(window.innerWidth<=o)return $(a.tooltip).hide(),!1;e(a.tooltip)(t),i.toggleClass("opened"),$(document).on("click",".tooltipster-hoff__close",function(){$(a.origin).tooltipster("hide"),$("body").removeClass("no-scroll")}),$(document).on("click",".elem-card__fav--heart",function(){$(this).hasClass("active")&&$(a.tooltip).hide()}),$(window).width()<768&&setTimeout(function(){n.close()},5e3)},functionAfter:function(){i.toggleClass("opened")},functionPosition:function(e,t,i){},interactive:!0,debug:!1,trigger:"custom",triggerClose:{touchleave:!1,mouseleave:!0,tap:!0},triggerOpen:{touchstart:!1,mouseenter:!0,tap:!0},side:a})},100)}}}]),angular.module("dir.elemRangeSlider",[]).directive("elemRangeSlider",["$timeout",function(e){return{restrict:"C",link:function(e,t,i){var n=$(t).find("[data-slider]"),a=+n.data("start"),o=+n.data("end"),r=n.data("btn-trigger-only"),s=$(t).find(".range-field").children("input"),l=$(t).find(".range-field").first().children("input"),c=$(t).find(".range-field").last().children("input"),d=n.parent().find(".js-elem-btn"),u=n.find(".noUi-handle-lower");r||u.on("mouseup",function(){d.trigger("click")}),$(s,t).on("focus",function(){l.val(),c.val()}),$(s,t).on("blur",function(){t.parent().hasClass("elem-card__in")&&(+$(this).val()<a&&(e[$(this).data("ng-model")]=a),+$(this).val()>o&&(e[$(this).data("ng-model")]=o),e.$emit("updateTotal",e[$(this).data("ng-model")]))}),$(s,t).on("keyup",function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),$(this).blur())})}}}]),angular.module("dir.jsOffersInit",[]).directive("jsOffersInit",["$timeout",function(e){return{restrict:"C",link:function(t,i,n){var a=i.children(".swiper-container")[0];$(a).append('<div class="swiper-scrollbar"></div>'),i.prepend('<div class="box-offers__btns"><div class="swiper-button-prev"></div><div class="swiper-button-next"></div></div>');var o=i.find(".swiper-button-next"),r=i.find(".swiper-button-prev"),s=$(a).children(".swiper-scrollbar"),l=new Swiper(a,{nextButton:o,prevButton:r,scrollbar:s,spaceBetween:20,slidesPerView:5,scrollbarHide:!1,preloadImages:!0,breakpoints:{1600:{slidesPerView:4},1423:{slidesPerView:3},1280:{slidesPerView:"auto"},480:{slidesPerView:2,spaceBetween:10}},onInit:function(e){$(e.container[0]).addClass("begin-reached"),e.slides.length<=e.params.slidesPerView?i.addClass("no-arrows"):i.removeClass("no-arrows"),$(".box-offers__elem",i).children("img").each(function(){$(this)[0].src=$(this).attr("bn-lazy-src"),$(this).parent().addClass("children-loaded")})},onAfterResize:function(e){e.slides.length<=e.params.slidesPerView?i.addClass("no-arrows"):i.removeClass("no-arrows")},onReachEnd:function(e){$(e.container[0]).addClass("end-reached")},onSlidePrevEnd:function(e){e.isEnd||$(e.container[0]).removeClass("end-reached")},onReachBeginning:function(e){$(e.container[0]).addClass("begin-reached")},onSlideNextEnd:function(e){e.isBeginning||$(e.container[0]).removeClass("begin-reached")}});e(function(){l.update()},100),$(window).resize(function(){e(function(){l.update()},100)}),$(window).load(function(){$(window).resize()})}}}]),angular.module("dir.customScroll",[]).directive("customScroll",["$timeout",function(e){return{restrict:"A",scope:{axis:"@scrollAxis"},link:function(t,i,n){var a=!1;t.axis||(t.axis="y",a=!0);var o={axis:t.axis,scrollButtons:{enable:!0},advanced:{updateOnContentResize:!0},scrollInertia:0,snapAmount:15,mouseWheel:{enable:a},callbacks:{onInit:function(){$(this).addClass("begin-reached")},onScroll:function(){0!=this.mcs.top&&$(this).removeClass("begin-reached")},onTotalScroll:function(){$(this).addClass("end-reached")},onTotalScrollBack:function(){$(this).addClass("begin-reached"),$(this).removeClass("end-reached")}}};i.addClass("elem-custom-scroll"),480<viewportWidth?e(function(){i.mCustomScrollbar(o)},2):i.mCustomScrollbar("destroy"),$(window).on("load",function(){480<viewportWidth?i.mCustomScrollbar(o):i.mCustomScrollbar("destroy")})}}}]),angular.module("dir.bnLazySrc",[]).directive("bnLazySrc",function(e,t){return{restrict:"A",link:function(i,n,a){function o(e,t){var i=n[0].getBoundingClientRect();0<=i.top&&i.bottom<=e&&0<=i.left&&i.right<=t&&(n[0].src=a.bnLazySrc,n.parent().addClass("children-loaded"),r())}var r;r=t.bindListener(o),n.on("$destroy",function(){r()}),setTimeout(function(){o(e[0].documentElement.clientHeight,e[0].documentElement.clientWidth)},1)}}}),angular.module("dir.jsEllipsis",[]).directive("jsEllipsis",["$timeout",function(e){return{restrict:"C",scope:{cutHeight:"@cutHeight"},link:function(t,i,n){var a=$(window).width(),o=$(window).height();!isNaN(parseInt(i.css("min-height")))&&0<parseInt(i.css("min-height"))&&(t.cutHeight=parseInt(i.css("min-height"))+5);var r={height:parseInt(t.cutHeight),remove:[" ",",",";",".","!","?"],watch:"window"};e(function(){$(window).width()<=480?(r.height=1.2*parseInt(t.cutHeight),i.hasClass("elem-product__name")&&i.parent().hasClass("elem-product__name-mobile")&&(r.height=.65*parseInt(t.cutHeight)),i.hasClass("description")&&(r.height=.6*parseInt(t.cutHeight))):480<$(window).width()&&$(window).width()<1053?r.height=.75*parseInt(t.cutHeight):1920<$(window).width()?r.height=1.4*parseInt(t.cutHeight):r.height=parseInt(t.cutHeight),i.trigger("destroy.dot"),i.dotdotdot(r)},500),setTimeout(function(){s()},600);var s=debounce(function(){i.trigger("destroy.dot"),$(window).width()<=480?(r.height=1.2*parseInt(t.cutHeight),i.hasClass("elem-product__name")&&i.parent().hasClass("elem-product__name-mobile")&&(r.height=.65*parseInt(t.cutHeight)),i.hasClass("description")&&(r.height=.6*parseInt(t.cutHeight))):480<$(window).width()&&$(window).width()<1053?r.height=.75*parseInt(t.cutHeight):1920<$(window).width()?r.height=1.4*parseInt(t.cutHeight):r.height=parseInt(t.cutHeight),setTimeout(function(){i.dotdotdot(r)},200),a=$(window).width(),o=$(window).height()},200);angular.element(window).resize(function(){$(window).width()==a&&$(window).height()==o||s()}),$(".elem-view-type").click(function(){s()}),i.parents(".swiper-slide").click(function(){s()})
;var l=i.next(".expand-ellipsis");l.length&&$(l).on("click",function(e){e.preventDefault(),i.trigger("destroy.dot")})}}}]),angular.module("dir.headerScrollListener",[]).directive("headerScrollListener",["$window","$timeout",function(e,t){return{scope:!0,controller:["$scope","$element","$attrs",function(i,n,a){function o(){var i=e.scrollY,n=e.scrollY,a=null;"XS"!==l.current&&"SM"!==l.current||(e.addEventListener("scroll",function(){i=e.scrollY,t.cancel(a),a=t(r(0<n-i?"top":"bottom"),200),n=i}),s=!0)}function r(t){function i(){n.removeClass("box-header--fixed"),n.removeClass("box-header--showed"),n.removeClass("box-header--hidden")}if(70<e.scrollY){var a=!1;n.hasClass("box-header--fixed")||(n.addClass("box-header--fixed"),a=!0),t&&"top"===t?(n.addClass("box-header--showed"),n.removeClass("box-header--hidden")):a||(n.addClass("box-header--hidden"),n.removeClass("box-header--showed")),$(".nav-profile").removeClass("opened")}else i();$("html").hasClass("bx-no-touch")&&$("html").hasClass("bx-firefox")&&i()}e.viewportWidth;var s=!1,l={current:null,old:null,setType:function(e){var t={XS:479,SM:767,MD:1279,LG:1422,XLG:1600};for(var i in t){var n=t[i];if(parseInt(e)<=n){this.current=i;break}}}},c=null;e.onresize=function(){t.cancel(c),c=t(function(){l.setType(e.viewportWidth),l.old&&l.old===l.current||("XS"!=l.current&&"SM"!==l.current||s||o(e.viewportWidth),l.old=l.current)},200)},l.setType(e.viewportWidth),o(e.viewportWidth),r()}],link:[function(){}]}}]),angular.module("dir.accordionSections",[]).directive("accordionSections",["$timeout","$compile",function(e,t){return{restrict:"A",scope:{multi:"=multiexpand"},compile:function(t,i){return{post:function(e,t,i){t.hasClass("box-accordion__section")&&i.$attr.accordionSections&&($(t).removeAttr("data-accordion-sections"),$(function(){$().generateAccordionWrapper()}))},pre:function(t,i,n){e(function(){var e=i,t=e.find(".trigger");e.each(function(){$(this).hasClass("expanded")&&$(this).children(".subsection").stop().slideDown(200)}),t.off("click"),t.click(function(){$(this).parent(".section").hasClass("expanded")?($(this).parent(".section").removeClass("expanded"),$(this).parent(".section").children(".subsection").stop().slideUp(200)):($(this).parent(".section").addClass("expanded"),$(this).parent(".section").children(".subsection").stop().slideDown(200))})},0)}}}}}]),$(function(){$.fn.reverse=[].reverse,$.fn.generateAccordionWrapper=function(){var e=":not(.box-accordion__section)",t='<div class="box-accordion" data-accordion-sections="">',i=$(".box-article > *"+e);i.each(function(){$(this).nextUntil(e).wrapAll(t)}),i.first().prevUntil(e).reverse().wrapAll(t),compileDom(".box-accordion")},$(".box-accordion")[0]||$().generateAccordionWrapper()}),angular.module("ctrl.suggestCtrl",[]).controller("suggestCtrl",["$element","$scope","$sce","$http","$attrs","$q","$timeout","$rootScope","$compile",function(e,t,i,n,a,o,r,s,l){function c(){var t={};void 0!==e.find(".ac-state-focus").attr("id")?t.id=e.find(".ac-state-focus").attr("id"):t.id=e.find(".ac-menu-item").first().attr("id"),d(t)}function d(i){""!==e.find(".elem-suggest__input").val()&&(e.find(".elem-suggest__input").val(""),$(".box-citylist__list .elem-radio-city input").attr("checked",!1),t.cityID=i.id,!g||v||b||n.post(g,{location_id:i.id}).then(function(e){if(e.data.LOCATION_ID&&(location.href=location.pathname+location.search),e.data.CALLBACK){if("/basket/"===window.location.pathname||"/basket/order/"===window.location.pathname)return;return new Function(e.data.CALLBACK)()}},function(){}),g&&v&&n.post(g,{location_id:i.id}).then(function(e){if(t.$emit("callMakePost",{LOCATION_NAME:e.data.LOCATION_NAME}),e.data.CALLBACK){if("/basket/"===window.location.pathname||"/basket/order/"===window.location.pathname)return;return new Function(e.data.CALLBACK)()}},function(){}),g&&b&&n.post(g,{location_id:i.id}).then(function(e){if(s.$broadcast("orderMakePost",{LOCATION_NAME:e.data.LOCATION_NAME}),e.data.CALLBACK){if("/basket/"===window.location.pathname||"/basket/order/"===window.location.pathname)return;return new Function(e.data.CALLBACK)()}},function(){}))}function u(e,t){t=h(t);var i=new RegExp("("+t+")","gi");return e.replace(i,'<span class="highlight">$1</span>')}function p(){e.find(".elem-suggest__scroll").addClass("elem-custom-scroll"),e.find(".elem-custom-scroll").mCustomScrollbar({axis:"y",scrollButtons:{enable:!0},advanced:{updateOnContentResize:!0},scrollInertia:0,snapAmount:15,mouseWheel:{enable:!0}})}function h(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/q/g,"й")).replace(/w/g,"ц")).replace(/e/g,"у")).replace(/r/g,"к")).replace(/t/g,"е")).replace(/y/g,"н")).replace(/u/g,"г")).replace(/i/g,"ш")).replace(/o/g,"щ")).replace(/з/g,"з")).replace(/\[/g,"х")).replace(/\]/g,"ъ")).replace(/a/g,"ф")).replace(/s/g,"ы")).replace(/d/g,"в")).replace(/f/g,"а")).replace(/g/g,"п")).replace(/h/g,"р")).replace(/j/g,"о")).replace(/k/g,"л")).replace(/l/g,"д")).replace(/\;/g,"ж")).replace(/\'/g,"э")).replace(/z/g,"я")).replace(/x/g,"ч")).replace(/c/g,"с")).replace(/v/g,"м")).replace(/b/g,"и")).replace(/n/g,"т")).replace(/m/g,"ь")).replace(/\./g,"ю")}var m,f=a.suggestUrl,g=a.sendUrl,v=a.incart,b=a.inorder,w=[],y=!1;t.cityID=0,t.loading=!1,$(document).on("mouseenter",".elem-product__cart",function(){y=!0}),$(document).on("mouseleave",".elem-product__cart",function(e){$(e.relatedTarget).parents("#basket").length||(y=!1)}),document.addEventListener("keydown",function(t){r(function(){var i=document.querySelector(".ac-state-focus"),n=document.querySelector(".ac-container"),a=document.querySelector(".ac-menu-item");if(("38"==t.keyCode||"40"==t.keyCode)&&i){e.find(".elem-suggest__input").get()[0].selectionEnd=0;var o=n.clientHeight,r=a.clientHeight*($(i).index()+1),s=e.find(".mCSB_draggerContainer"),l=e.find(".mCSB_dragger"),c=document.querySelector(".ac-menu").parentElement;c.style.top=0<o-r?0:o-r+"px";var d=Math.abs(parseInt(c.style.top))/c.clientHeight;l.css({top:s.height()*d+"px"})}},100)}),r(function(){e.find(".form-search__text").on("input",function(){$(this).val().length?e.find(".elem-suggest__clear").show():e.find(".elem-suggest__clear").hide()}),e.find(".elem-suggest__clear").on("click",function(){e.find(".form-search__text").val(""),e.find(".elem-suggest__clear").hide()})},1),t.autocomplete_options={suggest:function(e){if(!(e.length<3)){t.loading=!0;var a=o.defer();return n.post(f,"?q="+e).then(function(n){w=n.data,(m=function(e){var t=e.toLowerCase().trim(),i=[];t=h(t);for(var n=0;n<w.length&&i.length<10;n++){var a=w[n],o=a.name?a.name:a.NAME,r=a.id?a.id:a.ID;i.push({label:o,value:o,id:r})}return i}(e)).forEach(function(t){t.label=i.trustAsHtml(u(t.label,e))}),a.resolve(n),t.loading=!1},function(e){a.reject(e),t.loading=!1}),o.when(a.promise).then(function(){return m},function(e){return e})}},on_attach:function(){e.find(".ac-container").hasClass("elem-suggest__scroll")||(e.find(".ac-container").addClass("elem-suggest__scroll"),p())},on_select:function(e){null!==localStorage.getItem("basket_order_location")&&localStorage.removeItem("basket_order_location"),d(e)}},$(document).on("click",".elem-suggest__submit",function(){$(".ac-container").hasClass("ng-hide")||c()}),$(document).on("keyup",".elem-suggest__input",function(e){"Enter"===e.key&&c()});var _={};t.autocomplete_search={suggest:function(e){if(!(e.length<3)){t.loading=!0,f=x(e)?"/ajax/search_titles_articul.php?articul="+("#"===e[0]?e.slice(1):e):a.suggestUrl;var r=o.defer();return n.post(f,"term="+e).then(function(n){w=n.data,(m=function(e){e.toLowerCase().trim();for(var t=[],i=0;i<w.length;i++){var n,a=w[i];if(a.prices){if("category"!==a.type&&x(e)){var o=a.prices.old?'<div class="price-old"><span class="line-through">'+a.prices.old+'<span class="rub">p</span></span></div>':"";n='<article class="suggestion c-box-product"><div class="c-box-product__image"><img src="'+a.image+'"></div><div class="c-box-product__info"><span class="name">'+a.label+'</span><div class="articul">'+a.articul+'</div><div class="total">'+a.status_text+'</div></div><div class="c-box-product__counter"><div class="price">'+o+'<div class="price-current"><span>'+a.prices.new+'<span class="rub">P</span></span></div></div></div><div class="c-box-product__cart"><div class="elem-product__cart"><svg aria-hidden="true" class="icon icon-basket"><use xlink:href="'+window.stp+'images/required/sprite.svg#basket"></use></svg></div></div></article>'}else n='<article class="suggestion c-box-product c-box-product--simple">'+a.label+"</article>";t.push({label:n,url:a.url,data:a,all:a.all_results,noMobile:a.disable_mobile})}}return t}(e)).forEach(function(t){t.label=i.trustAsHtml(u(t.label,e))}),r.resolve(n),t.loading=!1},function(e){r.reject(e),t.loading=!1}),o.when(r.promise).then(function(){return m},function(e){return e})}},on_attach:function(){e.find(".ac-container").hasClass("elem-suggest__scroll")||(e.find(".ac-container").addClass("elem-suggest__scroll"),p())},on_select:function(e){y?(_={id:e.data.id,xml_id:e.data.xml_id,getout:"basket"},t.addItem(_)):location.href=e.url}};var C,x=function(e){return("#"===e[0]?e.slice(1):e).split("").every(function(e){return"0123456789".includes(e)})};t.checkRequest=function(t){""==toJSON(e.serialize()).search&&t.preventDefault()},t.addItem=function(e){n.post("/ajax/basket/add_offer.php",e).then(function(e){var i;i=e.data,S.inline.markup=i,$.magnificPopup.open(S),r(function(){try{myLazyLoad.update()}catch(e){}},1),pagePreloader(t.loading=!1)},function(){pagePreloader(t.loading=!1)})};var k=0,S={removalDelay:200,key:"pCart",items:{},type:"inline",auto:!1,closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',closeOnBgClick:!1,callbacks:{beforeOpen:function(){function e(){$("html").css({overflow:"hidden"}),$("body").hasClass("safari")?(k=$(window).scrollTop(),$("body").css({position:"fixed",left:0,top:-1*k,bottom:0,right:0})):$("body").addClass("no-scroll")}C=document.getElementsByClassName("mfp-close")[0],C?(C.click(),r(function(){e()},200)):e()},open:function(){var e=this;l(this.content)(t),$(this.contentContainer).children(".box-popup").append('<button title="Закрыть (Esc)" type="button" class="mfp-close"></button>'),r(function(){e.contentContainer[0].className+=" popupIn"},200)},beforeClose:function(){this.contentContainer[0].className+=" popupOut",$("html")[0].removeAttribute("style"),$("body").hasClass("safari")?($("body").css({position:"",left:"",top:"",bottom:"",right:""}),$(window).scrollTop(k)):$("body").removeClass("no-scroll")},afterClose:function(){delete $.magnificPopup.instance.popupsCache.pCart}},inline:{markup:""}}}]),angular.module("ctrl.autoCompleteCtrl",[]).controller("autoCompleteCtrl",["$element","$scope","$sce","$http","$attrs","$q","$timeout","$rootScope","$compile",function(e,t,i,n,a,o,r,s,l){function c(e){return("#"===e[0]?e.slice(1):e).split("").every(function(e){return"0123456789".includes(e)})}function d(e){e.preventDefault()}var u=a.suggestUrl,p={},h=!1;t.loading=!1,$(document).on("mouseenter",".elem-product__cart",function(){h=!0}),$(document).on("mouseleave",".elem-product__cart",function(e){$(e.relatedTarget).parents("#basket").length||(h=!1)});var m,f=e.children("#autocomplete")[0],g=null;new Autocomplete(f,{search:function(e){return new Promise(function(t,i){g&&clearTimeout(g),g=setTimeout(function(){if(e.length<1)return[];u=c(e)?"/ajax/search_titles_articul.php?articul="+("#"===e[0]?e.slice(1):e):a.suggestUrl+"?term="+encodeURI(e),t(n.post(u).then(function(e){return Array.isArray(e.data)?e.data:[e.data]}))},600)}).then(function(e){return e})},renderResult:function(e,t){e=e||[];var i,n=$(".autocomplete-input").val(),a=function(e,t){t=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/q/g,"й")).replace(/w/g,"ц")).replace(/e/g,"у")).replace(/r/g,"к")).replace(/t/g,"е")).replace(/y/g,"н")).replace(/u/g,"г")).replace(/i/g,"ш")).replace(/o/g,"щ")).replace(/з/g,"з")).replace(/\[/g,"х")).replace(/\]/g,"ъ")).replace(/a/g,"ф")).replace(/s/g,"ы")).replace(/d/g,"в")).replace(/f/g,"а")).replace(/g/g,"п")).replace(/h/g,"р")).replace(/j/g,"о")).replace(/k/g,"л")).replace(/l/g,"д")).replace(/\;/g,"ж")).replace(/\'/g,"э")).replace(/z/g,"я")).replace(/x/g,"ч")).replace(/c/g,"с")).replace(/v/g,"м")).replace(/b/g,"и")).replace(/n/g,"т")).replace(/m/g,"ь")).replace(/\./g,"ю")}(t);var i=new RegExp("("+t+")","gi");return e.replace(i,'<span class="highlight">$1</span>')}(e.label,n);if(e.prices){if("category"!==e.type&&c(n)){var o=e.prices.old?'<div class="price-old"><span class="line-through">'+e.prices.old+'<span class="rub">p</span></span></div>':"",r="N"!==e.can_buy&&0!==Number(e.prices.new)?'<div class="c-box-product__counter"><div class="price">'+o+'<div class="price-current"><span>'+e.prices.new+'<span class="rub">P</span></span></div></div></div><div class="c-box-product__cart"><div class="elem-product__cart"><svg aria-hidden="true" class="icon icon-basket"><use xlink:href="'+window.stp+'images/required/sprite.svg#basket"></use></svg></div></div>':"";i="<li"+t+'><a><article class="suggestion c-box-product"><div class="c-box-product__image"><img src="'+e.image+'"></div><div class="c-box-product__info"><span class="name">'+e.label+'</span><div class="articul">'+e.articul+'</div><div class="total">'+e.status_text+"</div></div>"+r+"</article></a></li>"}else i="<li"+t+"><a><article class='suggestion c-box-product c-box-product--simple'>"+a+"</article></a></li>";return i}},getResultValue:function(e){return c($(".autocomplete-input").val())?e.articul:e.label},onSubmit:function(e){h?(p={id:e.id,xml_id:e.xml_id,getout:"basket"},t.addItem(p),h=!1):e&&window.open(encodeURI(e.url),"_self")}}),t.checkRequest=function(t){var i=toJSON(e.serialize()),n=$(".autocomplete-input").val();"#"===n[0]&&$(".autocomplete-input").val(n.slice(1)),""==i.search&&t.preventDefault()};var v={removalDelay:200,key:"pCart",items:{},type:"inline",auto:!(t.addItem=function(e){n.post("/ajax/basket/add_offer.php",e).then(function(e){var i;i=e.data,v.inline.markup=i,$.magnificPopup.open(v),r(function(){try{myLazyLoad.update()}catch(e){}},1),pagePreloader(t.loading=!1)},function(){pagePreloader(t.loading=!1)})}),closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',closeOnBgClick:!1,callbacks:{beforeOpen:function(){function e(){$("html").css({overflow:"hidden"}),$("body").hasClass("safari")?document.body.addEventListener("touchmove",d,{passive:!1}):$("body").addClass("no-scroll")}m=document.getElementsByClassName("mfp-close")[0],m?(m.click(),r(function(){e()},200)):e()},open:function(){var e=this;l(this.content)(t),$(this.contentContainer).children(".box-popup").append('<button title="Закрыть (Esc)" type="button" class="mfp-close"></button>'),r(function(){e.contentContainer[0].className+=" popupIn"},200)},beforeClose:function(){this.contentContainer[0].className+=" popupOut",$("html")[0].removeAttribute("style"),$("body").hasClass("safari")?document.body.removeEventListener("touchmove",d,{passive:!1}):$("body").removeClass("no-scroll")},afterClose:function(){delete $.magnificPopup.instance.popupsCache.pCart}},inline:{markup:""}}}]),angular.module("ctrl.changeCity",[]).controller("changeCity",["$element","$scope","$http","$attrs","$rootScope","mapSrv",function(e,t,i,n,a,o){var r=e.data("send-url"),s=n.inorder;t.setCity=function(e){var t=e.currentTarget;$(t).parent().addClass("has-spinner"),$(".elem-radio-city input[type='radio']").prop("disabled",!0);var n={};n[$(t).attr("name")]=$(t).val(),r&&!s&&i.post(r,n).then(function(e){if(e.data.LOCATION_ID&&setTimeout(function(){location.href=location.pathname+location.search},1e3),e.data.CALLBACK){if("/basket/"===window.location.pathname||"/basket/order/"===window.location.pathname)return;return new Function(e.data.CALLBACK)()}},function(){$(t).parent().removeClass("has-spinner"),$(".elem-radio-city input[type='radio']").prop("disabled",!1)}),r&&s&&(o.pointChecked&&(o.pointID=null,o.pointInfo="",o.pointChecked=!1),i.post(r,n).then(function(e){if($(t).parent().removeClass("has-spinner"),$(".elem-radio-city input[type='radio']").prop("disabled",!1),a.$broadcast("orderMakePost",{LOCATION_NAME:e.data.LOCATION_NAME}),e.data.CALLBACK){if("/basket/"===window.location.pathname||"/basket/order/"===window.location.pathname)return;return new Function(e.data.CALLBACK)()}},function(){$(t).parent().removeClass("has-spinner"),$(".elem-radio-city input[type='radio']").prop("disabled",!1)}))}}]),angular.module("ctrl.favCtrl",[]).controller("favCtrl",["$rootScope","$scope","$http","$timeout","$element","$compile","favSrv","$location",function(e,t,i,n,a,o,r,s){if(t.favModel=r,$("#deleted").length){var l=$("#deleted").data("deleted");window.inFavorite.ids=window.inFavorite.ids.filter(function(e){return!l.includes(e)})}var c={};t.initFav=function(e){0==window.is_authorized?(null===localStorage.getItem("favObj")||0==JSON.parse(localStorage.getItem("favObj")).length?localStorage.setItem("favObj",JSON.stringify(r.ids)):r.ids=JSON.parse(localStorage.getItem("favObj")),r._AJAX="Y","/favorites/"===location.pathname&&i.post(e,r).then(function(e){e.data.products&&($(".box-snippets").empty(),$(".box-snippets").append(o(e.data.products)(t))),e.data.pager&&$(".box-snippets").parent().append(o(e.data.pager)(t))},function(){})):r.ids=window.inFavorite.ids},t.goToFav=function(e,t){0<$("#My_favorites").length&&"/personal/#My_favorites"===t&&!$("#My_favorites").hasClass("active")&&(e.preventDefault(),e.stopPropagation(),$("#My_favorites").click())},t.checkFav=function(e){contains.call(t.favModel.ids,e)?(t.added=!0,a.addClass("active")):(t.added=!1,a.removeClass("active"))},t.toggleFav=function(e,n,o,s){if(o)var l=angular.element(o.currentTarget);c.id=n,contains.call(t.favModel.ids,n)?c.action="remove":c.action="add",t.loading=!0,0==window.is_authorized&&(null===localStorage.getItem("favObj")||0==JSON.parse(localStorage.getItem("favObj")).length?localStorage.setItem("favObj",JSON.stringify(r.ids)):r.ids=JSON.parse(localStorage.getItem("favObj")),c.favorites=r.ids),i.post(e,c).then(function(e){if("double"!==e.data.ERROR){if(r.auth=e.data.auth,0==window.is_authorized?("add"==c.action?r.ids.push(n):"remove"==c.action&&(r.ids=removeFromArray(r.ids,n)),localStorage.setItem("favObj",JSON.stringify(r.ids))):r.ids=e.data.ids,t.checkFav(n),null!=l&&("remove"===c.action?l.closest(".elem-product").addClass("has-null"):"add"===c.action&&l.closest(".elem-product").removeClass("has-null")),t.loading=!1,e.data.CALLBACK)return new Function(e.data.CALLBACK)()}else t.loading=!1,$(".fav-tooltip").length||a.append("<span class='fav-tooltip'>Артикул уже добавлен в избранное</span>"),$(".fav-tooltip").stop(!0).fadeIn(0).delay(3e3).fadeOut(500)},function(){t.loading=!1})},t.$on("favoriteBroadcast:root",function(e,i){t.checkFav(i)})}]),angular.module("ctrl.cartCtrl",[]).controller("cartCtrl",["$scope","$http","$element","$timeout","$compile","cartSrv",function(e,t,i,n,a,o){function r(){e.scrollDistance=$(window).scrollTop(),$("body").css({position:"fixed",left:0,top:-1*e.scrollDistance,bottom:0,right:0})}function s(){$("body").css({position:"",left:"",top:"",bottom:"",right:""}),$(window).scrollTop(e.scrollDistance)}function l(e){p.inline.markup=e,$.magnificPopup.open(p),n(function(){try{myLazyLoad.update()}catch(e){}},1)}e.cartData=o;var c=12;e.scrollDistance=0,window.creditMonth&&0<parseInt(window.creditMonth)&&(c=parseInt(window.creditMonth));var d,u=void 0!==c?c:10;e.hide=!0,e.initCart=function(){e.cartData.model.totalBasketQuantity=e.totalBasketQuantity,e.cartData.model.totalBasketPrice=e.totalBasketPrice},e.initItem=function(){void 0===$.stepper?n(function(){e.initItem()},500):n(function(){e.hide=!1},1)},e.addItem=function(a,o,r){void 0===$.stepper||$(i).hasClass("clicked")||(e.loading=!0,void 0!==pagePreloader&&pagePreloader(!0),$(i).toggleClass("clicked"),t.post(a,o).then(function(t){$(i).toggleClass("clicked"),$.magnificPopup.instance.isOpen?($.magnificPopup.close(),n(function(){l(t.data)},200)):l(t.data),pagePreloader(e.loading=!1)},function(){$(i).toggleClass("clicked"),pagePreloader(e.loading=!1),$("body").hasClass("safari")?s():$("body").removeClass("no-scroll")}))},e.changeByBlur=function(e,t){},e.amountChange=function(i,n){e.loading=!0;var a=n.id+"";+n.quantity>+n.max?n.quantity=+n.max:+n.quantity<1&&(n.quantity=1),t.post(i,n).then(function(t){e.cartData.model.totalBasketPrice=t.data.totalBasketPrice,e.totalPrice[a]=t.data.totalPrice,e.perMonth(t.data.totalBasketPrice),e.freeDelivery(),e.loading=!1},function(){e.loading=!1})},e.removeItem=function(i,n,a){e.loading=!0;var o=angular.element(a.currentTarget).closest("tr"),r=$(o).closest("tbody");t.post(i,n).then(function(t){e.cartData.model.totalBasketPrice=t.data.totalBasketPrice,e.cartData.model.totalBasketQuantity=t.data.totalBasketQuantity,e.perMonth(e.cartData.model.totalBasketPrice),o.remove(),0!==r.children("tr").length?e.freeDelivery():e.closeModal(),e.loading=!1},function(){e.loading=!1})},e.closeModal=function(){$.magnificPopup.close()},e.perMonth=function(t){e.monthPay=Math.ceil(t/u)};var p={removalDelay:200,key:"pCart",items:{},type:"inline",auto:!(e.freeDelivery=function(){t.get("/ajax/get_delivery_price.php?TYPE=BASKET&FREE=1").then(function(t){t.data.freeDeliveryMinPrice?e.cartData.model.freeDeliveryMinPrice=t.data.freeDeliveryMinPrice:window.freeDeliveryMinPrice&&(e.cartData.model.freeDeliveryMinPrice=window.freeDeliveryMinPrice),t.data.arSpecial&&"Y"==t.data.arSpecial.FREE_DELIVERY_COLLECT?e.cartData.model.showFreeDelivery=!0:e.cartData.model.showFreeDelivery=!1})}),closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',closeOnBgClick:!1,callbacks:{beforeOpen:function(){(d=document.getElementsByClassName("mfp-close")[0])?(d.click(),n(function(){$("body").hasClass("safari")?r():$("body").addClass("no-scroll")},200)):$("body").hasClass("safari")?r():$("body").addClass("no-scroll")},open:function(){var t=this;a(this.content)(e),$(this.contentContainer).children(".box-popup").append('<button title="Закрыть (Esc)" type="button" class="mfp-close"></button>'),e.freeDelivery(),n(function(){t.contentContainer[0].className+=" popupIn"},200)},beforeClose:function(){this.contentContainer[0].className+=" popupOut",$("html")[0].removeAttribute("style"),$("body").hasClass("safari")?s():$("body").removeClass("no-scroll")},afterClose:function(){delete $.magnificPopup.instance.popupsCache.pCart}},inline:{markup:""}};e.oneClickElement=function(t){e.cartData.oneClickElement=t},$("#buyOneClick_success .elem-btn").click(function(e){e.preventDefault(),document.getElementsByClassName("mfp-close")[0].click()})}]),angular.module("ctrl.smsCtrl",[]).controller("smsCtrl",["$element","$scope","$http","$attrs","$timeout","$compile","formSrv","favSrv",function(e,t,i,n,a,o,r,s){function l(e){for(var t=document.querySelectorAll('form[data-recaptcha-elem] button[type="submit"]'),i=0;t.length>i;i++)e?t[i].classList.add("disabled"):t[i].classList.remove("disabled")}function c(){var t=!1,i=0,n=setInterval(function(){$('iframe[title*="recaptcha"]').each(function(e,i){"visible"===$(i).parent().parent().css("visibility")&&(t=!0)}),t?(e.removeClass("has-loader"),$(document).on("click",function(e){$(e.target).next().children('iframe[title*="recaptcha"]')&&($(".box-popup *").css("pointer-events","").prop("readonly",!1),$(".box-popup input").prop("disabled",""),l(!1),$('iframe[title*="recaptcha"]').each(function(e,t){$(t).parent().parent().css("visibility","hidden")}))}),clearTimeout(n),function(){var t=setInterval(function(){var i=!1;$('iframe[title*="recaptcha"]').each(function(e,t){"visible"===$(t).parent().parent().css("visibility")&&(i=!0)}),i||(e.removeClass("has-loader"),$(".box-popup *").css("pointer-events","").prop("readonly",!1),$(".box-popup input").prop("disabled",""),l(!1),clearInterval(t))},200)}()):i++,50<i&&clearTimeout(n)},100)}function d(){$(".box-popup input").prop("disabled",""),$(".box-popup *").css("pointer-events","").prop("readonly",!1),a.cancel(v),i.post(h,e.serialize()).then(function(i){if("OK"!=i.data.STATUS&&"ALREADY_SENT"!=i.data.STATUS||(t.smsWaiting=!0,t.cardTrue=!0,t.cardFalse=!1),i.data.MESSAGE&&(t.infoText=i.data.MESSAGE,t.hasMessage=!0),"ERROR"==i.data.STATUS&&2!=i.data.ERROR_TYPE&&(t.cardTrue=!1,t.cardFalse=!0,t.smsWaiting=!1,t.timeElapsed=!1),"ERROR"==i.data.STATUS&&2==i.data.ERROR_TYPE&&(t.cardTrue=!1,t.cardFalse=!1,t.smsWaiting=!0,t.timeElapsed=!1),0<i.data.REMAIN_TIME&&(t.timeElapsed=!1,a(function(){startTimer(i.data.REMAIN_TIME,$(".mess-sms-timer")),u(i.data.REMAIN_TIME+2)},0)),i.data.REDIRECT_URL&&i.data.STATUS&&"AUTH_OK"==i.data.STATUS&&(location.href=i.data.REDIRECT_URL),e.removeClass("has-loader"),l(!1),"AUTH_OK"==i.data.STATUS&&($(".box-search").empty(),$(".mobile-cabinet-cart").empty(),angular.element(".box-search").append(o(i.data.HEADER_DESKTOP)(t)),angular.element(".mobile-cabinet-cart").append(o(i.data.HEADER_MOBILE)(t)),s.ids=i.data.FAV_IDS,window.is_authorized=!0,localStorage.removeItem("favObj"),$(".opt-favorite").removeClass("active"),a(function(){for(var e=0;e<s.ids.length;e++)$('[data-ng-init="checkFav('+s.ids[e]+')"]').addClass("active")},200),$.magnificPopup.close()),i.data.CALLBACK)return new Function(i.data.CALLBACK)()},function(){}),t.resend=!1}function u(e){v=a(function(){t.timeElapsed=!0,t.infoText="НЕ ПОЛУЧИЛИ КОД? НАЖМИТЕ ДЛЯ ПОВТОРНОЙ ОТПРАВКИ КОДА"},1e3*e)}function p(e){e.TITLE&&""!=e.TITLE?k.inline.markup='<div class="box-popup popup-password"><button title="Закрыть (Esc)" type="button" class="mfp-close"></button><div class="box-popup__name">'+e.TITLE+"</div><br><div>"+e.TEXT+"</div></div>":k.inline.markup='<div class="box-popup popup-password"><button title="Закрыть (Esc)" type="button" class="mfp-close"></button><div>'+e.TEXT+"</div></div>",$.magnificPopup.open(k)}var h=n.action;t.smsWaiting=!1,t.hasMessage=!1,t.cardTrue=!1,t.cardFalse=!1,t.timeElapsed=!1,t.resend=!1;var m;if(n.recaptchaElem&&""!=window.captchaKey){e.addClass("has-loader"),l(!0),e.append('<div id="'+n.recaptchaElem+'" />');var f=1;setTimeout(function t(){30!=f&&("object"==typeof grecaptcha&&"function"==typeof grecaptcha.render&&document.getElementById(n.recaptchaElem)?(m=grecaptcha.render(n.recaptchaElem,{sitekey:window.captchaKey,callback:b,size:"invisible"}),e.removeClass("has-loader"),$(".box-popup *").css("pointer-events","").prop("readonly",!1),$(".box-popup input").prop("disabled",""),l(!1),f=30):(f++,setTimeout(t,1e3)))},1e3),a(function(){var t=!1;$('iframe[title*="recaptcha"]').each(function(e,i){"visible"===$(i).parent().parent().css("visibility")&&(t=!0)}),t||(e.removeClass("has-loader"),$(".box-popup *").css("pointer-events","").prop("readonly",!1),$(".box-popup input").prop("disabled",""),l(!1))},3e4)}var g,v,b=function(){d()};a(function(){g=s.ids,t.fav_ids=g.join()},10),e.on("keypress",'.phone-confirm-input, input[name="code"]',function(e){13===(e.keyCode||e.which)&&$(this).parent().find(".elem-btn").click()}),e.on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1});var w,y,_;t.checkCard=function(i){i.preventDefault(),"_"!=(w=$(i.currentTarget).hasClass("elem-btn")?$('[name="CARD_NUMBER"]').val():$(i.currentTarget).val()).substr(w.length-1)&&w.length?($(i.currentTarget).closest(".elem-sms-auth").children(".form-field").removeClass("has-error"),t.resend=!0,e.addClass("has-loader"),a(function(){l(!0),$(".box-popup *").css("pointer-events","none").prop("readonly",!0),$(".box-popup input").prop("disabled","disabled")},200),a(function(){n.recaptchaElem&&""!=window.captchaKey&&"object"==typeof grecaptcha&&"function"==typeof grecaptcha.execute?(grecaptcha.reset(m),grecaptcha.execute(m).then(function(){listenRecaptchaClose(e),c()})):d()},0)):$(i.currentTarget).hasClass("elem-btn")&&$(i.currentTarget).closest(".elem-sms-auth").children(".form-field").addClass("has-error")},t.checkSms=function(t){(y=$(t.currentTarget).hasClass("elem-btn")?$('[name="SMS_CODE"]').val():$(t.currentTarget).val())&&"_"!=y.substr(y.length-1)&&y!=_&&(e.addClass("has-loader"),l(!0),$(".box-popup *").css("pointer-events","none").prop("readonly",!0),$(".box-popup input").prop("disabled","disabled"),n.recaptchaElem&&""!=window.captchaKey&&"object"==typeof grecaptcha&&"function"==typeof grecaptcha.execute?(grecaptcha.reset(m),grecaptcha.execute(m).then(function(){listenRecaptchaClose(e),c()})):d(),_=y)},t.sendAgain=function(e){$(e.currentTarget).hasClass("pseudolink")&&(t.resend=!0,a(function(){d()},0))},t.type={yes:!1,no:!1},t.isBind=function(i){e.addClass("has-loader"),l(!0),i?(t.type.yes=!0,t.type.no=!1):(t.type.yes=!1,t.type.no=!0),a(function(){n.recaptchaElem&&""!=window.captchaKey&&"object"==typeof grecaptcha&&"function"==typeof grecaptcha.execute?(grecaptcha.reset(m),grecaptcha.execute(m).then(function(){listenRecaptchaClose(e)})):d()},0)},r.phoneConfirmed=!1;var C,x="";t.blockSmsBtn=!1,t.phoneError=!1;var k={removalDelay:200,key:"pAnswer",items:{},type:"inline",closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',closeOnBgClick:!(t.confirmNumber=function(n,o){$(".box-popup input").prop("disabled",""),t.phoneError=!1,C=$(":input",e).serialize()+"&"+toSerialize(o),a.cancel(v),""!=(x=e.find(".phone-confirm-input")).val()&&x.val()!=x.attr("data-placeholder")||x.parent().addClass("has-error"),i.post(n,C).then(function(n){"send"==n.data.status&&(t.timeElapsed=!1,t.infoText=n.data.message,a(function(){startTimer(n.data.REMAIN_TIME,".send-counter"),u(n.data.REMAIN_TIME+2)},0)),"wrongCode"==n.data.status&&(t.timeElapsed=!1,t.infoText=n.data.message,n.data.REMAIN_TIME&&startTimer(n.data.REMAIN_TIME,".send-counter")),"already_send"==n.data.status&&(t.timeElapsed=!1,t.infoText=n.data.message,a(function(){startTimer(n.data.REMAIN_TIME,".send-counter"),u(n.data.REMAIN_TIME+2),document.querySelector('input[name="code"]')&&(angular.element(document.querySelector('input[name="code"]')).focus(),angular.element(document.querySelector('input[name="code"]')).get(0).setSelectionRange(0,0))},0)),"maxAttemptsExceed"==n.data.status&&(t.timeElapsed=!1,t.blockSmsBtn=!0,t.infoText=n.data.message,v=a(function(){t.timeElapsed=!0,t.blockSmsBtn=!1},3e3)),"success"==n.data.status&&(t.timeElapsed=!0,t.phoneConfirmed=!0,t.smsConfirmed=!0,r.phoneConfirmed=!0,x=e.find(".phone-confirm-input").val()),"error"===n.data.status&&(t.phoneError=!0,n.data.MESSAGE&&!n.data.POPUP?n.data.MESSAGE.TITLE&&n.data.MESSAGE.TEXT?$(".form-field__error-phone",e).html('<br><div class="form-field__error-title">'+n.data.MESSAGE.TITLE+'</div><p class="form-field__error-text">'+n.data.MESSAGE.TEXT+"</p>"):n.data.MESSAGE.TITLE?$(".form-field__error-phone",e).html('<div class="form-field__error-title">'+n.data.MESSAGE.TITLE+"</div>"):n.data.MESSAGE.TEXT&&$(".form-field__error-phone",e).html('<p class="form-field__error-text">'+n.data.MESSAGE.TEXT+"</p>"):n.data.MESSAGE&&n.data.POPUP?$.magnificPopup.instance.isOpen?(a(function(){$.magnificPopup.close()},100),a(function(){p(n.data.MESSAGE)},500)):p(n.data.MESSAGE):$(".form-field__error-phone",e).html("")),document.querySelector('[name="sessid"]')&&i({method:"POST",url:"/ajax/get_sessid.php"}).then(function(e){$('[name="sessid"]').val(e.data)})},function(){})}),callbacks:{beforeOpen:function(){$("body").addClass("no-scroll")},open:function(){var e=this;window.backendGetForm=!1,a(function(){e.contentContainer[0].className+=" popupIn"},200)},beforeClose:function(){this.contentContainer[0].className+=" popupOut",$("body").removeClass("no-scroll")},afterClose:function(){delete $.magnificPopup.instance.popupsCache.pAnswer}},inline:{markup:""}},S=e.find(".phone-confirm-input").val();t.phoneFilled=S&&S.indexOf("_")<0,t.reconfirm=function(e){13!==(e.keyCode||e.which)||t.phoneConfirmed||a(function(){$(e.currentTarget).parent().find(".elem-btn").click()},0),"_"!=(S=$(e.currentTarget).val()).substr(S.length-1)&&(x!=S?(t.phoneConfirmed=!1,r.phoneConfirmed=!1):""!=S&&x==S&&(t.phoneConfirmed=!0,
r.phoneConfirmed=!0)),t.phoneFilled=S&&S.indexOf("_")<0}}]),angular.module("ctrl.dzCtrl",[]).controller("dzCtrl",["$element","$scope","$timeout","$attrs",function(e,t,i,n){var a,o=n.url,r=n.maxFiles?n.maxFiles:1,s=n.maxSize?n.maxSize:1024,l=n.fileName?n.fileName:"file",c=n.iconPath?window.stp+n.iconPath:window.stp+"images/required/files.svg",d=n.subText?n.subText:"",u=n.mainText?'<span class="file-message"><span class="with-sub-text" data-subtext="'+d+'">'+n.mainText+"</span></span>":'<span class="file-message"><span class="hidden-xs with-sub-text" data-subtext="'+d+'">Перетащите сюда или <span class="color-blue">загрузите</span> файлы</span><span class="visible-xs color-blue">Загрузите файл</span></span>',p=null;if(n.accept&&(p=n.accept),1<r)for(var h=0;h<r;h++)$("<input />").attr("type","hidden").attr("name",l+"["+h+"]").appendTo(e);else e.children("[name="+l+"]").length||$("<input />").attr("type","hidden").attr("name",l).appendTo(e);e.attr("required")&&e.children("input[type='hidden']").first().attr("required",""),e.children(".elem-dropzone__error").length||$('<div class="elem-dropzone__error" />').appendTo(e),t.dzOptions={url:o,paramName:"file",maxFilesize:s,maxFiles:r,acceptedFiles:p,addRemoveLinks:!0,dictRemoveFile:"Удалить файл",dictDefaultMessage:'<img src="'+c+'" class="file-icon">'+u,dictMaxFilesExceeded:"Возможно загрузить файлов: "+r+" шт.",dictFileTooBig:"Этот файл больше "+s+" Мб",dictInvalidFileType:"Неверный формат файла"},t.dzCallbacks={uploadprogress:function(e,t){$(".dz-preview").not(".dz-complete").addClass("has-loader"),100===t&&$(".dz-preview").removeClass("has-loader")},totaluploadprogress:function(e){$("button[type='submit']").attr("disabled","disabled"),100===e&&i(function(){$("button[type='submit']").removeAttr("disabled")},1e3)},addedfile:function(i){if(e.hasClass("search")&&$("body").addClass("has-loader"),e.removeClass("has-error"),e.children(".elem-dropzone__error").text(""),t.newFile=i,e.children(".dz-default").length&&e.children(".dz-default").remove(),angular.isDefined(n.accept)&&n.accept.indexOf(i.type)<0||!i.type)return e.children(".elem-dropzone__error").text("Неверный формат файла."),t.removeNewFile(),$("body").removeClass("has-loader"),!1;if(i.size/1048576>parseFloat(s)){var a="Размер файла превышает "+s+" MB";return e.children(".elem-dropzone__error").text(a),t.removeNewFile(),$("body").removeClass("has-loader"),!1}},maxfilesexceeded:function(){e.children(".elem-dropzone__error").text(""),e.children(".elem-dropzone__error").text("Возможно загрузить файлов: "+r+" шт."),t.removeNewFile()},success:function(t,n){if((a=JSON.parse(n)).error&&"y"==a.error.max_file_size&&i(function(){$(t.previewElement).find(".dz-error-message").text("Превышен размер файла"),$(t.previewElement).removeClass("dz-success").addClass("dz-error")},100),a.file_id)if(t.file_id=a.file_id,1<r){for(var o=0;o<r;o++)if(""==e.children('[name="'+l+"["+o+']"]').val()){e.children('[name="'+l+"["+o+']"]').val(a.file_id);break}}else e.children('[name="'+l+'"]').val(a.file_id);else a.REDIRECT_URL&&($("body").addClass("has-loader"),location.href=a.REDIRECT_URL)},removedfile:function(t){if(t.file_id){if(1<r){for(var i=0;i<r;i++)if(e.children('[name="'+l+"["+i+']"]').val()==t.file_id){e.children('[name="'+l+"["+i+']"]').val("");break}}else e.children('[name="'+l+'"]').val("");e.children(".elem-dropzone__error").text("")}}},t.dzMethods={},t.removeNewFile=function(){t.dzMethods.removeFile(t.newFile)},$(".dz-remove",e).click(function(){$(this).closest(".dz-default").remove(),e.children('[name="'+l+'"]').val("")}),t.$on("dropFiles",function(t,i){if(e.children(".dropzone").children(".dz-preview").remove(),1<r)for(var n=0;n<r;n++)e.children('[name="'+l+"["+n+']"]').val("");else e.children('[name="'+l+'"]').val("");Dropzone.forElement(".dropzone").files=[],e.children(".elem-dropzone__error").text("")})}]),angular.module("srv.favSrv",[]).factory("favSrv",[function(){return{ids:[]}}]),angular.module("srv.cartSrv",[]).factory("cartSrv",[function(){return{model:{items:{},totalBasketPrice:0,totalBasketQuantity:0,showFreeDelivery:!1,freeDeliveryMinPrice:1990}}}]),angular.module("srv.formSrv",[]).factory("formSrv",[function(){return{data:{},isEdit:!1,cardNum:"",phoneConfirmed:!1}}]),angular.module("srv.mapSrv",[]).factory("mapSrv",["$window",function(e){return{mapObj:[],pointChecked:!1,pointInfo:"",pointID:null,mapInPopup:!1,saveToLocalStorage:function(t,i){e.localStorage.setItem(t,JSON.stringify(i))},getFromLocalStorage:function(t){return JSON.parse(e.localStorage.getItem(t))}}}]),angular.module("srv.scrollAndResizeListener",[]).service("scrollAndResizeListener",function(e,t,i){function n(){var e=t[0].documentElement.clientHeight,i=t[0].documentElement.clientWidth;for(var n in s)s.hasOwnProperty(n)&&s[n](e,i)}var a,o,r=0,s={};return e.addEventListener("scroll",function(){i.cancel(a),a=i(n,200)}),e.addEventListener("resize",function(){i.cancel(o),o=i(n,200)}),{bindListener:function(e){var t=++r;return s[r]=e,function(){delete s[t]}}}}),angular.module("fltr.separatorFltr",[]).filter("separatorFltr",[function(){return function(e){if(void 0!==e)return e.replace(/,/g," ");console.warn("value of separatorFltr is undefined")}}]),angular.module("fltr.orderObjBy",[]).filter("orderObjBy",[function(){return function(e,t,i){var n=[];return angular.forEach(e,function(e){n.push(e)}),n.sort(function(e,i){var n=e.SORT,a=i.SORT;return n&&n===a?e[t]>i[t]?1:-1:n<a?-1:a<n?1:0}),i&&n.reverse(),n}}]);